{"version":3,"sources":["reportWebVitals.js","constants/permissions.js","components/Gate.js","@adminlte/Sidebar/NavTree.jsx","@adminlte/Sidebar/NavItem.jsx","@adminlte/adminlte/Content/Footer.jsx","constants/version.js","constants/actions.js","utils/version.js","store/actions/version.js","components/version/index.js","constants/routes.js","@adminlte/AdminLTE.jsx","logo.svg","components/Notification.jsx","@adminlte/adminlte/Content/ContentHeader.jsx","@adminlte/adminlte/Content/ActiveLink.jsx","@adminlte/adminlte/Content/index.jsx","@adminlte/adminlte/Content/Page.jsx","utils/functions.js","components/composants/journal/NameOfDay.js","components/composants/journal/DateInterval.js","components/composants/journal/Items.js","filters/getByRangeDate.js","filters/flatify.js","utils/crud/actionTypesFor.js","utils/crud/utils/makeScope.js","utils/crud/utils/assertNotArray.js","utils/crud/actionCreatorsFor.js","utils/crud/getDefaultConfig.js","utils/crud/constants.js","utils/crud/reducers/common/reducersFor.js","utils/crud/reducers/invariants.js","utils/crud/reducers/list/store/remove.js","utils/crud/utils/wrapArray.js","utils/crud/reducers/list/store.js","utils/crud/reducers/list/store/assert.js","utils/crud/reducers/list/store/merge.js","utils/crud/reducers/list/invariants.js","utils/crud/reducers/list/create/error.js","utils/crud/reducers/common/create/start.js","utils/crud/reducers/list/create/start.js","utils/crud/reducers/list/create/success.js","utils/crud/utils/findByKey.js","utils/crud/reducers/list/delete/error.js","utils/crud/reducers/common/delete/start.js","utils/crud/reducers/list/delete/start.js","utils/crud/reducers/list/delete/success.js","utils/crud/utils/assertAllHaveKeys.js","utils/crud/reducers/list/fetch/success.js","utils/crud/reducers/list/get/success.js","utils/crud/reducers/common/update/error.js","utils/crud/reducers/list/update/error.js","utils/crud/reducers/common/update/start.js","utils/crud/reducers/list/update/start.js","utils/crud/reducers/list/update/success.js","utils/crud/reducers/list/reducersFor.js","utils/crud/reducers/list.js","utils/crud/reducers/map/store.js","utils/crud/reducers/map/store/assert.js","utils/crud/reducers/map/store/merge.js","utils/crud/reducers/map/store/remove.js","utils/crud/reducers/map/invariants.js","utils/crud/reducers/map/create/error.js","utils/crud/reducers/map/create/start.js","utils/crud/reducers/map/create/success.js","utils/crud/reducers/map/delete/error.js","utils/crud/reducers/map/delete/start.js","utils/crud/reducers/map/delete/success.js","utils/crud/reducers/map/get/success.js","utils/crud/reducers/map/fetch/success.js","utils/crud/reducers/map/update/error.js","utils/crud/reducers/map/update/start.js","utils/crud/reducers/map/update/success.js","utils/crud/reducers/map/reducersFor.js","utils/crud/reducers/map.js","utils/crud/index.js","utils/api.js","utils/lib/actions.js","utils/lib/reducer.js","utils/lib/call.js","store/actions/commandes.js","components/composants/journal/NoItems.js","components/composants/journal/MenuTdb.js","App.jsx","components/ApprovItem.jsx","store/basket/actions/stock.js","components/Approv.jsx","utils/form/field/components/TextInput.jsx","utils/form/field/components/RadioButton.jsx","utils/form/field/components/SelectButton.jsx","utils/form/field/components/TextareaInput.jsx","utils/form/field/components/TagInput.jsx","utils/form/field/components/DateInput.jsx","utils/form/field/components/SelectObject.jsx","utils/form/field/components/RadioObject.jsx","utils/form/field/components/RadioProduct.jsx","utils/form/field/components/PasswordInput.jsx","utils/form/field/components/CheckBoxInput.jsx","utils/form/field/components/NumberInput.jsx","utils/form/field/Field.js","utils/form/index.js","components/composants/AddProd.jsx","components/composants/Approvis/detail.jsx","utils/admin/DataTable.js","components/composants/Approvis/DeleteApprov.js","components/composants/Approvis/list.jsx","store/actions/approv.js","components/composants/BSortie.jsx","store/basket/constants.js","filters/searchByName.js","components/fromDepot/DeleteFromDepot.js","components/composants/Credit.jsx","components/composants/CreditVaccinateur.jsx","components/composants/Detail.jsx","components/composants/DetailSortie.jsx","components/composants/Direct.jsx","components/composants/Journal.jsx","components/composants/ParametrageSuppl.jsx","components/composants/Perime.jsx","store/actions/products.js","components/composants/product/validation.js","components/composants/product/Guide.jsx","utils/admin/Resource/Success.jsx","utils/admin/Resource/Error.jsx","components/composants/product/create.jsx","components/composants/product/detail.jsx","components/composants/product/edit.jsx","utils/admin/Resource/Drop.jsx","utils/admin/Nav.js","utils/admin/Resource/CrudAction.jsx","components/composants/product/ProductAll.jsx","components/composants/ProductByCategory.jsx","components/composants/ProductByFournisseur.jsx","components/composants/Rupture.jsx","components/Entree.jsx","constants/roles.js","store/actions/user.js","store/approvis/constants.js","components/Header.jsx","store/approvis/actions/approvis.js","hooks/useApprov.js","components/composants/Approvis/ProductItemApprov.jsx","components/composants/Approvis/ApprovisionnementItemControl.js","components/composants/Approvis/ApprovisionnementItem.js","store/functions/function.js","components/composants/Approvis/Approvisionnement.js","filters/searchByFournisseur.js","filters/searchByNameAndFournisseur.js","components/FactureProduct.js","components/NouvelleFacture.jsx","components/parametres/category/Categories.jsx","components/parametres/fournisseurs/Fournisseurs.jsx","components/parametres/vaccinateur/Vaccinateurs.jsx","components/parametres/emprunter/Emprunters.jsx","components/Parametres.jsx","components/Sortie.jsx","utils/context/data-context.js","store/fromdepot/constants.js","store/fromdepot/actions/fromdepot.js","components/fromDepot/FromDepotItemControl.js","store/frommagasin/constants.js","store/frommagasin/actions/itanewMagasin.js","hooks/useFromDepot.js","components/fromDepot/FromDepotItem.js","store/functions/function-depot.js","components/fromDepot/EditFromDepotItemControl.js","components/fromDepot/EditFromDepotItem.js","components/composants/vendeur/fromMagasin/block-it.js","components/fromDepot/EditFromDepot.js","components/fromDepot/edit-item.jsx","components/fromDepot/EditSortie.js","store/constants.js","store/actions/search/search.js","components/composants/vendeur/fromMagasin/ItaNewInputDose.jsx","components/composants/vendeur/fromMagasin/SovaxInputDose.jsx","store/frommagasin/actions/frommagasin.js","components/composants/vendeur/fromMagasin/buy-it.js","components/composants/vendeur/fromMagasin/EditFromMag.js","utils/cycle.js","components/jsonEditor/SchemaView.js","components/jsonEditor/Schema.js","components/jsonEditor/constants.js","components/jsonEditor/Scrim.js","components/jsonEditor/trad.js","components/jsonEditor/Editor.js","components/jsonEditor/index.js","components/ChangePrixDate.js","hooks/useScrollTop.js","routes/PublicRoute.jsx","components/auth/validation.js","components/auth/SignIn.jsx","context/auth-context.js","components/auth/SignUp.jsx","routes/VendeurRoute.jsx","store/tomagasin/constants.js","store/tomagasin/actions/tomagasin.js","hooks/useDepotToMagasin.js","components/composants/admin/tomagasin/item.js","components/composants/admin/tomagasin/ToMagItemControl.js","components/composants/admin/tomagasin/ToMagItem.js","components/composants/admin/tomagasin/ToMag.js","components/composants/admin/tomagasin/product.js","components/composants/admin/index.jsx","components/composants/admin/tomagasin/DeleteToMagasin.js","components/composants/admin/tomagasin/list.js","components/composants/vendeur/fromMagasin/DeleteFromMagasin.js","components/composants/vendeur/fromMagasin/Horloge.jsx","components/HeaderVendeur.js","components/composants/vendeur/fromMagasin/list.jsx","components/composants/vendeur/fromMagasinForAdmin/block-it.js","components/composants/vendeur/fromMagasinForAdmin/DeleteFromMagasin.js","components/composants/vendeur/fromMagasinForAdmin/list.jsx","components/composants/admin/etat.jsx","components/composants/admin/magasin-vente.jsx","components/composants/vendeur/fromMagasin/DetailVendeur.jsx","components/composants/vendeur/fromMagasinForAdmin/DetailVendeur.jsx","components/admin/SideBarMenu.jsx","routes/AdminRoute.jsx","components/composants/Approvis/ApprovisionnementEditItemControl.js","components/composants/Approvis/EditApprovisionnementRemise.js","components/composants/Approvis/ApprovisionnementEditItem.js","components/composants/Approvis/EditApprovisionnement.js","components/composants/Approvis/ProductItemEditApprov.jsx","components/composants/Approvis/editer.jsx","components/fromDepot/item.jsx","components/fromDepot/FromDepot.js","components/fromDepot/product.jsx","components/fromDepot/index.js","components/composants/journal/ItemsApprov.js","components/composants/journal/NoItemsApprov.js","components/composants/journal/LastStockApprov.js","components/composants/journal/Facturation.js","components/composants/journal/NoItemsVente.js","components/composants/journal/ItemsVente.js","components/composants/journal/LastStockVente.js","components/composants/journal/VenteCBV.js","components/composants/journal/DepotVersMagasin.js","components/composants/admin/tomagasin/DepotToMagasinDetail.js","components/composants/vendeur/fromMagasin/DetailMagasinVente.js","components/composants/vendeur/fromMagasin/EditFromMagasin.js","components/composants/vendeur/fromMagasinForAdmin/DetailMagasinVente.js","components/composants/vendeur/fromMagasinForAdmin/edit-item.jsx","components/composants/vendeur/fromMagasinForAdmin/EditFromMagasinItemControl.js","components/composants/vendeur/fromMagasinForAdmin/ItaNewInputDose.jsx","components/composants/vendeur/fromMagasinForAdmin/PhytoConditionnementInput.jsx","components/composants/vendeur/fromMagasinForAdmin/SovaxInputDose.jsx","components/composants/vendeur/fromMagasinForAdmin/EditFromMagasinItemPartial.js","components/composants/vendeur/fromMagasinForAdmin/EditFromMagasinItemLitre.js","components/composants/vendeur/fromMagasinForAdmin/EditPhytoConditionnementInput.jsx","components/composants/vendeur/fromMagasinForAdmin/buy-it.js","components/composants/vendeur/fromMagasinForAdmin/EditItem.js","components/composants/vendeur/fromMagasinForAdmin/EditFromMag.js","components/composants/vendeur/fromMagasinForAdmin/EditFromMagasin.js","components/composants/admin/tomagasin/EditToMagItemControl.js","components/composants/admin/tomagasin/EditItem.js","components/composants/admin/tomagasin/EditTo.js","components/composants/admin/tomagasin/edit-item.jsx","components/composants/admin/tomagasin/EditToMagasin.js","hooks/useFromMagasin.js","components/composants/vendeur/fromMagasin/item.jsx","components/composants/vendeur/fromMagasin/FromMagasinItemControl.js","components/composants/vendeur/fromMagasin/FromMagasinItemPartial.js","components/composants/vendeur/fromMagasin/PhytoConditionnementInput.jsx","components/composants/vendeur/fromMagasin/FromMagasinItemLitre.js","components/composants/vendeur/fromMagasin/FromMagasinItem.js","constants/lang.js","components/composants/vendeur/fromMagasin/FromMagasin.js","components/composants/vendeur/fromMagasin/product.jsx","components/composants/vendeur/index.jsx","components/composants/vendeur/correction/item.jsx","components/composants/vendeur/correction/FromMagasinItemControl.js","components/composants/vendeur/correction/FromMagasinItemPartial.js","components/composants/vendeur/correction/ItaNewInputDose.jsx","components/composants/vendeur/correction/PhytoConditionnementInput.jsx","components/composants/vendeur/correction/SovaxInputDose.jsx","components/composants/vendeur/correction/FromMagasinItemLitre.js","components/composants/vendeur/correction/FromMagasinItem.js","components/composants/vendeur/correction/FromMagasin.js","components/composants/vendeur/correction/CorrectionFromMagasin.js","components/composants/vendeur/correction/list.jsx","components/composants/vendeur/correction/DetailCorrection.jsx","components/parametres/fournisseurs/validation.js","components/parametres/fournisseurs/AddFournisseur.jsx","components/parametres/fournisseurs/EditFournisseur.jsx","components/parametres/category/validation.js","components/parametres/category/AddCategory.jsx","components/parametres/category/EditCategory.jsx","components/parametres/emprunter/validation.js","components/parametres/emprunter/AddEmprunter.jsx","components/parametres/emprunter/EditEmprunter.jsx","components/parametres/vaccinateur/validation.js","components/parametres/vaccinateur/AddVaccinateur.jsx","components/parametres/vaccinateur/EditVaccinateur.jsx","components/composants/vendeur/fromMagasinForAdmin/item.jsx","components/composants/vendeur/fromMagasinForAdmin/FromMagasinItemControl.js","components/composants/vendeur/fromMagasinForAdmin/FromMagasinItemPartial.js","components/composants/vendeur/fromMagasinForAdmin/FromMagasinItemLitre.js","components/composants/vendeur/fromMagasinForAdmin/FromMagasinItem.js","components/composants/vendeur/fromMagasinForAdmin/FromMagasin.js","components/composants/vendeur/fromMagasinForAdmin/Horloge.jsx","components/composants/vendeur/fromMagasinForAdmin/product.jsx","components/composants/vendeur/fromMagasinForAdmin/index.jsx","components/change-prix/validation.js","components/change-prix/Price.js","components/change-prix/index.js","components/composants/vendeur/etat.js","components/composants/DeleteAtUpdate.js","components/composants/OpCommandes.jsx","Routes.jsx","store/index.js","store/reducers/products.js","store/reducers/user.js","store/reducers/commandes.js","store/reducers/fournisseur.js","store/reducers/emprunteurs.js","store/reducers/vaccinateurs.js","store/reducers/category.js","store/reducers/approvis.js","store/reducers/parametres.js","store/basket/reducers/checkout.js","store/reducers/sortiedepot.js","store/reducers/index.js","store/reducers/commund.js","store/reducers/search/search.js","store/reducers/undoTest.js","store/basket/reducers/basket.js","store/approvis/reducers/approvis.js","store/fromdepot/reducers/fromdepot.js","store/reducers/stock.js","store/tomagasin/reducers/tomagasin.js","store/frommagasin/reducers/frommagasin.js","store/reducers/version.js","components/Ping.js","components/version/VersionModal.js","theme.js","index.jsx"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ROLES","SCOPES","canShowDashboard","canShowFactureProducts","canShowFactures","canShowProducts","canShowDepot","canShowBonDeSortie","canShowHistoriqueDeSortie","canShowCredit","canShowVaccinateur","canShowMagasin","canShowDepotVersMagasin","canHistoriqueDeDM","canShowCorrection","canAddCorrection","canShowHistoriqueDeCorrection","canShowVente","canShowEffectuerUneVente","canShowEtatDeStockMagasin","canShowHistoriqueDeVenteDuMagasin","canShowVenteCredit","canShowParameter","canShowCategory","canShowFournisseur","canShowDemandeurCredit","canShowVaccinateurs","canShowDetailFactures","canShowEditFacture","canShowAddFacture","canShowDeleteFacture","canShowDetailProduit","canShowEditProduit","canShowAddProduit","canShowDeleteProduit","canShowDetailCreditDepot","canShowEditCreditDepot","canShowAddCreditDepot","canShowDeleteCreditDepot","canShowDetailVaccinateurCreditDepot","canShowEditVaccinateurCreditDepot","canShowAddVaccinateurCreditDepot","canShowDeleteVaccinateurCreditDepot","canShowDetailHistoricDeSortieDepot","canShowEditHistoricDeSortieDepot","canShowAddHistoricDeSortieDepot","canShowDeleteHistoricDeSortieDepot","canCreateCategory","canEditCategory","canDeleteCategory","canViewCategory","canCreateEmprunter","canEditEmprunter","canDeleteEmprunter","canViewEmprunter","canCreateFournisseurs","canEditFournisseurs","canDeleteFournisseurs","canViewFournisseurs","canCreateVaccinateur","canEditVaccinateur","canDeleteVaccinateur","canViewVaccinateur","canCreate","canEdit","canDelete","canView","PERMISSIONS","canShowDetailVaccinateur","canShowEditVaccinateur","canShowAddVaccinateur","canShowDeleteVaccinateur","Gate","children","scopes","permissionGranted","permissions","scopesMap","forEach","scope","some","permission","hasPermission","NavTree","title","route","isActive","useLocation","pathname","class","as","NavLink","to","NavItem","useState","href","className","style","display","Footer","VERSION_STATUS","version","REGISTER_SUCCESS","REGISTER_FAIL","LOGIN_SUCCESS","LOGIN_FAIL","LOGOUT","UPDATE_STOCK_REQUEST_SUCCESS","UPDATE_STOCK_REQUEST_FAIL","SET_VERSION_INFO","SET_IGNORE_VERSION","compareVer","currentVer","targetVer","console","log","fix","s","toLowerCase","charCodeAt","replace","split","c","Math","max","length","i","getVersionInfo","Promise","resolve","reject","axios","get","v","data","catch","err","setVersionInfo","versionInfo","type","payload","memo","ModalActions","toggleModal","modifyOkModal","useSelector","state","dispatch","useDispatch","setTitle","useEffect","status","onClick","showModal","TDB_DEPOT_VERS_MAGASIN","TDB_VENTE_CBV","TDB_FACTURES","CREATEPRODUCT","PRODUCTS","PERIME","RUPTURE","CREDIT","CREDITVACCINATEUR","DIRECT","PARAMETRES","PRODUCTBYFOURNISSEUR","PRODUCTBYCATEGORY","ENTREE","SORTIE","BONDESORTIE","NOUVELLEFACTURE","LISTAPPROV","SIGNIN","SIGNUP","ADMIN","HISTORIQUESORTIECVA","HISTORIQUEVENTEVENDEURVUEPARADMIN","ETATSTOCKMAGASIN","CORRECTION","HISTORIQUECORRECTION","FOURNISSEURS","ADD_FOURNISSEUR","CATEGORIES","ADD_CATEGORIES","EMPRUNTEURS","ADD_EMPRUNTEUR","VACCINATEURS","ADD_VACCINATEUR","HISTORIQUEVENTEVENDEUR_ADMIN","AdminLTE","this","props","navigation","homeTo","titleShort","searchbarFilter","position","top","right","maxHeight","overflow","role","React","PureComponent","defaultProps","browserTitle","theme","footer","sidebar","undefined","Notification","ContentHeader","history","useHistory","goBack","reactFastCompare","ActiveLink","Content","Page","displayDate","timestamp","date","Date","day","getDate","monthIndex","getMonth","year","getFullYear","displayMoney","n","Intl","NumberFormat","currency","format","strOp","str","toString","checkHasExistText","text","textCheck","includes","NameOfDay","DateInterval","weekday","toLocaleString","weekdayNumber","height","Items","flat","id","gr","quantityb","quantityc","quantitycond","orderItem","filter","f","lastElement","value","hasOwnProperty","quantityBruteCVA","quantityCCCVA","valuecc","valuel","map","item","quantityParProduct","reduce","prev","curr","qttByCC","qttbylitre","price","prixVente","getByRangeDate","dateKey","startDate","endDate","d","moment","isBetween","flatify","attribute","Set","concat","o","snakeCase","require","trim","addGroup","resource","actionTypes","group","config","upperResource","toUpperCase","upperGroup","start","success","error","startAlias","successAlias","errorAlias","addAlias","actionTypesFor","Error","makeScope","reducerName","resourceName","record","is","Array","TypeError","actionCreatorsFor","key","getDefaultConfig","merge","assertError","actionCreatorName","invariant","assertOneRecord","assertNotArray","getStart","getSuccess","records","getError","fetchStart","fetchSuccess","assertManyRecords","fetchError","createStart","createSuccess","clientGeneratedKey","cid","createError","name","updateStart","updateSuccess","updateError","deleteStart","deleteSuccess","deleteError","DEFAULT_KEY","STORE_LIST","STORE_MAP","REDUCER_NAMES","CREATE_ERROR","CREATE_START","CREATE_SUCCESS","DELETE_ERROR","DELETE_START","DELETE_SUCCESS","FETCH_SUCCESS","GET_SUCCESS","UPDATE_ERROR","UPDATE_START","UPDATE_SUCCESS","SPECIAL_KEYS","BUSY","CLIENT_GENERATED_ID","DELETED","PENDING_CREATE","PENDING_UPDATE","reducersFor","args","emptyState","reducers","defaults","constants","action","invariants","baseArgs","extraArgs","assertValidStore","current","canBeArray","remove","addedRecord","recordKey","wrapArray","recordOrRecords","assert","recordMap","indexMap","newRecords","slice","index","recordId","push","invariantsList","invariantArgs","store","prepareRecord","recordStatus","findByKey","collection","find","haskey","has","all","dissoc","baseReducers","done","updatedCollection","deleteRecord","omit","deleteId","existingRecord","assertAllHaveKeys","updatedRecord","newRecord","deps","commonReducersFor","Object","invariantsMap","addedRecordKey","addedRecordKeyLens","lensProp","currentWithoutClientGeneratedKey","set","mergeValues","indexBy","prop","List","Map","createBrowserHistory","process","API_URL","Accept","localStorage","getItem","code","message","request","interceptors","response","use","_","isUndefined","api","method","url","hasFile","variables","promise","formData","headers","params","errors","toast","transformKeys","json","items","singular","humps","camelizeKeys","fetchSuccessRequest","totalItems","totalPages","currentPage","objectOrArray","isArray","receivedAt","getSuccessRequest","resourceId","options","successCallback","errorCallback","actionCreators","reduxCrud","path","decamelize","reduxCrudOptions","fetch","create","update","body","join","destroy","metaInitialState","isFetching","lastUpdatedAt","metaFor","crud","isLoading","createFailed","updateFailed","destroyStart","destroySuccess","destroyFailed","didInvalidate","itemsFor","combineReducers","meta","model","getWithPath","getNoParams","setItems","createTransaction","updateData","updateTransaction","deleteTransaction","getData","values","getTdbCommande","deb","fin","getTdbCommandeByProducts","getCommandeCVA","NoItems","MenuTdb","location","App","isoWeekday","startOf","end","endOf","rangeDate","setRangeDate","setRangeMonth","startofDate","setStartofDate","setEndDate","dateRange","onChangeDateRange","byDateProduct","setByDateProduct","commandes","now","clone","dates","isSameOrBefore","add","getDaysBetweenDates","months","diff","getAllMonthBetweenDates","subkey","res","r","category","fournisseur","temp","parseInt","sort","a","b","flato","groupedBasket","result","currentValue","locale","onChange","width","condval","colSpan","ApprovItem","product","selected","setSelected","setValue","border","boxShadow","quantityBrute","min","newStockBrute","newStockCC","post","productId","updateStockSuccess","nextId","contenu","sorte","vaccinateurId","qtteBrute","qtteCC","emprunterId","dateCom","Approv","products","p","TextInput","forwardRef","ref","icon","setData","placeholder","changeValue","invalid","handleChange","useCallback","event","test","target","isFunction","bg","isInvalid","color","defaultValue","onBlur","RadioButton","radioValue","valueKey","direction","setRadio","inputProps","radioValueData","setRadioValue","useLayoutEffect","spacing","isChecked","SelectButton","selectValue","isNumeric","emptyValue","isRequired","Number","defaultChecked","TextareaInput","TagInput","tags","changed","setChanged","tagsData","setTagsData","onDelete","tagIndex","onAddition","newTag","Input","suggestions","DateInput","SelectObject","isFieldArray","objectKey","inArray","debug","array","setObjectId","RadioObject","masterKey","filtrable","callback","option","variant","colorScheme","size","RadioCard","useRadio","getInputProps","getCheckboxProps","input","checkbox","cursor","borderWidth","borderRadius","_checked","borderColor","_focus","px","py","RadioProduct","useRadioGroup","getRootProps","getRadioProps","radio","PasswordInput","CheckBoxInput","label","defaultIsChecked","NumberInputComponent","inputMode","step","generateField","FormComponent","labelSize","labelWeight","tip","info","isBool","optional","half","otherProps","labelText","setLabelText","justifyContent","alignItems","fontSize","fontWeight","mb","mr","htmlFor","placement","small","my","fontStyle","Radio","Select","Textarea","Tag","Password","Checkbox","Form","validate","validations","enableReinitialize","validationSchema","validateOnChange","validateOnBlur","Element","noValidate","Field","mapValues","FieldComponent","field","form","touched","setFieldValue","initialValues","getFieldValues","AddProd","useParams","fournisseurs","categories","onSubmit","DetailApprov","approv","Card","Header","dateApprov","Body","NumberToLetter","total","dateEcheance","remarque","app","prixFournisseur","displayType","thousandSeparator","suffix","renderText","remise","typePaye","DefaultColumnFilter","column","filterValue","preFilteredRows","setFilter","e","GlobalFilter","preGlobalFilteredRows","globalFilter","setGlobalFilter","useAsyncDebounce","w","DataTable","columns","addUrl","urlName","paginate","guide","DataTableData","colspan","defaultColumn","useMemo","Filter","useTable","initialState","pageIndex","pageSize","useFilters","useGlobalFilter","useSortBy","usePagination","getTableProps","getTableBodyProps","headerGroups","prepareRow","rows","page","canPreviousPage","canNextPage","pageOptions","gotoPage","pageCount","nextPage","previousPage","setPageSize","headerGroup","getHeaderGroupProps","getHeaderProps","getSortByToggleProps","render","isSorted","isSortedDesc","textAlign","backgroundColor","padding","row","getRowProps","cells","cell","getCellProps","disabled","DeleteApprov","entity","preventDefault","window","confirm","ListApprov","setDeb","setFin","approvisionnements","useRef","getApprov","accessor","Cell","original","low","high","BSortie","SET_BASKET_ITEMS","ADD_TO_BASKET","REMOVE_FROM_BASKET","CLEAR_BASKET","ADD_QTY_ITEM","MINUS_QTY_ITEM","ADD_QTY_PORTION_ITEM","MINUS_QTY_PORTION_ITEM","SET_CHECKOUT_SHIPPING_DETAILS","SET_CHECKOUT_PAYMENT_DETAILS","RESET_CHECKOUT","copy","object","output","searchByName","query","el","DeleteFromDepot","Credit","calculateTotal","arr","quantityParProductDepot","getCredit","isdeleted","deletedat","background","CreditVaccinateur","quantiteBruteTotal","withRouter","commande","vaccinateur","contact","emprunter","setPayerCommande","Direct","toFixed","createdAt","Journal","refDateDeb","refDateFin","getCommande","acc","val","totalDevente","prixParCC","filteredCommande","recetteDuJour","ParametrageSuppl","parametres","nb_mois","nbMois","nb_produit","nbProduits","nb_produits","Perime","datePer","Yup","shape","required","Success","MdError","msg","Create","metacategories","metafournisseurs","doseDefault","prixlitre","prixVaccinateur","uniteMesure","fournisseurId","qttyspecificmirror","categoryId","quantityCC","condml","conditionnement","qttccpvente","prixqttccvente","condsize","parseFloat","refSortie","refQtSortie","qttByCCDepot","condmldepot","condvaldepot","qttccpventedepot","prixqttccventedepot","condsizedepot","doseRestantEnMg","correction","correctionml","correctionl","correctiontml","correctiontl","correctiontype","remisePerProduct","DetailProduct","Edit","proda","setProda","qttCcPVente","setQttCcPVente","prixQttCcVente","setPrixQttCCVente","setFormVal","setFlac","updatedAt","Drop","Nav","CrudAction","edit","detail","modelKey","ProductAll","ProductByCategory","setId","fetchProductsByCategory","ProductByFournisseur","fetchProductsByFournisseur","Rupture","Entree","quantiteCCTotal","getEntree","Button","ROLE_VENDEUR","SIGNUP_URL","SET_APPROV_ITEMS","SIGNIN_URL","Fragment","ADD_TO_APPROV","REMOVE_FROM_APPROV","CLEAR_APPROV","ADD_QTY_APPROV_ITEM","MINUS_QTY_APPROV_ITEM","ADD_NUMBER_QTY_ITEM","ADD_QTY_NUMBER_APPROV_ITEM","ADD_REMISE_PER_PRODUCT","ADD_REMISE_PER_PRODUCT_PERCENT","clearApprov","setRemisePerProduct","useApprov","approvisionnement","isItemOnApprov","addToApprov","removeFromApprov","dispatchAddToApprov","ProductItemApprov","handleAddToApprov","ListGroup","Item","Row","Col","xs","ApprovisionnementItemControl","onAddQtyBrute","setQtyApprovItem","ApprovisionnementItem","itemOnApprov","isSpecialProductHandle","calculeTotalAvecRemise","Approvisionnement","setRegenerate","setRemise","setDateEcheance","dateApprovis","setDateApprovis","setRemarque","setTypePaye","getContenu","approvis","element","totalht","searchByFournisseur","searchByNameAndFournisseur","FactureProduct","productData","setProductData","regenerate","renderProduct","debouce","onKeyDown","keyCode","overflowY","overflowX","NouvelleFacture","debounce","Container","Categories","Fournisseurs","Vaccinateurs","vaccinateurs","Emprunters","emprunteurs","Parametres","emprunters","categoriesMeta","fournisseursMeta","vaccinateursMeta","empruntersMeta","Tab","defaultActiveKey","Link","eventKey","sm","Pane","Sortie","getSortie","GetDataContext","createContext","GetAll","Provider","Data","Consumer","context","SET_FROM_DEPOT_ITEMS","ADD_FROM_DEPOT","REMOVE_FROM_TO_DEPOT","CLEAR_FROM_DEPOT","ADD_QTY_FROM_DEPOT_ITEM","ADD_QTY_PORTION_FROM_DEPOT_ITEM","ADD_QTY_NUMBER_FROM_DEPOT_ITEM","ADD_QTY_PORTION_DOSE_UTA_NEW_FROM_DEPOT_ITEM","ADD_QTY_PORTION_DOSE_SOVAX_FROM_DEPOT_ITEM","ADD_QTY_PORTION_PHYTO_COND_FROM_DEPOT_ITEM","MINUS_QTY_PORTION_PHYTO_COND_FROM_DEPOT_ITEM","clearFromDepot","FromDepotItemControl","setRealQtt","setRealQttCC","realQtt","realQttCC","setQtyFromDepotItem","isEnough","alert","SET_FROM_MAGASIN_ITEMS","ADD_FROM_MAGASIN","REMOVE_FROM_TO_MAGASIN","CLEAR_FROM_MAGASIN","ADD_QTY_FROM_MAGASIN_ITEM","ADD_QTY_PORTION_FROM_MAGASIN_ITEM","ADD_QTY_NUMBER_FROM_MAGASIN_ITEM","ADD_QTY_PORTION_DOSE_UTA_NEW_FROM_MAGASIN_ITEM","ADD_QTY_PORTION_DOSE_SOVAX_FROM_MAGASIN_ITEM","ADD_QTY_PORTION_PHYTO_COND_FROM_MAGASIN_ITEM","MINUS_QTY_PORTION_PHYTO_COND_FROM_MAGASIN_ITEM","ADD_QTY_LITRE_NUMBER_FROM_MAGASIN_ITEM","ADD_TO_QTT_BRUTE","addQtyFromMagasinDoseItem","addQtyFromMagasinSovaxItem","addQtyFromMagasinPhytoCondItem","useFromDepot","fromdepot","isItemFromDepot","addFromDepot","removeFromDepot","dispatchAddFromDepot","FromDepotItem","fromdepots","itemOnBasket","canBuyBruteFromDepot","cantBuyBruteFromDepot","isBiggerThanLastQuantityCCDepot","getRestQuantityCCWhenOrderIsBiggerThanLastQuantityCCDepot","minusQuantityBruteWhenQttCcIsEmptyDepot","reinitQuantityCCDepot","handleSoldQuantityCCDepot","isSameOfLastQuantityCCDepot","minusQuantityCcDepot","minusCondMLDepot","hasCondValDepot","minusCondValWhenQttCcIsEmptyDepot","canBuyCCFromDepot","EditFromDepotItemControl","setState","temp_state","updateObjectValue","EditFromDepotItem","isBlocked","productItem","locked","elements","EditFromDepot","setType","setVaccinateurId","setEmprunter","realContent","setRealContent","setDateCom","marginTop","marginRight","marginLeft","basket","missing","added","exist","EditProductItemDepot","t","removeProduct","EditSortie","metacommandes","metaproducts","SET_SEARCH_BY_DATE","RESET_SEARCH_BY_DATE","setSearchByDate","resetSearchByDate","ItaNewInputDose","onAddQtyPortion","SovaxInputDose","clearFromMagasin","setQtyFromMagasinItem","setQtyLitreFromMagasinItem","addQtyFromMagasinPortionItem","EditToFromMag","Symbol","iterator","SCHEMA_TYPE_IDENTIFIER","monospace","fontFamily","keyName","SchemaView","expanded","schema","identifier","_isSchemaType","_type","preview","schemaTypeName","schemaElement","onToggleExpanded","toggleExpanded","bind","_elementType","TRIANGLE_EXPANDER_WIDTH","flexDirection","Component","displayName","LeafSchema","ShapeSchema","R","KeyValueSchemaView","readableKeyName","arrow","typeValidator","isArrayOfType","predicate","prototype","call","idx","every","validateSchema","matchesSchemaInner","matchesSchema","maybeRequired","actuallyValidate","something","SchemaType","opts","func","__proto__","createSchemaType","maybeValidate","SchemaTypes","any","string","boolean","function","number","isNaN","getTime","arrayOf","invalidSchemaMessage","badLeaf","keys","match","appendTo","base","BaseClassnames","Editor","ElementRow","AddObjectRow","ColumnTitles","ColumnTitle","EditorInput","privates","WeakMap","rootClick","handler","evt","findDOMNode","contains","onClickScrim","nextProps","document","documentElement","removeEventListener","addEventListener","apply","arguments","traduction","empty","classes","cx","BaseTable","renderObjectColumns","ObjectEditor","trad","trash","onUpdateElement","onRemove","ScrimObjectEditor","Scrim","ArrayEditor","onRemoveElement","updated","addButton","updateObject","rowClasses","ScrimArrayEditor","STRING_INPUT_TYPES","EmptyCell","StringCell","inputClasses","numeric","ObjectCell","open","clickEdit","close","renderEditor","useArrayEditor","editorType","Schema","arrayValue","updatedIndex","$set","droppedIndex","onAddElement","inputType","keyUnityBolus","keyFlacon","primitiveType","CellType","renderCell","newValue","getChangeHandler","JsonEditor","newObject","removedObject","removedIndex","EditorComponent","marginBottom","ChangePrixDate","search","searchbydate","autoClose","useScrollTop","scrollTo","PublicRoute","isAuth","component","rest","from","connect","auth","isLoggedIn","user","username","SignIn","password","AuthContext","Auth","SignUp","notification","borderTop","token","setItem","JSON","stringify","register","mt","VendeurRoute","SET_TO_MAGASIN_ITEMS","ADD_TO_MAGASIN","REMOVE_FROM_MAGASIN","CLEAR_MAGASIN","ADD_QTY_MAGASIN_ITEM","MINUS_QTY_MAGASIN_ITEM","ADD_QTY_NUMBER_MAGASIN_ITEM","clearMagasin","useDepotToMagasin","tomagasin","isItemOnDepotToMagasin","addToMagasin","removeFromMagasin","dispatchAddToMagasin","ProductItem","tomagasins","paddingTop","ToMagItemControl","setQtyMagasinItem","ToMagItem","ToMag","getHours","getMinutes","getSeconds","Products","AdminDashboard","DeleteToMagasin","isDisabled","isModified","HistoriqueSortieCva","getCVA","DeleteFromMagasin","Horloge","hours","minutes","seconds","dateTime","setDateTime","timer","setInterval","clearInterval","HeaderVendeur","HistoriqueVenteVendeur","incrementX","realproduct","qttcc","qtt","qttlitre","moins","moinscond","moinslitre","reste","restelitre","restecond","isValid","dose","floor","mm","mn","mma","x1","decrementX","mna","x2","mns","decrement","blockItis","minitial","initial","initialCom","isSpecific","diffcc","diffl","etat","normalQtt","normalQttCC","normalQttLitre","cmdqtt","cmdqttcc","cmdqttlitre","x","decrementDecrement","DeleteFromMagasinAdmin","HistoriqueVenteVendeurAdmin","EtatStockMagasin","MagasinVente","toggle","setToggle","toggleShow","SideBarMenu","AdminRoute","ApprovisionnementEditItemControl","EditApprovisionnementRemise","ApprovisionnementEditItem","remiseEnAriary","EditApprovisionnement","ProductItemEditApprov","EditerApprov","identif","setIdentif","FromDepot","busy","pendingCreate","handlePhtyoSpecificDepot","fluid","BonDepot","ItemsApprov","NoItemsApprov","LastStockApprov","lastStock","bruteCva","ccCva","last","Facturation","ItemsVente","LastStockVente","VenteCBV","NoItemsVente","DepotVersMagasin","getCorrection","tl","textStyle","datedecorrection","EditFromMagasin","EditProductItemToMag","isEmptyBrute","isEmptyCC","borderLeft","EditFromMagasinItemControl","maxRealQtt","maxRealQttCC","PhytoConditionnementInput","EditFromMagasinItemPartial","onAddQtyByCC","EditFromMagasinItemLitre","setRealQttLitre","realQttLitre","EditPhytoConditionnementInput","EditItem","setMaxRealQtt","setMaxRealQttCC","maxRealQttByLitre","setMaxRealQttByLitre","realpr","realcommande","EditToMagItemControl","stock","realcommand","textTransform","cloneCommandes","realstock","clc","opacity","EditTo","cloneDeep","canMinus","EditToMagasin","commandesclone","useFromMagasin","frommagasin","isItemFromMagasin","addFromMagasin","dispatchAddFromMagasin","frommagasins","FromMagasinItemControl","FromMagasinItemPartial","FromMagasinItemLitre","FromMagasinItem","blockItOnSold","Lang","fromMagasin","emptyOrder","FromMagasin","mireste","diffic","buy","Vendeur","CorrectionFromMagasin","HistoriqueDeCorrection","qttbybrute","CreateFournisseur","EditFournisseur","CreateCategory","EditCategorie","CreateEmprunteur","EditEmprunter","CreateVaccinateur","EditVaccinateur","VendeurAdmin","prices","of","Price","useFormikContext","setValues","arrayHelpers","disc","ChangerPrix","postInfos","lastPriceLitre","newPriceLitre","lastPrice","newPrice","lastPriceCC","newPriceCC","recap","EtatStockCVA","DeleteAtUpdate","OpCommandes","getOperationCommandeCVA","Routes","middleware","getState","desc","versionDefault","ignoreVersion","exact","DetailVendeur","DetailVendeurAdmin","EditFromMagasinAdmin","Detail","DetailSortie","DepotToMagasinDetail","DetailMagasinVente","DetailCorrection","parse","defaultState","shipping","payment","cardnumber","expiry","ccv","count","counter","productReducer","realproducts","categoriesReducer","fournisseursReducer","emprunteurReducer","vaccinateurReducer","commandeReducer","commund","approvisReducer","qttyspecificmirrordepot","checkout","parametreReducer","sortiedepots","sortiedepotReducer","downloadProgress","persistStore","persistedReducer","persistReducer","whitelist","storage","default","routeReducer","createStore","thunkMiddleware","applyMiddleware","persistor","Ping","VersionItem","VersionModal","show","ignoreBtn","setIgnoreBtn","setCloseBtnText","confirmBtn","setConfirmBtn","setTip","useDownloader","percentage","elapsed","download","cancel","isInProgress","ver","handleCancel","handleDownload","Modal","centered","paddingLeft","paddingBottom","extendTheme","fontSizes","lg","fonts","heading","styles","global","lineHeight","components","baseStyle","sizes","xl","h","variants","solid","colorMode","ReactDOM","limit","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","loading","authType","authName","getElementById"],"mappings":"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","file":"static/js/main.95c118b4.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export const ROLES = {\n  admin: \"ADMIN\",\n  vendeurLV1: \"VENDEURLV1\",\n  vendeurLV2: \"VENDEURL2\",\n};\nexport const SCOPES = {\n  canShowDashboard: \"can-view-dashboard\",\n  canShowFactureProducts: \"can-show-facture-products\",\n  canShowFactures: 'can-show-factures',\n  canShowProducts: 'can-show-products',\n  canShowDepot: 'can-show-depot',\n  canShowBonDeSortie: 'can-show-bon-de-sortie',\n  canShowHistoriqueDeSortie: 'can-show-historique-de-sortie',\n  canShowCredit: 'can-show-credit',\n  canShowVaccinateur: 'can-show-vaccinateur',\n  canShowMagasin: 'can-show-magasin',\n  canShowDepotVersMagasin: 'can-show-depot-vers-magasin',\n  canHistoriqueDeDM: 'can-show-historique-de-dm',\n  canShowCorrection: 'can-show-correction',\n  canAddCorrection: 'can-add-correction',\n  canShowHistoriqueDeCorrection: 'can-show-historique-de-correction',\n  canShowVente: 'can-show-vente',\n  canShowEffectuerUneVente: 'can-show-effectuer-une-vente',\n  canShowEtatDeStockMagasin: 'can-show-etat-de-stock-magasin',\n  canShowHistoriqueDeVenteDuMagasin: 'can-show-historique-de-vente-du-magasin',\n  canShowVenteCredit: 'can-show-vente-credit',\n  canShowParameter: 'can-show-parameter',\n  canShowCategory: 'can-show-category',\n  canShowFournisseur: 'can-show-fournisseur',\n  canShowDemandeurCredit: 'can-show-demandeur-credit',\n  canShowVaccinateurs: 'can-show-vaccinateurs',\n  canShowDetailFactures: 'can-show-detail-factures',\n  canShowEditFacture: 'can-show-edit-facture',\n  canShowAddFacture: 'can-show-add-facture',\n  canShowDeleteFacture: 'can-show-delete-facture',\n  canShowDetailProduit: 'can-show-detail-produit',\n  canShowEditProduit: 'can-show-edit-produit',\n  canShowAddProduit: 'can-show-add-produit',\n  canShowDeleteProduit: 'can-show-delete-produit',\n  canShowDetailCreditDepot: 'can-show-detail-credit-depot',\n  canShowEditCreditDepot: 'can-show-edit-credit-depot',\n  canShowAddCreditDepot: 'can-show-add-credit-depot',\n  canShowDeleteCreditDepot: 'can-show-delete-credit-depot',\n  canShowDetailVaccinateurCreditDepot: 'can-show-detail-vaccinateur-credit-depot',\n  canShowEditVaccinateurCreditDepot: 'can-show-edit-vaccinateur-credit-depot',\n  canShowAddVaccinateurCreditDepot: 'can-show-add-vaccinateur-credit-depot',\n  canShowDeleteVaccinateurCreditDepot: 'can-show-delete-vaccinateur-credit-depot',\n  canShowDetailHistoricDeSortieDepot: 'can-show-detail-historic-de-sortie-depot',\n  canShowEditHistoricDeSortieDepot: 'can-show-edit-historic-de-sortie-depot',\n  canShowAddHistoricDeSortieDepot: 'can-show-add-historic-de-sortie-depot',\n  canShowDeleteHistoricDeSortieDepot: 'can-show-delete-historic-de-sortie-depot',\n  //canCreate: \"can-create\",\n  // canEdit: \"can-edit\",\n  // canDelete: \"can-delete\",\n   //canView: \"can-view\",\n  canCreateCategory: \"can-create-category\",\n  canEditCategory: \"can-edit-category\",\n  canDeleteCategory: \"can-delete-category\",\n  canViewCategory: \"can-view-category\",\n  canCreateEmprunter: \"can-create-emprunter\",\n  canEditEmprunter: \"can-edit-emprunter\",\n  canDeleteEmprunter: \"can-delete-emprunter\",\n  canViewEmprunter: \"can-view-emprunter\",\n  canCreateFournisseurs: \"can-create-fournisseurs\",\n  canEditFournisseurs: \"can-edit-fournisseurs\",\n  canDeleteFournisseurs: \"can-delete-fournisseurs\",\n  canViewFournisseurs: \"can-view-fournisseurs\",\n  canCreateVaccinateur: \"can-create-vaccinateur\",\n  canEditVaccinateur: \"can-edit-vaccinateur\",\n  canDeleteVaccinateur: \"can-delete-vaccinateur\",\n  canViewVaccinateur: \"can-view-vaccinateur\",\n  canCreate: \"can-create\",\n  canEdit: \"can-edit\",\n  canDelete: \"can-delete\",\n  canView: \"can-view\",\n};\n\nexport const PERMISSIONS = {\n  [ROLES.admin]: [\n    SCOPES.canShowDashboard,\n    SCOPES.canShowFactureProducts,\n    SCOPES.canShowFactures,\n    SCOPES.canShowProducts,\n    SCOPES.canShowDepot,\n    SCOPES.canShowBonDeSortie,\n    SCOPES.canShowHistoriqueDeSortie,\n    SCOPES.canShowCredit,\n    SCOPES.canShowVaccinateur,\n    SCOPES.canShowMagasin,\n    SCOPES.canShowDepotVersMagasin,\n    SCOPES.canAddCorrection,\n    SCOPES.canShowVente,\n    SCOPES.canShowEffectuerUneVente,\n    SCOPES.canShowEtatDeStockMagasin,\n    SCOPES.canShowHistoriqueDeVenteDuMagasin,\n    SCOPES.canShowVenteCredit,\n    SCOPES.canShowParameter,\n    SCOPES.canShowCategory,\n    SCOPES.canShowFournisseur,\n    SCOPES.canShowDemandeurCredit,\n    SCOPES.canShowVaccinateurs,\n    SCOPES.canShowDetailFactures,\n    SCOPES.canShowEditFacture,\n    SCOPES.canShowAddFacture,\n    SCOPES.canShowDeleteFacture,\n    SCOPES.canShowDetailProduit,\n    SCOPES.canShowEditProduit,\n    SCOPES.canShowAddProduit,\n    SCOPES.canShowDeleteProduit,\n    SCOPES.canShowDetailCreditDepot,\n    SCOPES.canShowEditCreditDepot,\n    SCOPES.canShowAddCreditDepot,\n    SCOPES.canShowDeleteCreditDepot,\n    SCOPES.canShowDetailHistoricDeSortieDepot,\n    SCOPES.canShowEditHistoricDeSortieDepot,\n    SCOPES.canShowAddHistoricDeSortieDepot,\n    SCOPES.canShowDeleteHistoricDeSortieDepot,\n    SCOPES.canShowDetailVaccinateur,\n    SCOPES.canShowEditVaccinateur,\n    SCOPES.canShowAddVaccinateur,\n    SCOPES.canShowDeleteVaccinateur,\n    SCOPES.canShowDetailVaccinateurCreditDepot,\n    SCOPES.canShowEditVaccinateurCreditDepot,\n    SCOPES.canShowAddVaccinateurCreditDepot,\n    SCOPES.canShowDeleteVaccinateurCreditDepot,\n    SCOPES.canCreateCategory,\n    SCOPES.canEditCategory,\n    SCOPES.canDeleteCategory,\n    SCOPES.canCreateFournisseurs,\n    SCOPES.canEditFournisseurs,\n    SCOPES.canDeleteFournisseurs,\n    SCOPES.canCreateEmprunter,\n    SCOPES.canEditEmprunter,\n    SCOPES.canDeleteEmprunter,\n    SCOPES.canCreateVaccinateur,\n    SCOPES.canEditVaccinateur,\n    SCOPES.canDeleteVaccinateur,\n    SCOPES.canHistoriqueDeDM,\n    SCOPES.canShowCorrection,\n    SCOPES.canAddCorrection,\n    SCOPES.canShowHistoriqueDeCorrection,\n\n  ],\n  [ROLES.vendeurLV1]: [],\n  [ROLES.vendeurLV2]: []\n};","import { PERMISSIONS, ROLES } from \"../constants/permissions\";\nconst hasPermission = ({ permissions, scopes }) => {\n  const scopesMap = {};\n  scopes.forEach((scope) => {\n    scopesMap[scope] = true;\n  });\n  return permissions.some((permission) => scopesMap[permission]);\n};\nexport default function Gate({ children, scopes = [] }) {\n  const permissions = PERMISSIONS[ROLES.admin];\n  const permissionGranted = hasPermission({ permissions, scopes });\n  if (!permissionGranted) return <></>;\n  return <>{children}</>;\n}\n","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Link, NavLink, useLocation } from \"react-router-dom\";\nimport Gate from '../../components/Gate';\n\nconst NavTree = ({ title, route, scopes = [] }) => {\n\n  const location = useLocation();\n  const isActive = location.pathname == route;\n\n  return (\n    <Gate scopes={scopes}>\n      <li class=\"nav-item\">\n        <Link as={NavLink} to={route} class={`text-white nav-link ${isActive ? 'active' : ''}`}>\n          <i class=\"far fa-circle nav-icon\"></i>\n          <p>{title}</p>\n        </Link>\n      </li>\n    </Gate>\n  );\n};\n\nexport default NavTree;\n","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Link, NavLink } from \"react-router-dom\";\nimport NavTree from \"./NavTree\";\nimport Gate from '../../components/Gate';\n\nconst NavItem = ({ children, title, scopes = [] }) => {\n  const [isActive, setIsActive] = useState(false);\n  return (\n    <Gate scopes={scopes}>\n      <li\n        as={NavLink}\n        class={`nav-item ${isActive ? \"menu-is-opening\" : null} menu-open`}\n      >\n        <a href=\"#\" class=\"nav-link\">\n          <i class=\"nav-icon fas fa-tachometer-alt\"></i>\n          <p>\n            {title}\n            <i className={`right fas fa-angle-left`}></i>\n          </p>\n        </a>\n        <ul\n          className=\"nav nav-treeview\"\n          style={{ display: `block` }}\n        >\n          {children}\n        </ul>\n      </li>\n    </Gate>\n  );\n};\n\n\nexport default NavItem;\n","import React from \"react\";\n\nfunction Footer() {\n  return (\n    <footer className=\"main-footer bg-dark text-white\">\n      <strong>Copyright &copy; 2021 .</strong>\n      <div className=\"float-right d-none d-sm-inline-block\">\n        Cre par <b>Miray Geek</b>\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n","export const VERSION_STATUS = {\n  checking: 'Checking',\n  latest: 'Latest',\n  downloading: 'Downloading',\n  downloaded: 'Downloaded',\n  unknown: 'Unknown',\n  failed: 'Failed',\n  available: 'Available',\n}\nexport const version = \"1.0\";","export const REGISTER_SUCCESS = \"REGISTER_SUCCESS\";\nexport const REGISTER_FAIL = \"REGISTER_FAIL\";\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const LOGIN_FAIL = \"LOGIN_FAIL\";\nexport const LOGOUT = \"LOGOUT\";\nexport const REFRESH_TOKEN = \"REFRESH_TOKEN\";\nexport const RESET_PASSWORD=\"RESET_PASSWORD\";\nexport const FORGOT_PASSWORD_REQUEST_SUCCESS=\"FORGOT_PASSWORD_REQUEST_SUCCESS\";\nexport const FORGOT_PASSWORD_REQUEST_FAIL=\"FORGOT_PASSWORD_REQUEST_FAIL\";\n\nexport const RESET_PASSWORD_REQUEST_SUCCESS=\"RESET_PASSWORD_REQUEST_SUCCESS\";\nexport const RESET_PASSWORD_REQUEST_FAIL=\"RESET_PASSWORD_REQUEST_FAIL\";\n\nexport const UPDATE_STOCK_REQUEST_SUCCESS=\"UPDATE_STOCK_REQUEST_SUCCESS\";\nexport const UPDATE_STOCK_REQUEST_FAIL=\"UPDATE_STOCK_REQUEST_FAIL\";\n\n\nexport const GET_BENEFICE_SUCCESS=\"GET_BENEFICE_SUCCESS\";\n\nexport const SET_BASKET_RECTIFICATION_ITEMS = 'SET_BASKET_ITEMS_RECTIFICATION';\nexport const ADD_TO_BASKET_RECTIFICATION = 'ADD_TO_BASKET_RECTIFICATION';\nexport const REMOVE_FROM_BASKET_RECTIFICATION = 'REMOVE_FROM_BASKET_RECTIFICATION';\nexport const CLEAR_BASKET_RECTIFICATION = 'CLEAR_BASKET_RECTIFICATION';\nexport const ADD_QTY_ITEM_RECTIFICATION = 'ADD_QTY_ITEM_RECTIFICATION';\nexport const MINUS_QTY_ITEM_RECTIFICATION = 'MINUS_QTY_ITEM_RECTIFICATION';\n\n\nexport const SET_VERSION_INFO = \"SET_VERSION_INFO\";\nexport const SET_IGNORE_VERSION = \"SET_IGNORE_VERSION\";","import axios from 'axios';\nimport {VERSION_STATUS} from '../constants/version'\nexport const compareVer = (currentVer, targetVer) => {\n  console.log('currentVersion',currentVer,'targetVer',targetVer);\n  // treat non-numerical characters as lower version\n  // replacing them with a negative number based on charcode of each character\n  const fix = s => `.${s.toLowerCase().charCodeAt(0) - 2147483647}.`\n\n  currentVer = ('' + currentVer).replace(/[^0-9.]/g, fix).split('.')\n  targetVer = ('' + targetVer).replace(/[^0-9.]/g, fix).split('.')\n  const c = Math.max(currentVer.length, targetVer.length)\n  for (let i = 0; i < c; i++) {\n    // convert to integer the most efficient way\n    currentVer[i] = ~~currentVer[i]\n    targetVer[i] = ~~targetVer[i]\n    if (currentVer[i] > targetVer[i]) return 1\n    else if (currentVer[i] < targetVer[i]) return -1\n  }\n  return 0\n}\nconst sizeFormate = size => {\n  // https://gist.github.com/thomseddon/3511330\n  if (!size) return '0 B'\n  const units = ['B', 'KB', 'MB', 'GB', 'TB']\n  const number = Math.floor(Math.log(size) / Math.log(1024))\n  return `${(size / Math.pow(1024, Math.floor(number))).toFixed(2)} ${units[number]}`\n}\n\nconst temporaryDirectoryPath = () =>{\n  \n}\n\nconst stopDownload = () =>{\n  \n}\nconst downloadFile = () =>{\n  \n}\nconst installExe = () =>{\n\n}\n\nexport const getVersionInfo = (retryNum = 0) => {\n  return new Promise((resolve, reject) => {\n    axios.get(`https://raw.githubusercontent.com/armelgeek/real-veto-react/master/publish/version.json`)\n    .then((v)=> {\n      resolve(v.data)\n    }).catch(err => reject(err));\n  })\n}\n\nexport const downloadNewVersion = async(version, onDownload = noop) => {\n  const url = `https://raw.githubusercontent.com/armelgeek/real-veto-react/master/releases/download/lgbva-v${version}.exe`\n  /**let savePath = temporaryDirectoryPath + '/lx-music-mobile.apk'\n\n  if (downloadJobId) await stopDownload(downloadJobId)\n\n  const { jobId, promise } = downloadFile(url, savePath, {\n    progressInterval: 500,\n    connectionTimeout: 20000,\n    readTimeout: 30000,\n    begin({ statusCode, contentLength }) {\n      onDownload(contentLength, 0)\n      // switch (statusCode) {\n      //   case 200:\n      //   case 206:\n      //     break\n      //   default:\n      //     onDownload(null, contentLength, 0)\n      //     break\n      // }\n    },\n    progress({ contentLength, bytesWritten }) {\n      onDownload(contentLength, bytesWritten)\n    },\n  })\n  downloadJobId = jobId\n  return promise.then(() => {\n    apkSavePath = savePath\n    return updateApp()\n  })**/\n}\n\nexport const updateApp = async() => {\n  if (!apkSavePath) throw new Error('apk Save Path is null')\n  await installExe(apkSavePath, 'APP_PROVIDER_NAME')\n}\n","import {\n  SET_VERSION_INFO,\n  SET_IGNORE_VERSION\n} from \"../../constants/actions\";\nimport {getVersionInfo,compareVer} from '../../utils/version';\nimport {VERSION_STATUS} from '../../constants/version';\nimport {version as versionDefault} from '../../constants/version'\n\nexport const setVersionInfo = versionInfo => {\n  return {\n    type: SET_VERSION_INFO,\n    payload: versionInfo,\n  }\n}\nexport const checkVersion = () => async(dispatch, getState) => {\n  let versionInfo\n  try {\n    const { version, desc, history } = await getVersionInfo()\n    versionInfo = {\n      version,\n      desc,\n      history,\n    }\n  } catch (err) {\n    versionInfo = {\n      version: '0.0.0',\n      desc: null,\n      history: [],\n    }\n  }\n  versionInfo.status =\n   versionInfo.version == '0.0.0'\n     ? VERSION_STATUS.unknown\n     : compareVer(versionDefault, versionInfo.version) < 0\n       ? VERSION_STATUS.available\n       : VERSION_STATUS.latest\n\n  const { version } = getState()\n\n  if (version.ignoreVersion != versionInfo.version && versionInfo.status == VERSION_STATUS.available) {\n    //versionInfo.showModal = true\n    dispatch(setVersionInfo(versionInfo))\n   //toggleModal({title: 'My title'})\n  } else {\n    //versionInfo.showModal = false\n    dispatch(setVersionInfo(versionInfo))\n  }\n  // console.log(compareVer(process.versions.app, versionInfo.version))\n  // console.log(process.versions.app, versionInfo.version)\n}\nexport const setIgnoreVersion = version => async(dispatch, getState) => {\n  dispatch({\n    type: SET_IGNORE_VERSION,\n    payload: version,\n  })\n  localStorage.setItem(\"vetoo_version_ignore\",version);\n}","import React, { useMemo, memo, useState, useEffect } from 'react'\nimport {useSelector,useDispatch} from 'react-redux';\nimport { VERSION_STATUS,version } from '../../constants/version'\nimport {setVersionInfo} from '../../store/actions/version';\nimport Modal, {\n  reducer as modal,\n  actions as ModalActions,\n} from \"react-redux-modal-flex\";\nconst { toggleModal, modifyOkModal } = ModalActions;\nconst currentVer = version\nexport default memo(() => {\n  const versionInfo = useSelector(state => state.version);\n  const dispatch = useDispatch();\n  const [title, setTitle] = useState('')\n  const handleOpenVersionModal = () => {\n    dispatch(setVersionInfo({\n      showModal: true\n    }))\n  }\n\n  useEffect(() => {\n    switch (versionInfo.status) {\n      case VERSION_STATUS.available:\n        setTitle(\" New version found \")\n        // setTip(t('version_btn_new'))\n        break\n      case VERSION_STATUS.downloading:\n        setTitle(\" New version found \")\n        break\n      case VERSION_STATUS.downloaded:\n        setTitle(\"version_title_update\")\n        break\n      case VERSION_STATUS.checking:\n        setTitle(\" Checking for updates \")\n        break\n      case VERSION_STATUS.failed:\n        setTitle(\" Download failed \")\n        break\n      case VERSION_STATUS.unknown:\n        setTitle(\" Failed to get the latest version information \")\n        break\n      case VERSION_STATUS.latest:\n      default:\n        setTitle(\"The software is up to date, please enjoy it~\")\n        break\n    }\n  }, [versionInfo])\n\n  return (\n    <div className=\"pr-2\">\n       \n        {versionInfo.status == VERSION_STATUS.available ? (\n        <div>\n          <button className=\"btn btn-primary btn-sm\" onClick={handleOpenVersionModal}> Nouvelle version trouve  </button>\n        </div>\n        ):(\n          <div>\n            <h3 className=\"text-white\">Version actuelle:  {currentVer}</h3>\n          </div>\n        )}\n         \n    </div>\n  )\n})","export const HOME = \"/\";\nexport const TDB_DEPOT_VERS_MAGASIN = \"/tdb-depot-magasin\";\nexport const TDB_VENTE_CBV = \"/tdb-vente-cbv\";\nexport const TDB_FACTURES = \"/tdb-facture\";\nexport const APPROV = \"/approv\";\nexport const CREATEPRODUCT = \"/create-product\";\nexport const EDITPRODUCT = `/product/edit/:id`;\nexport const PRODUCTS = \"/products\";\nexport const PERIME = \"/perimes\";\nexport const RUPTURE = \"/rupture\";\nexport const CREDIT = \"/credit/normal\";\nexport const DETAIL = `/detail/:id`;\nexport const DETAIL_SORTIE = \"/depot/detail/:id\";\nexport const DETAILVENDEUR = `/detailvendeur/:id`;\nexport const CREDITVACCINATEUR = \"/credit/vaccinateur\";\nexport const DIRECT = \"/direct\";\nexport const JOURNAL = \"/journal\";\nexport const PARAMETRES = \"/parametres\";\nexport const PRODUCTBYFOURNISSEUR = \"/product/fournisseur\";\nexport const PRODUCTBYCATEGORY = \"/product/category\";\nexport const PARASUPPL = \"/para/suppl\";\nexport const ENTREE = \"/entree\";\nexport const SORTIE = \"/sortie\";\n\nexport const EDIT_SORTIE = \"/editer/commande/:id\";\nexport const BONDESORTIE = \"/bon/sortie\";\nexport const PRODUCTDETAIL = `/product/detail/:id`;\nexport const BSORTIE = \"/b/sortie\";\nexport const ADDPROD = \"/add/prod\";\n\nexport const NOUVELLEFACTURE = \"/nouvelle/facture\";\nexport const EDITERFACTURE = \"/editer/facture/:id\";\nexport const DETAILAPPROV = \"/approvis/detail/:id\";\nexport const LISTAPPROV = \"/list/approv\";\nexport const HISTORIQUEVENTEDEPOT = \"/historique/vente/depot\";\nexport const SIGNIN = \"/signin\";\nexport const SIGNOUT = \"/signout\";\nexport const SIGNUP = \"/signup\";\nexport const VENDEUR = \"/vendeur\";\nexport const BNC_DEPOT = \"/bon-commande-depot\";\nexport const ADMIN = \"/admin\";\nexport const DEPOTOMAGASIN = \"/depot/to/magasin/\";\n\nexport const EDITDEPOTTOMAGASIN = \"/depot/to/magasin/edit/:id\";\nexport const HISTORIQUESORTIECVA = \"/historique/sortie/cva\";\nexport const HISTORIQUEVENTEVENDEUR = \"/historique/vente/vendeur/:type\";\nexport const STOCKCVA = \"/stock-cva\";\nexport const HISTORIQUEVENTEVENDEURVUEPARADMIN =\n  \"/historique/vente/admin/vendeur\";\nexport const ETATSTOCKMAGASIN = \"/etat/stock/magasin\";\nexport const EDITFROMMAGASIN = \"/vendeur-commande/:id\";\n\nexport const DEPOT_MAGASIN_DETAIL = \"/depot/to/magasin/detail/:id\";\nexport const DETAIL_MAGASIN_VENTE = \"/magasin/detail/vente/:id\";\n\nexport const CORRECTION = \"/corrections\";\nexport const HISTORIQUECORRECTION = \"/historique/corrections\";\n\nexport const DETAILCORRECTION = `/detailcorrection/:id`;\nexport const FOURNISSEURS = `/fournisseurs/list`;\nexport const ADD_FOURNISSEUR = `/add-fournisseur`;\nexport const EDIT_FOURNISSEUR = `/fournisseurs/edit/:id`;\n\nexport const CATEGORIES = `/categories/list`;\nexport const ADD_CATEGORIES = `/add-categories`;\nexport const EDIT_CATEGORIES = `/categories/edit/:id`;\nexport const EMPRUNTEURS = `/emprunteurs/list`;\nexport const ADD_EMPRUNTEUR = `/add-emprunteurs`;\nexport const EDIT_EMPRUNTEUR = `/emprunters/edit/:id`;\nexport const VACCINATEURS = `/vaccinateurs/list`;\nexport const ADD_VACCINATEUR = `/add-vaccinateurs`;\nexport const EDIT_VACCINATEUR = `/vaccinateurs/edit/:id`;\nexport const CREDIT_VENDEUR = '/credits';\nexport const VENDEUR_ADMIN = '/vendre/in/admin';\nexport const EDITFROMMAGASIN_ADMIN = \"/vendeur-admin-commande/:id\";\nexport const DETAILVENDEUR_ADMIN = `/detailvendeuradmin/:id`;\nexport const HISTORIQUEVENTEVENDEUR_ADMIN = '/historique-admin/vente/vendeur/:type'\nexport const CHANGE_PRIX = '/changer/prix/:id';\nexport const OP_COMMANDES = '/opcommandes';\nexport const PRICE_CHANGE = '/price/change/:id';","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Container, Nav, Navbar } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport NavItem from \"./Sidebar/NavItem\";\nimport NavTree from \"./Sidebar/NavTree\";\nimport Footer from \"./adminlte/Content/Footer\";\nimport Version from \"../components/version\";\nimport {\n  CREATEPRODUCT,\n  ENTREE,\n  PERIME,\n  PRODUCTS,\n  RUPTURE,\n  SORTIE,\n  CREDIT,\n  CREDITVACCINATEUR,\n  PRODUCTBYCATEGORY,\n  PRODUCTBYFOURNISSEUR,\n  DIRECT,\n  BONDESORTIE,\n  PARAMETRES,\n  NOUVELLEFACTURE,\n  LISTAPPROV,\n  DEPOTOMAGASIN,\n  ADMIN,\n  HISTORIQUESORTIECVA,\n  ETATSTOCKMAGASIN,\n  HISTORIQUEVENTEVENDEURVUEPARADMIN,\n  TDB_DEPOT_VERS_MAGASIN,\n  TDB_VENTE_CBV,\n  TDB_FACTURES,\n  CORRECTION,\n  HISTORIQUECORRECTION,\n  FOURNISSEURS,\n  CATEGORIES,\n  VACCINATEURS,\n  EMPRUNTEURS,\n  CHANGE_PRIX,\n  OP_COMMANDES,\n  PRICE_CHANGE\n} from \"../constants/routes\";\nimport { SCOPES } from \"../constants/permissions\";\nclass AdminLTE extends React.PureComponent {\n  render() {\n    let { children, navigation, title, titleShort } = this.props;\n    const { searchbarFilter } = this.props;\n    const { homeTo } = this.props;\n    {\n      if (!children) children = [<div>No content</div>];\n      if (!children.length) {\n        children = [children];\n      }\n    }\n    if (!title.length) {\n      title = [title];\n    }\n    return (\n      <div className=\"wrapper position-relative\">\n      <div className=\"bg-dark p-2 text-center\">\n              <h4 className=\"m-0 p-2 text-white\">\n                CABINET VETERINAIRE AMBALAVAO\n              </h4>\n               \n            </div>\n      <div style={{\n        position: 'absolute',\n        top:10,\n        right: 5 \n      }}>\n          <Version/>\n      </div>\n        <aside\n          className=\"main-sidebar sidebar-dark-primary\"\n          style={{\n            maxHeight: \"100%\",\n            overflow: \"auto\",\n          }}\n        >\n          <Link to={homeTo} className=\"brand-link border-0\">\n            <span className=\"ml-4 brand-text font-weight-light text-center text-uppercase\">\n              {title}\n            </span>\n          </Link>\n          <div className=\"sidebar position-relative\">\n            {/**<div style={{\n                          position: 'absolute',\n                          bottom: 0,\n                          right: 0,\n                          left: 0,\n                          backgroundColor:'#4DDAB8'\n                        }}>\n                          <button>\n                          Plus de menus\n                          </button>\n                        </div>**/}\n            <nav className=\"mt-2\">\n              <ul\n                className=\"nav nav-pills nav-sidebar flex-column\"\n                data-widget=\"treeview\"\n                role=\"menu\"\n                data-accordion=\"false\"\n              >\n                <NavTree title={\"Tableau de bord\"} route={\"/\"} scopes={[SCOPES.canShowDashboard]} />\n                <NavItem title=\"Factures && Produits\" scopes={[SCOPES.canShowFactureProducts]}>\n                  <NavTree title={\"Factures\"} route={LISTAPPROV} scopes={[SCOPES.canShowFactures]} />\n                  <NavTree title={\"Produits\"} route={PRODUCTS} scopes={[SCOPES.canShowProducts]} />\n                </NavItem>\n                <NavItem title=\"Dpot\" scopes={[SCOPES.canShowDepot]}>\n                  <NavTree title={\"Bon de sortie\"} route={BONDESORTIE} scopes={[SCOPES.canShowBonDeSortie]} />\n                  <NavTree title={\"Historique de sortie\"} route={SORTIE} scopes={[SCOPES.canShowHistoriqueDeSortie]} />\n                  <NavTree title={\"Credit\"} route={CREDIT} scopes={[SCOPES.canShowCredit]} />\n                  <NavTree title={\"Vaccinateur\"} route={CREDITVACCINATEUR} scopes={[SCOPES.canShowVaccinateur]} />\n                </NavItem>\n                <NavItem title=\"Magasin\" scopes={[SCOPES.canShowMagasin]}>\n                  <NavTree title={\"Depot vers Magasin\"} route={ADMIN} scopes={[SCOPES.canShowDepotVersMagasin]} />\n                  <NavTree\n                    title={\"Historique de 'Dpt vers Magasin'\"}\n                    route={HISTORIQUESORTIECVA}\n                    scopes={[SCOPES.canHistoriqueDeDM]}\n                  />\n                  {/**  <NavTree\n                      title={\"Operation sur les commandes\"}\n                      route={OP_COMMANDES}\n                    /> */}\n\n                </NavItem>\n                <NavItem title=\"Correction\" scopes={[SCOPES.canShowCorrection]}>\n                  <NavTree\n                    title={\"Ajouter une correction\"}\n                    route={CORRECTION}\n                    scopes={[SCOPES.canAddCorrection]}\n                  />\n                  <NavTree\n                    title={\"Historique de correction\"}\n                    route={HISTORIQUECORRECTION}\n                    scopes={[SCOPES.canShowHistoriqueDeCorrection]}\n                  />\n                </NavItem>\n\n                <NavItem title=\"Vente\" scopes={[SCOPES.canShowVente]}>\n                  <NavTree\n                    title={\"Effectuer une vente\"}\n                    route={\"/vendre/in/admin\"}\n                    scopes={[SCOPES.canShowEffectuerUneVente]}\n                  />\n                  <NavTree\n                    title={\"Etat de stock magasin\"}\n                    route={ETATSTOCKMAGASIN}\n                    scopes={[SCOPES.canShowEtatDeStockMagasin]}\n                  />\n                  <NavTree\n                    title={\"Historique de vente du magasin\"}\n                    route={\"/historique-admin/vente/vendeur/vente-cva\"}\n                    scopes={[SCOPES.canShowHistoriqueDeVenteDuMagasin]}\n                  />\n                  <NavTree\n                    title={\"Crdit\"}\n                    route={\"/historique-admin/vente/vendeur/credit-cva\"}\n                    scopes={[SCOPES.canShowVenteCredit]}\n                  />\n                </NavItem>\n                <NavItem title=\"Parametres\" scopes={[SCOPES.canShowParameter]}>\n                  <NavTree title={\"Categories\"} route={CATEGORIES} scopes={[SCOPES.canShowCategory]} />\n                  <NavTree \n                    title={\"Fournisseurs\"} \n                    route={FOURNISSEURS}\n                    scopes={[SCOPES.canShowFournisseur]} />\n                  <NavTree\n                    title={\"Demandeurs de credit\"}\n                    route={EMPRUNTEURS}\n                    scopes={[SCOPES.canShowDemandeurCredit]}\n                  />\n                  <NavTree title={\"Vaccinateurs\"} route={VACCINATEURS} scopes={[SCOPES.canShowVaccinateur]} />\n                </NavItem>\n              </ul>\n            </nav>\n          </div>\n        </aside>\n        <>{children}</>\n        <footer className=\"shadow-sm bg-white main-footer d-flex flex-row justify-content-between align-items-center\" >\n            <div>\n              <h4>Copyright  2022 <a href=\"https://www.facebook.com/armel.mouhid\">Armel Wanes</a>.</h4>\n            </div>\n            <div>\n           \n            </div>\n        </footer>\n      </div>\n    );\n  }\n}\n\nAdminLTE.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.node),\n    PropTypes.node,\n  ]),\n  title: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.string),\n    PropTypes.string,\n  ]),\n  titleShort: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.string),\n    PropTypes.string,\n  ]),\n  //theme: PropTypes.oneOf(Themes),\n  browserTitle: PropTypes.string,\n  sidebar: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.node),\n    PropTypes.node,\n  ]),\n  footer: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.node),\n    PropTypes.node,\n  ]),\n  homeTo: PropTypes.string,\n  searchbarFilter: PropTypes.bool,\n};\n\nAdminLTE.defaultProps = {\n  children: null,\n  title: [\"Admin\", \"LTE\"],\n  browserTitle: null,\n  theme: \"blue\",\n  //  controlSidebar: null,\n  footer: null,\n  sidebar: undefined,\n  homeTo: \"/\",\n  searchbarFilter: false,\n};\n\nexport default AdminLTE;\n","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import { Alert } from \"react-bootstrap\";\nimport React from \"react\";\n\nfunction Notification({ type, message }) {\n  return (\n    <Alert key={type} variant={type}>\n      {message}\n    </Alert>\n  );\n}\n\nexport default Notification;\n","import React from \"react\";\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\nimport reactFastCompare from \"react-fast-compare\";\nimport {\n  TDB_VENTE_CBV,\n  TDB_FACTURES,\n  TDB_DEPOT_VERS_MAGASIN,\n} from \"../../../constants/routes\";\n\nfunction ContentHeader({ children, title }) {\n  const history = useHistory();\n  return (\n    <>\n      <div>\n        <div className=\"content-header p-2 shadow-sm bg-white\">\n          <div className=\"container-fluid\">\n            <div className=\"row\">\n              <div className=\"col-sm-6\">\n                <h4 className=\"mt-2 text-uppercase\">{title}</h4>\n              </div>\n              <div className=\"col-sm-6\">\n                <ol className=\"breadcrumb float-sm-right\">\n                  <li className=\"breadcrumb-item\">\n                    <Link to={\"/\"}>Accueil</Link>\n                  </li>\n                  {children}\n                </ol>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"mb-1\">\n          <button\n            type=\"button\"\n            onClick={() => history.goBack()}\n            className=\"btn btn-link\"\n          >\n            {\"<<\"} Revenir en arriere\n          </button>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default React.memo(ContentHeader, reactFastCompare);\n","import React from \"react\";\nimport reactFastCompare from \"react-fast-compare\";\n\nfunction ActiveLink({ title }) {\n  return (\n    <>\n      <li className=\"breadcrumb-item active\">{title}</li>\n    </>\n  );\n}\n\nexport default React.memo(ActiveLink, reactFastCompare);\n","import React from \"react\";\nimport reactFastCompare from \"react-fast-compare\";\n\nfunction Content({ children }) {\n  return (\n    <>\n      <div\n        className=\"content-wrapper\"\n      >\n        {children}\n      </div>\n    </>\n  );\n}\nexport default React.memo(Content, reactFastCompare);\n","import React from \"react\";\nfunction Page({ children }) {\n  return (\n    <section className=\"content\" >\n      <div className=\"container-fluid\">{children}</div>\n    </section>\n  );\n}\nexport default React.memo(Page);","import moment from 'moment';\nexport const getParameterByName = (name, url) => {\n  name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n  var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n    results = regex.exec(url);\n  if (!results) return null;\n  if (!results[2]) return \"\";\n  return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n};\nexport function omit(key, obj) {\n  const { [key]: omitted, ...rest } = obj;\n  return rest;\n}\n\n/* eslint-disable no-nested-ternary */\nexport const displayDate = (timestamp) => {\n  const date = new Date(timestamp);\n\n  const monthNames = [\n    \"Janvier\",\n    \"Fevrier\",\n    \"Mars\",\n    \"Avril\",\n    \"Mai\",\n    \"Juin\",\n    \"Juillet\",\n    \"Aot\",\n    \"Septembre\",\n    \"Octobre\",\n    \"Novembre\",\n    \"Decembre\",\n  ];\n\n  const day = date.getDate();\n  const monthIndex = date.getMonth();\n  const year = date.getFullYear();\n\n  // return day + ' ' + monthNames[monthIndex] + ' ' + year;\n  return ` ${day} ${monthNames[monthIndex]} ${year}`;\n};\n\nexport const displayMoney = (n) => {\n  const format = new Intl.NumberFormat(\"fr-MG\", {\n    style: \"currency\",\n    currency: \"MGA\",\n  });\n\n  // or use toLocaleString()\n  return format.format(n);\n};\n\nexport const calculateTotal = (arr) => {\n  if (!arr || arr?.length === 0) return 0;\n\n  const total = arr.reduce((acc, val) => acc + val, 0);\n\n  return total;\n};\n\nexport const displayActionMessage = (msg, status = \"info\") => {\n  const div = document.createElement(\"div\");\n  const span = document.createElement(\"span\");\n\n  div.className = `toast ${\n    status === \"info\"\n      ? \"toast-info\"\n      : status === \"success\"\n      ? \"toast-success\"\n      : \"toast-error\"\n    // eslint-disable-next-line indent\n  }`;\n  span.className = \"toast-msg\";\n  span.textContent = msg;\n  div.appendChild(span);\n\n  if (document.querySelector(\".toast\")) {\n    document.body.removeChild(document.querySelector(\".toast\"));\n    document.body.appendChild(div);\n  } else {\n    document.body.appendChild(div);\n  }\n\n  setTimeout(() => {\n    try {\n      document.body.removeChild(div);\n    } catch (e) {\n      console.log(e);\n    }\n  }, 3000);\n};\n\nfunction strOp(str) {\n  return str.toString().replace(/\\s/g, \"\").toLowerCase();\n}\n\nexport const checkHasExistText = (text, textCheck) => {\n  if (strOp(text).includes(strOp(textCheck))) {\n    return true;\n  }\n};\nexport const displayShortMonth = (timestamp) => {\n  const date = new Date(timestamp);\n\n  const monthNames = [\n    \"Jan.\",\n    \"Fvr.\",\n    \"Mars\",\n    \"Avr.\",\n    \"Mai\",\n    \"Juin.\",\n    \"Juill.\",\n    \"Aot\",\n    \"Sept.\",\n    \"Oct.\",\n    \"Nov\",\n    \"Dc.\",\n  ];\n\n  const monthIndex = date.getMonth();\n  return `${monthNames[monthIndex]}`;\n};\n\nexport const getAllFilterDate = (startDate, endDate) => {\n  const dayOfPrevWeek = [];\n  dayOfPrevWeek.push(moment(new Date()).startOf('week').format('YYYY-MM-DD'));\n  dayOfPrevWeek.push(moment(new Date()).endOf('week').format('YYYY-MM-DD'));\n  const months = [\n    {\n      monthValue: dayOfPrevWeek,\n      monthName: '7 derniers jours',\n    },\n  ];\n\n  while (endDate.diff(startDate, 'months') >= 0) {\n    const currentMonth =\n      new Date(startDate).getMonth() + 1 < 10\n        ? '0' + (new Date(startDate).getMonth() + 1)\n        : new Date(startDate).getMonth() + 1;\n    const currentYear = new Date(startDate).getFullYear();\n\n    const startOfMonth = [];\n\n    startOfMonth.push(\n      moment(startDate).clone().startOf('month').format('YYYY-MM-DD')\n    );\n    startOfMonth.push(\n      moment(startDate).clone().endOf('month').format('YYYY-MM-DD')\n    );\n    months.push({\n      monthValue: startOfMonth,\n      monthName:\n        new Date('now').getMonth() + 1 == new Date(startDate).getMonth() + 1\n          ? 'Ce mois ci'\n          : startDate.format('MMMM YYYY'),\n    });\n    startDate.add(1, 'month');\n  }\n  return months;\n};","import React from 'react'\n\nfunction NameOfDay({date}) {\n    let weekday = new Date(date).toLocaleString(\"fr-FR\", { weekday: \"short\" })\n    let today = new Date(date);\n    return (\n        \n        <td className={weekday == \"sam.\" ? \"bg-warning text-white text-uppercase\":\"text-uppercase\"}>\n\n            {weekday} {today.getDate()} \n        </td>\n    )\n}\n\nexport default NameOfDay\n","import React from \"react\";\nimport { displayShortMonth } from \"../../../utils/functions\";\n\nconst DateInterval = ({ date }) => {\n  let weekday = new Date(date).toLocaleString(\"fr-FR\", { weekday: \"short\" });\n  let weekdayNumber = new Date(date).getDate();\n  return (\n    <>\n      <td style={{height:\"100%\"}}\n        className={\n          weekday == \"sam.\"\n            ? ` bg-warning text-white text-center mr-2`\n            : \"bg-dark text-center mr-2\"\n        }\n      >{weekdayNumber}\n       \n      </td>\n    </>\n  );\n};\nexport default DateInterval;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport Stock from \"./Stock\";\nimport moment from \"moment\";\nimport getByRangeDateAndProduct from \"../../../filters/getByRangeDateAndProduct\";\nimport { displayDate } from \"../../../utils/functions\";\n\nexport const Items = ({ flat, gr, quantityb, quantityc, quantitycond, id }) => {\n  let orderItem = flat.filter((f) => f.id == id);\n  let lastElement =\n    orderItem[orderItem.length - 1] != undefined\n      ? orderItem[orderItem.length - 1]\n      : {};\n  let lastStock = {\n    bruteCva: lastElement.hasOwnProperty(\"id\")\n      ? lastElement.quantityBruteCVA\n      : 0,\n    ccCva: lastElement.hasOwnProperty(\"id\") ? lastElement.quantityCCCVA : 0,\n  };\n  let value = 0;\n  let valuecc = 0;\n  let valuel = 0;\n  if (orderItem) {\n    value = orderItem\n      .map((item) => item.quantityParProduct * 1)\n      .reduce((prev, curr) => prev + curr, 0);\n    valuecc = orderItem\n      .map((item) => item.qttByCC)\n      .reduce((prev, curr) => prev + curr, 0);\n    valuel = orderItem\n      .map((item) => item.qttbylitre)\n      .reduce((prev, curr) => prev + curr, 0);\n  } else {\n    value = 0;\n    valuecc = 0;\n    valuel = 0;\n  }\n  let price = orderItem.map((item) => item.prixVente);\n  return (\n    <td\n      className=\"text-center p-1\"\n      title={\"prix de vente:\" + price[0] != undefined ? price[0] : \"\"}\n    >\n      {/**<tr>\n          <td\n            className={\n              orderItem.length == 0\n                ? `text-center p-1`\n                : `text-center  bg-warning p-1`\n            }\n          >\n             {orderItem.length != 0 ? lastStock.bruteCva : '-'}\n          </td>\n          <td\n            className={\n              orderItem.length == 0\n                ? `text-center p-1`\n                : `text-center bg-primary p-1 text-white`\n            }\n          >\n            {orderItem.length != 0 ? lastStock.ccCva : '-'}\n          </td>\n        </tr>*/}\n      <tr>\n        <td\n          className={\n            orderItem.length == 0\n              ? `text-center p-1`\n              : `text-center bg-secondary p-1 text-white`\n          }\n        >\n          {valuel != 0 ? valuel : \"-\"}\n        </td>\n        <td\n          className={\n            orderItem.length == 0\n              ? `text-center p-1`\n              : `text-center bg-primary p-1 text-white`\n          }\n        >\n          {value != 0 ? value : \"-\"}\n        </td>\n        <td\n          className={\n            orderItem.length == 0\n              ? `text-center  p-1`\n              : `text-center  bg-warning p-1`\n          }\n        >\n          {valuecc != 0 ? valuecc : \"-\"}\n        </td>\n      </tr>\n    </td>\n  );\n};\n\nexport default Items;\n","\nimport moment  from 'moment';\n/**\n *\n * Filter array by date range\n *\n */\nconst getByRangeDate = (data, dateKey, startDate, endDate) => {\n  return data.filter((d) => {\n    var date = new Date(d[dateKey]);\n    return moment(date).isBetween(startDate, endDate, \"days\", \"[]\");\n  });\n};\n\nexport default getByRangeDate;\n","// concatene des array en une seul array\n/**\n *  var a = [\n    {\n      id: 1,\n      date: '2021-03-12',\n      contenu: [\n        { id: 14, qqt: 20 },\n        { id: 12, qtt: 10 },\n      ],\n    },\n    { id: 2,\n    date: '2021-03-12', contenu: [{ id: 12, qqt: 2 }] },\n    { id: 2,\n    date: '2021-03-13', contenu: [{ id: 12, qqt: 2 }] },\n  ];\n* deviens var b=[{ id: 14, qqt: 20 },{ id: 12, qtt: 10 },{ id: 12, qqt: 2 }]\n * \n */\nconst flatify = (data, attribute) => {\n  return [...new Set([].concat(...data.map((o) => o[attribute])))];\n};\nexport default flatify;","var snakeCase = require('lodash.snakecase');\nvar trim      = require('lodash.trim');\n\nfunction addGroup(resource, actionTypes, group, config) {\n  var upperResource = snakeCase(resource).toUpperCase();\n  var upperGroup    = group.toUpperCase();\n\n  var start        = upperResource + '_' + upperGroup + '_START';\n  var success      = upperResource + '_' + upperGroup + '_SUCCESS';\n  var error        = upperResource + '_' + upperGroup + '_ERROR';\n  var startAlias   = group + 'Start';\n  var successAlias = group + 'Success';\n  var errorAlias   = group + 'Error';\n\n  actionTypes[start]   = start;\n  actionTypes[success] = success;\n  actionTypes[error]   = error;\n  \n  if (config.addAlias) {\n    actionTypes[startAlias] = start;\n    actionTypes[successAlias] = success;\n    actionTypes[errorAlias] = error;\n  }\n}\n\nconst actionTypesFor = (resource, config)=> {\n  if (resource == null) throw new Error('Expected resource');\n  config = config || {};\n  if (config.addAlias == null) config.addAlias = true;\n\n  resource = trim(resource);\n  if (resource == '')   throw new Error('Expected resource');\n  var actionTypes = {};\n  addGroup(resource, actionTypes, 'get', config);\n  addGroup(resource, actionTypes, 'fetch', config);\n  addGroup(resource, actionTypes, 'create', config);\n  addGroup(resource, actionTypes, 'update', config);\n  addGroup(resource, actionTypes, 'delete', config);\n\n  return actionTypes;\n}\n\nexport default actionTypesFor;\n","export default function makeScope(\n  config,\n  reducerName\n) {\n  return config.resourceName + \".\" + reducerName;\n}\n","import * as is from \"ramda/src/is\"\n\nimport makeScope from \"./makeScope\";\n\nexport default function(config, reducerName, record) {\n  var scope = makeScope(config, reducerName);\n  var isArray = is(Array, record);\n\n  if (isArray)\n    throw new TypeError(scope + \": Expected record not to be an array\");\n}\n","import merge from 'ramda/src/merge';\nimport * as invariant from 'invariant';\n\nimport actionTypesFor from './actionTypesFor';\nimport assertNotArray from './utils/assertNotArray';\nimport getDefaultConfig from './getDefaultConfig';\n\nfunction actionCreatorsFor(resourceName, config) {\n  if (resourceName == null)\n    throw new Error('actionCreatorsFor: Expected resourceName');\n\n  config = config || getDefaultConfig(resourceName);\n  config = merge(config, { resourceName });\n\n  const actionTypes = actionTypesFor(resourceName);\n\n  function assertError(actionCreatorName, error) {\n    invariant(error != null, 'Expected error in ' + actionCreatorName);\n  }\n\n  function assertOneRecord(actionCreatorName, record) {\n    invariant(record != null, 'Expected record in ' + actionCreatorName);\n    assertNotArray(config, 'createStart', record);\n  }\n\n  function assertManyRecords(actionCreatorName, records) {\n    invariant(records != null, 'Expected records ' + actionCreatorName);\n  }\n\n  return {\n    getStart(data) {\n      return {\n        data: data,\n        type: actionTypes.getStart,\n      };\n    },\n\n    getSuccess(records, data) {\n      var name = 'getSuccess';\n      invariant(records != null, 'Expected record in ' + name);\n      return {\n        data: data,\n        records: records,\n        type: actionTypes.getSuccess,\n      };\n    },\n    getError(error, data) {\n      var name = 'getError';\n      assertError(name, error);\n\n      return {\n        data: data,\n        error: error,\n        type: actionTypes.getError,\n      };\n    },\n\n    fetchStart(data) {\n      return {\n        data: data,\n        type: actionTypes.fetchStart,\n      };\n    },\n\n    fetchSuccess(records, data) {\n      var name = 'fetchSuccess';\n      assertManyRecords(name, records);\n\n      return {\n        data: data,\n        records: records,\n        type: actionTypes.fetchSuccess,\n      };\n    },\n\n    fetchError(error, data) {\n      var name = 'fetchError';\n      assertError(name, error);\n\n      return {\n        data: data,\n        error: error,\n        type: actionTypes.fetchError,\n      };\n    },\n\n    createStart(record, data) {\n      var name = 'createStart';\n      assertOneRecord(name, record);\n\n      return {\n        data: data,\n        record: record,\n        type: actionTypes.createStart,\n      };\n    },\n\n    createSuccess(record, clientGeneratedKey, data) {\n      var name = 'createSuccess';\n      assertOneRecord(name, record);\n\n      return {\n        cid: clientGeneratedKey,\n        data: data,\n        record: record,\n        type: actionTypes.createSuccess,\n      };\n    },\n\n    createError(error, record, data) {\n      var name = 'createError';\n      assertError(name, error);\n      assertOneRecord(name, record);\n\n      return {\n        data: data,\n        error: error,\n        record: record,\n        type: actionTypes.createError,\n      };\n    },\n\n    updateStart(record, data) {\n      var name = 'updateStart';\n      assertOneRecord(name, record);\n\n      return {\n        data: data,\n        record: record,\n        type: actionTypes.updateStart,\n      };\n    },\n\n    updateSuccess(record, data) {\n      var name = 'updateSuccess';\n      assertOneRecord(name, record);\n\n      return {\n        data: data,\n        record: record,\n        type: actionTypes.updateSuccess,\n      };\n    },\n\n    updateError(error, record, data) {\n      var name = 'updateError';\n      assertError(name, error);\n      assertOneRecord(name, record);\n\n      return {\n        data: data,\n        error: error,\n        record: record,\n        type: actionTypes.updateError,\n      };\n    },\n\n    deleteStart(record, data) {\n      var name = 'deleteStart';\n      assertOneRecord(name, record);\n\n      return {\n        data: data,\n        record: record,\n        type: actionTypes.deleteStart,\n      };\n    },\n\n    deleteSuccess(record, data) {\n      var name = 'deleteSuccess';\n      assertOneRecord(name, record);\n\n      return {\n        data: data,\n        record: record,\n        type: actionTypes.deleteSuccess,\n      };\n    },\n\n    deleteError(error, record, data) {\n      var name = 'deleteError';\n      assertError(name, error);\n      assertOneRecord(name, record);\n\n      return {\n        data: data,\n        error: error,\n        record: record,\n        type: actionTypes.deleteError,\n      };\n    },\n  };\n}\n\nexport default actionCreatorsFor;\n","\nexport default function getDefaultConfig(resourceName) {\n  return {\n    key: \"id\",\n    resourceName\n  };\n}\n","\nconst CREATE_ERROR = \"createError\";\nconst CREATE_START = \"createStart\";\nconst CREATE_SUCCESS = \"createSuccess\";\nconst DELETE_ERROR = \"deleteError\";\nconst DELETE_START = \"deleteStart\";\nconst DELETE_SUCCESS = \"deleteSuccess\";\nconst FETCH_SUCCESS = \"fetchSuccess\";\nconst GET_SUCCESS='getSuccess';\nconst UPDATE_ERROR = \"updateError\";\nconst UPDATE_START = \"updateStart\";\nconst UPDATE_SUCCESS = \"updateSuccess\";\n\nexport default {\n  DEFAULT_KEY: \"id\",\n  STORE_LIST: \"STORE_LIST\",\n  STORE_MAP: \"STORE_MAP\",\n  REDUCER_NAMES: {\n    CREATE_ERROR,\n    CREATE_START,\n    CREATE_SUCCESS,\n    DELETE_ERROR,\n    DELETE_START,\n    DELETE_SUCCESS,\n    FETCH_SUCCESS,\n    GET_SUCCESS,\n    UPDATE_ERROR,\n    UPDATE_START,\n    UPDATE_SUCCESS\n  },\n  SPECIAL_KEYS: {\n    BUSY: \"busy\",\n    CLIENT_GENERATED_ID: \"_cid\",\n    DELETED: \"deleted\",\n    PENDING_CREATE: \"pendingCreate\",\n    PENDING_UPDATE: \"pendingUpdate\"\n  }\n};\n","import * as merge from \"ramda/src/merge\"\n\nimport actionTypesFor from \"../../actionTypesFor\";\nimport constants from \"../../constants\";\n\n\nfunction reducersFor(resourceName, args = {}, emptyState, reducers) {\n  if (resourceName == null)\n    throw new Error(\"reducersFor: Expected resourceName\");\n\n  var defaults = {\n    key: constants.DEFAULT_KEY,\n    resourceName: resourceName\n  };\n\n  var config = merge(defaults, args);\n\n  return function getReducer(state, action) {\n    state = state || emptyState;\n\n    if (action == null)\n      throw new Error(resourceName + \" reducers: Expected action\");\n\n    var actionTypes = actionTypesFor(resourceName);\n    var record = action.record;\n\n    switch (action.type) {\n      case actionTypes.fetchSuccess:\n        return reducers.fetchSuccess(\n          config,\n          state,\n          action.records,\n          emptyState,\n          action.data && action.data.replace\n        );\n      case actionTypes.getSuccess:\n          return reducers.getSuccess(\n            config,\n            state,\n            action.records,\n            emptyState,\n            action.data && action.data.replace\n          );\n    \n      case actionTypes.createStart:\n        return reducers.createStart(config, state, record);\n\n      case actionTypes.createSuccess:\n        return reducers.createSuccess(config, state, record, action.cid);\n\n      case actionTypes.createError:\n        return reducers.createError(config, state, record);\n\n      case actionTypes.updateStart:\n        return reducers.updateStart(config, state, record);\n\n      case actionTypes.updateSuccess:\n        return reducers.updateSuccess(config, state, record);\n\n      case actionTypes.updateError:\n        return reducers.updateError(config, state, record);\n\n      case actionTypes.deleteStart:\n        return reducers.deleteStart(config, state, record);\n\n      case actionTypes.deleteSuccess:\n        return reducers.deleteSuccess(config, state, record);\n\n      case actionTypes.deleteError:\n        return reducers.deleteError(config, state, record);\n\n      default:\n        return state;\n    }\n  };\n}\n\nexport default reducersFor;\n","import assertNotArray from \"../utils/assertNotArray\";\nimport makeScope from \"../utils/makeScope\";\n;\n\nexport default function invariants(\n  baseArgs,\n  extraArgs\n) {\n  var config = extraArgs.config;\n\n  if (!config.resourceName) throw new Error(\"Expected config.resourceName\");\n\n  const scope = makeScope(config, baseArgs.reducerName);\n\n  if (!config.key) throw new Error(scope + \": Expected config.key\");\n  if (!extraArgs.record) throw new Error(scope + \": Expected record/s\");\n\n  extraArgs.assertValidStore(scope, extraArgs.current);\n\n  if (!baseArgs.canBeArray) {\n    assertNotArray(extraArgs.config, baseArgs.reducerName, extraArgs.record);\n  }\n\n // assertHasKey(extraArgs.config, scope, extraArgs.record);\n}\n","import * as reject from \"ramda/src/reject\"\nexport default function remove(\n  config,\n  current,\n  addedRecord,\n) {\n  var key = config.key;\n\n  function predicate(record) {\n    var recordKey = record[key];\n    var isSameKey = addedRecord[key] === recordKey;\n    return isSameKey;\n  }\n\n  return reject(predicate, current);\n}\n","import * as is from \"ramda/src/is\"\n\nexport default function wrapArray(recordOrRecords) {\n  var isArray = is(Array, recordOrRecords);\n  return isArray ? recordOrRecords : [recordOrRecords];\n}\n","import assert from \"./store/assert\";\nimport remove from \"./store/remove\";\nimport merge from \"./store/merge\";\n\nexport default {\n  assert,\n  remove,\n  merge\n};\n","import * as is from \"ramda/src/is\"\n\nexport default function assert(scope, current) {\n  var isArray = is(Array, current);\n  if (!isArray) throw new Error(scope + \": Expected current to be an array\");\n}\n","import wrapArray from \"../../../utils/wrapArray\";\n\n/*\nReplaces an existing record in a list\nOr adds if not there\n*/\nexport default function merge(current, records, key) {\n  records = wrapArray(records);\n  var recordMap = {};\n  var indexMap = {};\n  var newRecords = current.slice(0);\n\n  current.forEach(function(record, index) {\n    var recordKey = record[key];\n    if (recordKey == null) throw new Error(\"Expected record to have \" + key);\n    recordMap[recordKey] = record;\n    indexMap[recordKey] = index;\n  });\n\n  records.forEach(function(record) {\n    var recordId = record[key];\n    if (recordMap[recordId]) {\n      newRecords[indexMap[recordId]] = record;\n    } else {\n      indexMap[recordId] = newRecords.length;\n      newRecords.push(record);\n    }\n    recordMap[recordId] = record;\n  });\n\n  return newRecords;\n}\n","import invariants from '../invariants';\nimport store from './store';\n\nexport default function invariantsList(invariantArgs, config, current, record) {\n  var extra = {\n    assertValidStore: store.assert,\n    config,\n    current,\n    record,\n  };\n  invariants(invariantArgs, extra);\n}\n","import constants from \"../../../constants\";\nimport invariants from \"../invariants\";\nimport remove from \"../store/remove\";\n\nvar reducerName = constants.REDUCER_NAMES.CREATE_ERROR;\nvar invariantArgs = {\n  reducerName,\n  canBeArray: false\n};\n\nexport default function error(\n  config,\n  current,\n  record\n) {\n  invariants(invariantArgs, config, current, record);\n\n  return remove(config, current, record);\n}\n","import * as merge from \"ramda/src/merge\"\nimport constants from \"../../../constants\";\n\nexport function prepareRecord(record) {\n  var recordStatus = {\n    [constants.SPECIAL_KEYS.BUSY]: true,\n    [constants.SPECIAL_KEYS.PENDING_CREATE]: true\n  };\n\n  return merge(record, recordStatus);\n}\n","import {prepareRecord} from \"../../common/create/start\";\nimport constants from \"../../../constants\";\nimport invariants from \"../invariants\";\nimport store from \"../store\";\n\nvar reducerName = constants.REDUCER_NAMES.CREATE_START;\nvar invariantArgs = {\n  reducerName,\n  canBeArray: false\n};\n\nexport default function start(\n  config,\n  current,\n  record,\n) {\n  invariants(invariantArgs, config, current, record);\n\n  // mark record as unsaved and busy\n  var newRecord = prepareRecord(record);\n\n  return current;\n}\n","import constants from \"../../../constants\";\nimport invariants from \"../invariants\";\n\n\nvar reducerName = constants.REDUCER_NAMES.CREATE_SUCCESS;\nvar invariantArgs = {\n  reducerName,\n  canBeArray: false\n};\n\nexport default function success(\n  config,\n  current,\n  addedRecord,\n  clientGeneratedKey\n) {\n  invariants(invariantArgs, config, current, addedRecord);\n\n  var key = config.key;\n  var done = false;\n\n  // Update existing records\n  var updatedCollection = current.map(function(record) {\n    var recordKey = record[key];\n    if (recordKey == null) throw new Error(\"Expected record to have \" + key);\n    var isSameKey = recordKey === addedRecord[key];\n    var isSameClientGetKey =\n      clientGeneratedKey != null && clientGeneratedKey === recordKey;\n    if (isSameKey || isSameClientGetKey) {\n      done = true;\n      return addedRecord;\n    } else {\n      return record;\n    }\n  });\n\n  // Add if not updated\n  if (!done) {\n    updatedCollection = updatedCollection.concat([addedRecord]);\n  }\n\n  return updatedCollection;\n}\n","import * as find from \"ramda/src/find\"\n\nexport default function findByKey(collection, key, id) {\n  function predicate(record) {\n    return record[key] === id;\n  }\n\n  return find(predicate, collection);\n}\n","import * as omit from \"ramda/src/omit\"\n\nimport constants from \"../../../constants\";\nimport findByKey from \"../../../utils/findByKey\";\nimport invariants from \"../invariants\";\nimport store from \"../store\";\n\nvar reducerName = constants.REDUCER_NAMES.DELETE_ERROR;\nvar invariantArgs = {\n  reducerName,\n  canBeArray: false\n};\n\nexport default function error(\n  config,\n  current,\n  record\n) {\n  invariants(invariantArgs, config, current, record);\n\n  var key = config.key;\n  var deleteId = record[key];\n  var deleteRecord = findByKey(current, key, deleteId);\n  deleteRecord = omit([\"deleted\", \"busy\"], deleteRecord);\n\n  return store.merge(current, deleteRecord, key);\n}\n","import * as merge from \"ramda/src/merge\"\nimport constants from \"../../../constants\";\n\nexport function prepareRecord(record) {\n  var recordStatus = {\n    [constants.SPECIAL_KEYS.DELETED]: true,\n    [constants.SPECIAL_KEYS.BUSY]: true\n  };\n\n  return merge(record, recordStatus);\n}\n","import {prepareRecord} from \"../../common/delete/start\";\nimport constants from \"../../../constants\";\nimport findByKey from \"../../../utils/findByKey\";\nimport invariants from \"../invariants\";\nimport store from \"../store\";\n\nvar reducerName = constants.REDUCER_NAMES.DELETE_START;\nvar invariantArgs = {\n  reducerName,\n  canBeArray: false\n};\n\nexport default function start(\n  config,\n  current,\n  record\n) {\n  invariants(invariantArgs, config, current, record);\n\n  var key = config.key;\n  var deleteId = record[key];\n\n  var deleteRecord = findByKey(current, key, deleteId);\n  deleteRecord = prepareRecord(deleteRecord);\n\n  return store.merge(current, deleteRecord, key);\n}\n","import * as reject from \"ramda/src/reject\"\n\nimport invariants from \"../invariants\";\nimport constants from \"../../../constants\";\n\nvar reducerName = constants.REDUCER_NAMES.DELETE_SUCCESS;\nvar invariantArgs = {\n  reducerName,\n  canBeArray: false\n};\n\nexport default function success(\n  config,\n  current,\n  record\n) {\n  invariants(invariantArgs, config, current, record);\n\n  var key = config.key;\n  var deleteId = record[key];\n\n  function predicate(existingRecord) {\n    return deleteId == existingRecord[key];\n  }\n\n  return reject(predicate, current);\n}\n","import * as has from \"ramda/src/has\"\nimport * as all from \"ramda/src/all\"\n\nexport default function(config, reducerName, records) {\n  // All given records must have a key\n  var haskey = has(config.key);\n  var allKeys = all(haskey, records);\n\n  if (!allKeys) {\n    throw new Error(\n      reducerName +\n        \": Expected all records to have a value for the store's key `\" +\n        config.key +\n        \"`\"\n    );\n  }\n}\n","import assertAllHaveKeys from \"../../../utils/assertAllHaveKeys\";\nimport constants from \"../../../constants\";\nimport store from \"../store\";\nimport wrapArray from \"../../../utils/wrapArray\";\nimport invariants from \"../invariants\";\n\nconst reducerName = constants.REDUCER_NAMES.FETCH_SUCCESS;\nconst invariantArgs = {\n  reducerName,\n  canBeArray: true\n};\n\nexport default function success(\n  config,\n  current,\n  records,\n  emptyState,\n  replace = false\n){\n  invariants(invariantArgs, config, current, records);\n\n  // wrap array\n  records = wrapArray(records);\n\n  // All given records must have a key\n  assertAllHaveKeys(config, reducerName, records);\n\n  return store.merge(replace ? emptyState : current, records, config.key);\n}\n","import constants from \"../../../constants\";\nimport store from \"../store\";\nimport wrapArray from \"../../../utils/wrapArray\";\nimport invariants from \"../invariants\";\n\nconst reducerName = constants.REDUCER_NAMES.GET_SUCCESS;\nconst invariantArgs = {\n  reducerName,\n  canBeArray: true\n};\n\nexport default function success(\n  config,\n  current,\n  records,\n  emptyState,\n  replace = false\n){\n  invariants(invariantArgs, config, current, records);\n\n  // wrap array\n  records = wrapArray(records);\n\n\n  return records;\n}\n","import * as dissoc from \"ramda/src/dissoc\"\nimport constants from \"../../../constants\";\n\nexport function prepareRecord(record) {\n  return dissoc(constants.SPECIAL_KEYS.BUSY, record);\n}\n","import {prepareRecord} from \"../../common/update/error\";\nimport constants from \"../../../constants\";\nimport findByKey from \"../../../utils/findByKey\";\nimport invariants from \"../invariants\";\nimport store from \"../store\";\n\nvar reducerName = constants.REDUCER_NAMES.UPDATE_ERROR;\nvar invariantArgs = {\n  reducerName,\n  canBeArray: false\n};\n\nexport default function error(\n  config,\n  current,\n  record\n) {\n  invariants(invariantArgs, config, current, record);\n\n  // We don\"t want to rollback\n  var key = config.key;\n  var updatedId = record[key];\n  var updatedRecord = findByKey(current, key, updatedId);\n\n  if (updatedRecord == null) return current;\n\n  updatedRecord = prepareRecord(updatedRecord);\n\n  return store.merge(current, updatedRecord, key);\n}\n","import * as merge from \"ramda/src/merge\"\nimport constants from \"../../../constants\";\n\nexport function prepareRecord(record) {\n  var recordStatus = {\n    [constants.SPECIAL_KEYS.BUSY]: true,\n    [constants.SPECIAL_KEYS.PENDING_UPDATE]: true\n  };\n\n  return merge(record, recordStatus);\n}\n","import {prepareRecord} from \"../../common/update/start\";\nimport constants from \"../../../constants\";\nimport invariants from \"../invariants\";\nimport store from \"../store\";\n\nvar reducerName = constants.REDUCER_NAMES.UPDATE_START;\nvar invariantArgs = {\n  reducerName,\n  canBeArray: false\n};\n\nexport default function start(\n  config,\n  current,\n  record\n){\n  invariants(invariantArgs, config, current, record);\n\n  // mark record as unsaved and busy\n  var newRecord = [prepareRecord(record)];\n\n  // replace record\n  return store.merge(current, newRecord, config.key);\n}\n","import constants from \"../../../constants\";\nimport invariants from \"../invariants\";\nimport store from \"../store\";\n\nvar reducerName = constants.REDUCER_NAMES.UPDATE_SUCCESS;\nvar invariantArgs = {\n  reducerName,\n  canBeArray: false\n};\n\nexport default function success(\n  config,\n  current,\n  record\n) {\n  invariants(invariantArgs, config, current, record);\n\n  return store.merge(current, record, config.key);\n}\n","import * as merge from 'ramda/src/merge';\n\nimport commonReducersFor from '../common/reducersFor';\nimport createError from './create/error';\nimport createStart from './create/start';\nimport createSuccess from './create/success';\nimport deleteError from './delete/error';\nimport deleteStart from './delete/start';\nimport deleteSuccess from './delete/success';\nimport fetchSuccess from './fetch/success';\nimport getSuccess from './get/success';\nimport updateError from './update/error';\nimport updateStart from './update/start';\nimport updateSuccess from './update/success';\nconst baseReducers = {\n  createError,\n  createStart,\n  createSuccess,\n  deleteError,\n  deleteStart,\n  deleteSuccess,\n  fetchSuccess,\n  updateError,\n  updateStart,\n  updateSuccess,\n  getSuccess,\n};\n\nexport default function reducersFor(resourceName, args = {}, deps) {\n  const reducers = merge(baseReducers, deps);\n  return commonReducersFor(resourceName, args, [], reducers);\n}\n","import reducersFor from \"./list/reducersFor\";\n\nexport default {\n  reducersFor\n};\n","import assert from \"./store/assert\";\nimport merge from \"./store/merge\";\nimport remove from \"./store/remove\";\n\nexport default {\n  assert,\n  merge,\n  remove\n};\n","import * as is from \"ramda/src/is\"\n\nexport default function assertValidStore(\n  scope,\n  current\n) {\n  if (!is(Object, current))\n    throw new Error(scope + \": Expected current to be an object\");\n}\n","import * as merge from \"ramda/src/merge\"\n\n/*\nAdds or replace one record\n*/\nexport default function replace(\n  config,\n  current,\n  record\n) {\n  var key = config.key;\n  var recordKey = record[key];\n\n  return merge(current, {[recordKey]: record});\n}\n","import * as omit from \"ramda/src/omit\"\n\nexport default function remove(\n  config,\n  current,\n  record\n) {\n  var key = config.key;\n  var recordKey = record[key];\n\n  return omit([recordKey], current);\n}\n","import invariants from \"../invariants\";\nimport store from \"./store\";\n\nexport default function invariantsMap(\n  invariantArgs,\n  config,\n  current,\n  record\n) {\n  var extra = {\n    assertValidStore: store.assert,\n    config,\n    current,\n    record\n  };\n\n  invariants(invariantArgs, extra);\n}\n","import constants from \"../../../constants\";\nimport invariants from \"../invariants\";\nimport store from \"../store\";\n\nvar reducerName = constants.REDUCER_NAMES.CREATE_ERROR;\nvar invariantArgs = {\n  reducerName,\n  canBeArray: false\n};\n\nexport default function error(\n  config,\n  current,\n  record\n) {\n  invariants(invariantArgs, config, current, record);\n  return store.remove(config, current, record);\n}\n","import {prepareRecord} from \"../../common/create/start\";\nimport constants from \"../../../constants\";\nimport invariants from \"../invariants\";\nimport store from \"../store\";\n\nvar reducerName = constants.REDUCER_NAMES.CREATE_START;\nvar invariantArgs = {\n  reducerName,\n  canBeArray: false\n};\n\nexport default function start(\n  config,\n  current,\n  record\n) {\n  invariants(invariantArgs, config, current, record);\n\n  // mark record as unsaved and busy\n  var newRecord = prepareRecord(record);\n\n  return current;\n}\n","import * as dissoc from \"ramda/src/dissoc\"\nimport * as lensProp from \"ramda/src/lensProp\"\nimport * as set from \"ramda/src/set\"\n\nimport constants from \"../../../constants\";\nimport invariants from \"../invariants\";\nvar reducerName = constants.REDUCER_NAMES.CREATE_SUCCESS;\nvar invariantArgs = {\n  reducerName,\n  canBeArray: false\n};\n\nexport default function success(\n  config,\n  current,\n  addedRecord,\n  clientGeneratedKey,\n) {\n  invariants(invariantArgs, config, current, addedRecord);\n\n  var key = config.key;\n  var addedRecordKey = addedRecord[key];\n  var addedRecordKeyLens = lensProp(addedRecordKey);\n  var currentWithoutClientGeneratedKey = dissoc(clientGeneratedKey, current);\n\n  return set(\n    addedRecordKeyLens,\n    addedRecord,\n    currentWithoutClientGeneratedKey\n  );\n}\n","import * as omit from \"ramda/src/omit\"\nimport * as merge from \"ramda/src/merge\"\n\nimport constants from \"../../../constants\";\nimport invariants from \"../invariants\";\n\nvar reducerName = constants.REDUCER_NAMES.DELETE_ERROR;\nvar invariantArgs = {\n  reducerName,\n  canBeArray: false\n};\n\nexport default function error(\n  config,\n  current,\n  record\n){\n  invariants(invariantArgs, config, current, record);\n\n  var key = config.key;\n  var deleteId = record[key];\n\n  // Find the record\n  var deleteRecord = current[deleteId];\n\n  if (deleteRecord == null) {\n    return current;\n  } else {\n    // Remove deleted and busy\n    deleteRecord = omit([\"deleted\", \"busy\"], deleteRecord);\n\n    return merge(current, {[deleteId]: deleteRecord});\n  }\n}\n","import {prepareRecord} from \"../../common/delete/start\";\nimport invariants from \"../invariants\";\nimport constants from \"../../../constants\";\nimport store from \"../store\";\n\nvar reducerName = constants.REDUCER_NAMES.DELETE_START;\nvar invariantArgs = {\n  reducerName,\n  canBeArray: false\n};\n\nexport default function start(\n  config,\n  current,\n  record\n) {\n  invariants(invariantArgs, config, current, record);\n\n  var key = config.key;\n  var deleteId = record[key];\n  var deleteRecord = current[deleteId];\n\n  if (deleteRecord == null) {\n    return current;\n  } else {\n    deleteRecord = prepareRecord(deleteRecord);\n\n    return store.merge(config, current, deleteRecord);\n  }\n}\n","import * as reject from \"ramda/src/reject\"\n\nimport invariants from \"../invariants\";\nimport constants from \"../../../constants\";\n\n\nvar reducerName = constants.REDUCER_NAMES.DELETE_SUCCESS;\nvar invariantArgs = {\n  reducerName,\n  canBeArray: false\n};\n\nexport default function success(\n  config,\n  current,\n  record\n) {\n  invariants(invariantArgs, config, current, record);\n\n  var key = config.key;\n  var deleteId = record[key];\n\n  function predicate(existingRecord) {\n    return deleteId == existingRecord[key];\n  }\n\n  return reject(predicate, current);\n}\n","import * as indexBy from \"ramda/src/indexBy\"\nimport * as prop from \"ramda/src/prop\"\nimport * as merge from \"ramda/src/merge\"\n\nimport assertAllHaveKeys from \"../../../utils/assertAllHaveKeys\";\nimport constants from \"../../../constants\";\nimport invariants from \"../invariants\";\nimport wrapArray from \"../../../utils/wrapArray\";\nconst reducerName = constants.REDUCER_NAMES.GET_SUCCESS;\nconst invariantArgs = {\n  reducerName,\n  canBeArray: true\n};\n\nexport default function success(\n  config,\n  current,\n  records,\n  emptyState,\n  replace = false\n){\n  invariants(invariantArgs, config, current, records);\n  // wrap array\n  records = wrapArray(records);\n\n  return records;\n}\n","import * as indexBy from \"ramda/src/indexBy\"\nimport * as prop from \"ramda/src/prop\"\nimport * as merge from \"ramda/src/merge\"\n\nimport assertAllHaveKeys from \"../../../utils/assertAllHaveKeys\";\nimport constants from \"../../../constants\";\nimport invariants from \"../invariants\";\nimport wrapArray from \"../../../utils/wrapArray\";\nconst reducerName = constants.REDUCER_NAMES.FETCH_SUCCESS;\nconst invariantArgs = {\n  reducerName,\n  canBeArray: true\n};\n\nexport default function success(\n  config,\n  current,\n  records,\n  emptyState,\n  replace = false\n){\n  invariants(invariantArgs, config, current, records);\n\n  // wrap array\n  records = wrapArray(records);\n\n  // All given records must have a key\n  assertAllHaveKeys(config, reducerName, records);\n\n  const mergeValues = indexBy(prop(config.key), records);\n\n  return merge(replace ? emptyState : current, mergeValues);\n}\n","import {prepareRecord} from \"../../common/update/error\";\nimport constants from \"../../../constants\";\nimport invariants from \"../invariants\";\nimport store from \"../store\";\n\nvar reducerName = constants.REDUCER_NAMES.UPDATE_ERROR;\nvar invariantArgs = {\n  reducerName,\n  canBeArray: false\n};\n\nexport default function error(\n  config,\n  current,\n  record\n) {\n  invariants(invariantArgs, config, current, record);\n\n  // We don\"t want to rollback\n  var key = config.key;\n  var updatedId = record[key];\n  var updatedRecord = current[updatedId];\n\n  if (updatedRecord == null) return current;\n\n  updatedRecord = prepareRecord(updatedRecord);\n\n  return store.merge(config, current, updatedRecord);\n}\n","import {prepareRecord} from \"../../common/update/start\";\nimport constants from \"../../../constants\";\nimport invariants from \"../invariants\";\nimport store from \"../store\";\n\nvar reducerName = constants.REDUCER_NAMES.UPDATE_START;\nvar invariantArgs = {\n  reducerName,\n  canBeArray: false\n};\n\nexport default function start(\n  config,\n  current,\n  record\n) {\n  invariants(invariantArgs, config, current, record);\n\n  // mark record as unsaved and busy\n  var newRecord = prepareRecord(record);\n\n  // replace record\n  return store.merge(config, current, newRecord);\n}\n","import constants from \"../../../constants\";\nimport invariants from \"../invariants\";\nimport store from \"../store\";\n\nvar reducerName = constants.REDUCER_NAMES.UPDATE_SUCCESS;\nvar invariantArgs = {\n  reducerName,\n  canBeArray: false\n};\n\nexport default function success(\n  config,\n  current,\n  record\n) {\n  invariants(invariantArgs, config, current, record);\n\n  return store.merge(config, current, record);\n}\n","import * as merge from \"ramda/src/merge\"\n\nimport commonReducersFor from \"../common/reducersFor\";\nimport createError from \"./create/error\";\nimport createStart from \"./create/start\";\nimport createSuccess from \"./create/success\";\nimport deleteError from \"./delete/error\";\nimport deleteStart from \"./delete/start\";\nimport deleteSuccess from \"./delete/success\";\nimport getSuccess from \"./get/success\";\nimport fetchSuccess from \"./fetch/success\";\nimport updateError from \"./update/error\";\nimport updateStart from \"./update/start\";\nimport updateSuccess from \"./update/success\";\n\nconst baseReducers = {\n  createError,\n  createStart,\n  createSuccess,\n  deleteError,\n  deleteStart,\n  deleteSuccess,\n  fetchSuccess,\n  getSuccess,\n  updateError,\n  updateStart,\n  updateSuccess\n};\n\nexport default function reducersFor(resourceName, args = {}, deps) {\n  const reducers = merge(baseReducers, deps);\n  return commonReducersFor(resourceName, args, {}, reducers);\n}\n","import reducersFor from \"./map/reducersFor\";\n\nexport default {\n  reducersFor\n};\n","\nimport actionCreatorsFor from \"./actionCreatorsFor\";\nimport actionTypesFor from \"./actionTypesFor\";\nimport constants from \"./constants\";\nimport List from \"./reducers/list\";\nimport Map from \"./reducers/map\";\n\nexport default {\n  actionCreatorsFor,\n  actionTypesFor,\n  constants,\n  List,\n  Map\n};\n","import axios from 'axios';\nimport _ from 'lodash';\nimport { toast } from 'react-toastify';\nimport { createBrowserHistory } from 'history';\n const history = createBrowserHistory();\nconst defaults = {\n  baseURL: process.env.API_URL || 'http://localhost:8100/api/',\n  headers: () => {\n    return {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json; charset=UTF-8\",\n      \"x-access-token\": localStorage.getItem(\"user-veto\"),\n    };\n  },\n  error: {\n    code: 'INTERNAL_ERROR',\n    message:\n      \"Quelque chose s'est mal pass. Veuillez vrifier votre connexion Internet ou contacter notre support.\",\n    status: 503,\n    data: {},\n  },\n};\nconst request = axios;\nrequest.interceptors.response.use(\n  (response) => {\n   // if (response.data.success==true) {\n      if (_.isUndefined(response)) {\n        return [];\n      } else {\n        return response;\n      }\n   // }\n  },\n  (error) => {\n    var status = error.response.status;\n    /**if(status == 403){\n      history.push('/signin');\n    }**/\n    //  toast.error(error.response.message)\n  }\n);\n//console.log( user.token);\nconst api = (method, url, hasFile, variables) =>{\n  let promise = new Promise((resolve, reject) => {\n    let formData = variables;\n    request({\n      url: `${url}`,\n      method,\n      headers: defaults.headers(),\n      params: method == 'get' ? variables : undefined,\n      data: method !== 'get' ? formData : undefined,\n    }).then(\n      response => {\n        console.log('response')\n        if (_.isUndefined(response)) {\n          resolve([]);\n        } else {\n          resolve(response.data);\n        }\n      },\n      error => {\n        console.log('error');\n        if (error?.response) {\n          if (error?.response?.data?.error) {\n            reject(error?.response?.data?.error);\n          } else if (error?.response.data?.errors) {\n            reject(error?.response.data?.errors);\n          }\n        } else {\n          reject(defaults.error);\n        }\n      }\n    );\n  },5000);\n  toast.promise(\n    promise,\n    {\n     // pending: 'Promise is pending',\n     // success: 'Promise resolved ',\n      error: \"Une erreur s'est produite... \"\n    }\n\n)\n   return promise;\n}\n  \n// eslint-disable-next-line import/no-anonymous-default-export\nexport default {\n  get: (...args) => api('get', ...args),\n  post: (...args) => api('post', ...args),\n  put: (...args) => api('put', ...args),\n  patch: (...args) => api('patch', ...args),\n  delete: (...args) => api('delete', ...args),\n};\n","import reduxCrud from '../crud';\nimport humps from 'humps';\nimport { singular } from 'pluralize';\nimport api from '../api';\nimport { isArray } from 'lodash';\nconst wrapArray = objectOrArray =>\n  isArray(objectOrArray) ? objectOrArray : [objectOrArray];\n\nconst transformKeys = (json = {}, key) => {\n  const items = key ? json[key] || json[singular(key)] : json;\n  return humps.camelizeKeys(items);\n};\nconst fetchSuccessRequest = (\n  action,\n  totalItems,\n  totalPages,\n  currentPage,\n  success\n) => ({\n  ...action,\n  records: wrapArray(action.records),\n  receivedAt: new Date(),\n  success: success || '',\n  totalItems: totalItems,\n  totalPages: totalPages,\n  currentPage: currentPage,\n});\nconst getSuccessRequest = action => ({\n  ...action,\n  records: action.records,\n  receivedAt: new Date(),\n});\nexport const get =\n  (\n    resourceName,\n    resourceId,\n    options = {},\n    params = {},\n    successCallback,\n    errorCallback\n  ) =>\n  dispatch => {\n    const actionCreators = reduxCrud.actionCreatorsFor(resourceName);\n    const path = options.path || humps.decamelize(resourceName);\n    const reduxCrudOptions = options.replace\n      ? { replace: options.replace }\n      : undefined;\n    const url =\n      options.url || process.env.API_URL || 'http://localhost:8100/api';\n    dispatch(actionCreators.getStart());\n    return api\n      .get(`${url}/${path}/${resourceId}`, false, params, options)\n      .then(response => {\n        dispatch(\n          getSuccessRequest(\n            actionCreators.getSuccess(transformKeys(response), reduxCrudOptions)\n          )\n        );\n        if (successCallback) {\n          successCallback(transformKeys(response));\n        }\n      })\n      .catch(err => {\n        if (err.response) {\n          if (errorCallback) {\n            errorCallback(err.response);\n          }\n          dispatch(actionCreators.getError(err?.response.data.error));\n        } else {\n          if (errorCallback) {\n            errorCallback(err);\n          }\n          dispatch(actionCreators.getError(err));\n        }\n      });\n  };\n  export const getNoParams =\n  (\n    resourceName,\n    options = {},\n    params = {},\n    successCallback,\n    errorCallback\n  ) =>\n  dispatch => {\n    const actionCreators = reduxCrud.actionCreatorsFor(resourceName);\n    const path = options.path || humps.decamelize(resourceName);\n    const reduxCrudOptions = options.replace\n      ? { replace: options.replace }\n      : undefined;\n    const url =\n      options.url || process.env.API_URL || 'http://localhost:8100/api';\n    dispatch(actionCreators.getStart());\n    return api\n      .get(`${url}/${path}`, false, params, options)\n      .then(response => {\n        dispatch(\n          getSuccessRequest(\n            actionCreators.getSuccess(transformKeys(response), reduxCrudOptions)\n          )\n        );\n        if (successCallback) {\n          successCallback(transformKeys(response));\n        }\n      })\n      .catch(err => {\n        if (err.response) {\n          if (errorCallback) {\n            errorCallback(err.response);\n          }\n          dispatch(actionCreators.getError(err?.response.data.error));\n        } else {\n          if (errorCallback) {\n            errorCallback(err);\n          }\n          dispatch(actionCreators.getError(err));\n        }\n      });\n  };\n\nexport const fetch =\n  (resourceName, options = {}, params = {}, successCallback, errorCallback) =>\n  dispatch => {\n    const actionCreators = reduxCrud.actionCreatorsFor(resourceName);\n    const path = options.path || humps.decamelize(resourceName);\n    const reduxCrudOptions = options.replace\n      ? { replace: options.replace }\n      : undefined;\n    const url =\n      options.url || process.env.API_URL || 'http://localhost:8100/api';\n    dispatch(actionCreators.fetchStart());\n    return api\n      .get(`${url}/${path}`, false, params, options)\n      .then(response => {\n        if (!response.hasOwnProperty('data')) {\n          if (!response.hasOwnProperty('rows')) {\n            dispatch(\n              fetchSuccessRequest(\n                actionCreators.fetchSuccess(\n                  transformKeys(response),\n                  reduxCrudOptions\n                ),\n                null,\n                null,\n                null\n              )\n            );\n            if (successCallback) {\n              successCallback(transformKeys(response));\n            }\n          } else {\n            dispatch(\n              fetchSuccessRequest(\n                actionCreators.fetchSuccess(\n                  transformKeys(response, 'rows'),\n                  reduxCrudOptions\n                ),\n                response.totalItems,\n                response.totalPages,\n                response.currentPage\n              )\n            );\n            if (successCallback) {\n              successCallback(transformKeys(response, 'rows'));\n            }\n          }\n        } else {\n          let data = response.data;\n          dispatch(\n            fetchSuccessRequest(\n              actionCreators.fetchSuccess(\n                transformKeys(data, 'rows'),\n                reduxCrudOptions\n              ),\n              data.totalItems,\n              data.totalPages,\n              data.currentPage\n            )\n          );\n          if (successCallback) {\n            successCallback(transformKeys(data, 'rows'));\n          }\n        }\n      })\n      .catch(err => {\n        if (err.response) {\n          if (errorCallback) {\n            errorCallback(err.response);\n          }\n          dispatch(actionCreators.fetchError(err?.response.data.error));\n        } else {\n          if (errorCallback) {\n            errorCallback(err);\n          }\n          dispatch(actionCreators.fetchError(err));\n        }\n\n        console.log(err);\n      });\n  };\n\n// Create action\n\nexport const create =\n  (\n    resourceName,\n    record,\n    options = {\n      hasFile: false,\n    },\n    successCallback,\n    errorCallback\n  ) =>\n  dispatch => {\n    const actionCreators = reduxCrud.actionCreatorsFor(resourceName);\n\n    const path = options.path || humps.decamelize(resourceName);\n    const url =\n      options.url || process.env.API_URL || 'http://localhost:8100/api';\n    dispatch(actionCreators.createStart(record));\n\n    return api\n      .post(`${url}/${path}`, options.hasFile, record, {\n        replace: true,\n      })\n      .then(json => {\n        dispatch(\n          actionCreators.createSuccess(record, json.id, json)\n        );\n        if (successCallback) {\n          successCallback(record);\n        }\n      })\n      .catch(function (error) {\n        if (error) {\n          dispatch(actionCreators.createError(error, record));\n          if (errorCallback) {\n            errorCallback(error);\n          }\n        } else if (error.message) {\n          dispatch(actionCreators.createError(error, record));\n          if (errorCallback) {\n            errorCallback(error.message);\n          }\n        } else if (error?.response?.data?.message) {\n          if (errorCallback) {\n            errorCallback(error?.response.data.message);\n          }\n          dispatch(\n            actionCreators.createError(error?.response.data.message, record)\n          );\n        }\n      });\n  };\n\n// Update action\n\nexport const update =\n  (\n    resourceName,\n    body,\n    options = {\n      hasFile: false,\n    },\n    successCallback,\n    errorCallback\n  ) =>\n  dispatch => {\n    const actionCreators = reduxCrud.actionCreatorsFor(resourceName);\n    const path =\n      options.path || [humps.decamelize(resourceName), body.id].join('/');\n    const url =\n      options.url || process.env.API_URL || 'http://localhost:8100/api';\n    dispatch(actionCreators.updateStart(body));\n\n    return api\n      .put(`${url}/${path}`, options.hasFile, body, options)\n      .then(json => {\n        dispatch(\n          actionCreators.updateSuccess(body, body.id, {\n            receivedAt: new Date(),\n          })\n        );\n        if (successCallback) {\n          successCallback(body);\n        }\n      })\n      .catch(error => {\n        if (error) {\n          dispatch(actionCreators.updateError(error, body));\n          if (errorCallback) {\n            errorCallback(error);\n          }\n        } else if (error.message) {\n          dispatch(actionCreators.updateError(error, body));\n          if (errorCallback) {\n            errorCallback(error.message);\n          }\n        } else if (error?.response?.data?.message) {\n          dispatch(\n            actionCreators.updateError(error?.response.data.message, body)\n          );\n          if (errorCallback) {\n            errorCallback(error?.response.data.message);\n          }\n        }\n      });\n  };\n\n// Destroy action\n\nexport const destroy =\n  (resourceName, body, options = {}, successCallback, errorCallback) =>\n  dispatch => {\n    const actionCreators = reduxCrud.actionCreatorsFor(resourceName);\n    const path =\n      options.path || [humps.decamelize(resourceName), body.id].join('/');\n    const url =\n      options.url || process.env.API_URL || 'http://localhost:8100/api';\n    dispatch(actionCreators.deleteStart(body));\n\n    return api\n      .delete(`${url}/${path}`, false, body, options)\n      .then(() => {\n        dispatch(\n          actionCreators.deleteSuccess(body, { receivedAt: new Date() })\n        );\n        if (successCallback) {\n          successCallback(body);\n        }\n      })\n      .catch(error => {\n        dispatch(actionCreators.deleteError(error, body));\n        if (errorCallback) {\n          errorCallback(error);\n        }\n      });\n  };\nexport const setItems =\n  (resourceName,data) =>\n  dispatch => {\n    const actionCreators = reduxCrud.actionCreatorsFor(resourceName);\n     const reduxCrudOptions = { replace: true };\n    dispatch(\n              fetchSuccessRequest(\n                actionCreators.fetchSuccess(\n                  transformKeys(data),\n                  reduxCrudOptions\n                ),\n                null,\n                null,\n                null\n              )\n     );\n  }\n\n\nexport const set =\n  (\n    resourceName,\n    record,\n    options = {\n      hasFile: false,\n    },\n    successCallback,\n    errorCallback\n  ) =>\n  dispatch => {\n    const actionCreators = reduxCrud.actionCreatorsFor(resourceName);\n\n    const path = options.path || humps.decamelize(resourceName);\n    const url =\n      options.url || process.env.API_URL || 'http://localhost:8100/api';\n    dispatch(actionCreators.createStart(record));\n\n    return api\n      .post(`${url}/${path}`, options.hasFile, record, {\n        replace: true,\n      })\n  };\n\n// Exports\n\nexport const actionTypesFor = resourceName =>\n  reduxCrud.actionTypesFor(resourceName);\nexport const actionCreatorsFor = resourceName =>\n  reduxCrud.actionCreatorsFor(resourceName);\n","import { combineReducers } from 'redux';\nimport crud from '../crud';\n\nexport const metaInitialState = {\n  isFetching: false,\n  lastUpdatedAt: null,\n  error: null,\n  success: null,\n};\n\nexport const metaFor = (resourceName, options = {}) => {\n  const actionTypes = crud.actionTypesFor(resourceName);\n\n  return (state = metaInitialState, action) => {\n    switch (action.type) {\n      case actionTypes.createStart:\n        return {\n          isLoading: true,\n          error: null,\n          success: '',\n          data: action.data\n        };\n      case actionTypes.createError:\n        return {\n          isLoading: false,\n          error: action.error,\n          success: action.success,\n          data: action.data\n        };\n\n      case actionTypes.createSuccess:\n        return {\n          ...action.payload,\n          isLoading: false,\n          error: null,\n          success: action.success,\n          lastUpdatedAt: action.receivedAt,\n          data: action.data\n        };\n      case actionTypes.createFailed:\n        return {\n          ...action.payload,\n          isLoading: false,\n          error: action.error,\n          success: '',\n          data: action.data\n        };\n      case actionTypes.updateStart:\n        return {\n          ...state,\n          isLoading: true,\n          error: null,\n          success: '',\n          data: action.data\n        };\n      case actionTypes.updateError:\n        return {\n          isLoading: false,\n          error: action.error,\n          success: '',\n          data: action.data\n        };\n\n      case actionTypes.updateSuccess:\n        return {\n          ...state,\n          isLoading: false,\n          error: null,\n          success: action.success,\n          lastUpdatedAt: action.receivedAt,\n          data: action.data\n        };\n      case actionTypes.updateFailed:\n        return {\n          ...state,\n          isLoading: false,\n          error: action.error,\n          success: action.success,\n          data: action.data\n        };\n\n      case actionTypes.destroyStart:\n        return {\n          ...state,\n          isLoading: true,\n          error: null,\n          success: '',\n          data: action.data\n        };\n      case actionTypes.destroySuccess:\n        return {\n          ...state,\n          isLoading: false,\n          error: null,\n          success: action.success,\n          lastUpdatedAt: action.receivedAt,\n          data: action.data\n        };\n      case actionTypes.deleteError:\n        return {\n          isLoading: false,\n          error: action.error,\n          success: '',\n          data: action.data\n        };\n\n      case actionTypes.destroyFailed:\n        return {\n          ...state,\n          isLoading: false,\n          error: action.error,\n          success: '',\n          data: action.data\n        };\n      case actionTypes.getStart:\n        return {\n          ...state,\n          isLoading: true,\n          didInvalidate: false,\n          isFetching: true,\n          error: null,\n          success: '',\n          data: action.data\n        };\n      case actionTypes.getSuccess:\n        return {\n          ...state,\n          isFetching: false,\n        };\n      case actionTypes.getError:\n        return {\n          ...state,\n          isFetching: false,\n          error: action.error,\n        };\n\n      case actionTypes.fetchStart:\n        return {\n          ...state,\n          isFetching: true,\n          error: null,\n          success: '',\n          data: action.data\n        };\n\n      case actionTypes.fetchSuccess:\n        return {\n          ...state,\n          isFetching: false,\n          success: action.success,\n          totalPages: action.totalPages,\n          totalItems: action.totalItems,\n          currentPage: action.currentPage,\n          lastUpdatedAt: action.receivedAt,\n          error: null,\n          data: action.data\n        };\n      case actionTypes.fetchError:\n        return {\n          ...state,\n          isFetching: false,\n          isLoading: false,\n          error: action.error,\n          data: action.data\n        };\n      default:\n        return {\n          ...state,\n        };\n    }\n  };\n};\n\nexport const itemsFor =\n  (resourceName, options = {}) =>\n  (state = {}, action) =>\n    crud.Map.reducersFor(resourceName, options)(state, action);\n\nexport const reducersFor = (resourceName, options = {}) =>\n  combineReducers({\n    items: itemsFor(resourceName, options),\n    meta: metaFor(resourceName, options),\n  });\n","import { create, get,getNoParams,setItems, set , fetch, update, destroy } from \".\";\nimport { values } from \"lodash\";\n//importer { createSelector }  partir de 'reselect' ;\n//https://itnext.io/3-small-tips-for-better-redux-performance-in-a-react-app-9cde549df6af\nexport function action(model, api) {\n  return {\n    get: (id) => get(model, id, { replace: true }),\n    getWithPath: (id, path) => get(model, id, { path: path, replace: true }),\n    getNoParams: (path) => getNoParams(model, { path: path, replace: true }),\n    create: (body, options) => create(model, body, options),\n    update: (body, options) => update(model, body, options),\n    destroy: (body, options) => destroy(model, body, options),\n    fetch: (options, params) => fetch(model, options, params),\n    setItems: (data) => setItems(model, data),\n    createTransaction: (body, path) => create(model, body, { path: path }),\n    updateData: (body, path) => set(model, body, { path: path }),\n    updateTransaction: (body, path) => update(model, body, { path: path }),\n    deleteTransaction: (body, path) => destroy(model, body, { path: path }),\n  };\n}\nexport function getData(model) {\n  return {\n    value: (state) => (state[model].items ? values(state[model].items) : []),\n    item: (state) => (state[model].items ? state[model].items : []),\n    meta: (state) => state[model].meta,\n  };\n}\n","import { fetch } from \"../../utils/lib\";\n\nexport const getCredit = (deb, fin) =>\n  fetch(\"commandes\", { path: `/credit?deb=${deb}&fin=${fin}`, replace: true });\n  \nexport const getCreditVaccinateur = () =>\n  fetch(\"commandes\", { path: `/credit-vaccinateur`, replace: true });\n\nexport const getCommandeDirect = () =>\n  fetch(\"commandes\", { path: `/direct`, replace: true });\nexport const setPayerCommande = (id) =>\n  fetch(\"commandes\", { path: `/set-payer-commande?cId=${id}`, replace: true });\n\nexport const getBenefice = (deb, fin) =>\n  fetch(\"commandes\", {\n    path: `/benefices?deb=${deb}&fin=${fin}`,\n    replace: true,\n  });\nexport const getResteAPayer = (deb, fin) =>\n  fetch(\"commandes\", {\n    path: `/reste-a-payer?deb=${deb}&fin=${fin}`,\n    replace: true,\n  });\n  export const getTdbCommande = (type,deb, fin) =>\n  fetch(\"commandes\", { path: `/get-tdb-commande?type=${type}&deb=${deb}&fin=${fin}`, replace: true });\n  \n export const getTdbCommandeByProduct = (type,deb, fin,id) =>\n  fetch(\"commandes\", { path: `/get-tdb-by-product?type=${type}&deb=${deb}&fin=${fin}&id=${id}`, replace: true });\n  \n  export const getTdbCommandeByProducts = (type,deb, fin,id) =>\n  fetch(\"commandes\", { path: `/get-cmd-by-products?type=${type}&deb=${deb}&fin=${fin}&id=${id}`, replace: true });\n  \nexport const getEntree = (deb, fin) =>\n  fetch(\"commandes\", { path: `/entree?deb=${deb}&fin=${fin}`, replace: true });\n\nexport const getSortie = (deb, fin) =>\n  fetch(\"commandes\", { path: `/sortie?deb=${deb}&fin=${fin}`, replace: true });\n\nexport const getCommandeCVA = (deb, fin,type) =>\n  fetch(\"commandes\", {\n    path: `/vente-cva?deb=${deb}&fin=${fin}&type=${type}`,\n    replace: true,\n  });\n  export const getOperationCommandeCVA = (deb, fin,type) =>\n  fetch(\"commandes\", {\n    path: `/operation-vente-cva?deb=${deb}&fin=${fin}`,\n    replace: true,\n  });\n  export const getCommandeVenteCorrection = (deb, fin) =>\n  fetch(\"commandes\", {\n    path: `/vente-correction?deb=${deb}&fin=${fin}`,\n    replace: true,\n  });\nexport const getCVA = (deb, fin) =>\n  fetch(\"commandes\", { path: `/cva?deb=${deb}&fin=${fin}`, replace: true });\n\nexport const getCommande = (deb, fin) =>\n  fetch(\"commandes\", { path: `/journal?deb=${deb}&fin=${fin}`, replace: true });\n\nexport const getRecetteToDay = () => {\n  fetch(\"commandes\", { path: `/ recette/to/day`, replace: true });\n};\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport Stock from \"./Stock\";\nimport moment from \"moment\";\nimport getByRangeDateAndProduct from \"../../../filters/getByRangeDateAndProduct\";\nimport { displayDate } from \"../../../utils/functions\";\n\nexport const NoItems = () => {\n  return (\n    <td className=\"text-center p-1\">\n        {/**<div className=\"mb-2\">\n          <span className=\"text-center  p-1\">-</span>\n          <span className=\"text-center  p-1\">-</span>\n        </div>{\" \"}**/}\n        <div>\n          <span className=\"text-center  p-1\">-</span>\n          <span className=\"text-center  p-1\">-</span>\n        </div>\n    </td>\n  );\n};\n\nexport default NoItems;\n","import React from \"react\";\nimport { TDB_FACTURES,TDB_VENTE_CBV,TDB_DEPOT_VERS_MAGASIN } from '../../../constants/routes';\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\nexport const MenuTdb = () => {\n    const location = useLocation();\n    const isActive = (route) => {\n        return location.pathname == route;\n      };\n  return (\n    <div className=\"d-flex justify-content-center align-items-center\">\n      <Link\n        className={`btn btn-${\n          isActive(\"/\") ? \"success\" : \"default\"\n        } text-uppercase mr-2`}\n        to={\"/\"}\n      >\n        Journal Vente du magasin\n      </Link>\n      <Link\n        className={`btn btn-${\n          isActive(TDB_FACTURES) ? \"success\" : \"default\"\n        } text-uppercase mr-2`}\n        to={TDB_FACTURES}\n      >\n        Journal de facturation\n      </Link>\n      <Link\n        className={`btn btn-${\n          isActive(TDB_VENTE_CBV) ? \"success\" : \"default\"\n        } text-uppercase mr-2`}\n        to={TDB_VENTE_CBV}\n      >\n        Journal de Vente CBV\n      </Link>\n      <Link\n        className={`btn btn-${\n          isActive(TDB_DEPOT_VERS_MAGASIN) ? \"success\" : \"default\"\n        } text-uppercase mr-2`}\n        to={TDB_DEPOT_VERS_MAGASIN}\n      >\n        Journal de Depot vers magasin\n      </Link>\n    </div>\n  );\n};\n","import 'react-app-polyfill/stable';\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport React, { useState, useEffect, Suspense } from \"react\";\nimport moment from \"moment\";\nimport Notification from \"./components/Notification\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport ContentHeader from \"./@adminlte/adminlte/Content/ContentHeader\";\nimport ActiveLink from \"./@adminlte/adminlte/Content/ActiveLink\";\nimport Content from \"./@adminlte/adminlte/Content\";\nimport Page from \"./@adminlte/adminlte/Content/Page\";\nimport { ActionCreators } from \"react-redux-undo\";\n\nimport DateRangePicker from \"@wojtekmaj/react-daterange-picker\";\nimport { displayDate } from \"./utils/functions\";\nimport NameOfDay from \"./components/composants/journal/NameOfDay\";\nimport DateInterval from \"./components/composants/journal/DateInterval\";\nimport Items from \"./components/composants/journal/Items\";\n\nimport getByRangeDateAndProduct from \"./filters/getByRangeDateAndProduct\";\nimport getByRangeDate from \"./filters/getByRangeDate\";\nimport flatify from \"./filters/flatify\";\nimport { vetoProducts } from \"./data/product\";\nimport { action, getData } from \"./utils/lib/call\";\nimport { getTdbCommande } from \"./store/actions/commandes\";\nimport { NoItems } from \"./components/composants/journal/NoItems\";\nimport { LastStock } from \"./components/composants/journal/LastStock\";\nimport { MenuTdb } from \"./components/composants/journal/MenuTdb\";\nexport const groupBy = (array, key, subkey) => {\n  return array.reduce((result, currentValue) => {\n    if (!subkey) {\n      (result[currentValue[key]] = result[currentValue[key]] || []).push(\n        currentValue\n      );\n    } else {\n      (result[currentValue[key][subkey]] =\n        result[currentValue[key][subkey]] || []).push(currentValue);\n    }\n    return result;\n  }, {});\n};\nfunction last(array) {\n  return array[array.length - 1];\n}\nfunction App() {\n  var start = moment().isoWeekday(1).startOf(\"week\");\n  var end = moment().endOf(\"week\");\n  const [rangeDate, setRangeDate] = useState([]);\n  const [rangeMonth, setRangeMonth] = useState([]);\n  let [startofDate, setStartofDate] = useState(start);\n  let [endDate, setEndDate] = useState(end);\n  const [dateRange, onChangeDateRange] = useState([start, end]);\n  const [byDateProduct, setByDateProduct] = useState([]);\n  const [result, setResult] = useState([]);\n  const commandes = useSelector(getData(\"commandes\").value);\n  const meta = useSelector(getData(\"commandes\").meta);\n  const dispatch = useDispatch();\n\n  let getAllMonthBetweenDates = (startDate, endDate) => {\n    const months = [];\n    while (endDate.diff(startDate, \"months\") >= 0) {\n      months.push(startDate.format(\"MMMM YYYY\"));\n      startDate.add(1, \"month\");\n    }\n    return months;\n  };\n  let getDaysBetweenDates = (startDate, endDate) => {\n    let now = startDate.clone();\n    const dates = [];\n    while (now.isSameOrBefore(endDate)) {\n      dates.push(now.format(\"YYYY-MM-DD\"));\n      now.add(1, \"days\");\n    }\n    return dates;\n  };\n\n  useEffect(() => {\n    if (dateRange !== null) {\n      if (dateRange[0]) {\n        setStartofDate(dateRange[0]);\n      }\n      if (dateRange[0]) {\n        setEndDate(dateRange[1]);\n      }\n    } else {\n      setStartofDate(start);\n      setEndDate(end);\n    }\n  }, [dateRange]);\n\n  useEffect(() => {\n    if (startofDate && endDate) {\n      setRangeDate(getDaysBetweenDates(moment(startofDate), moment(endDate)));\n      setRangeMonth(\n        getAllMonthBetweenDates(moment(startofDate), moment(endDate))\n      );\n      dispatch(getTdbCommande('vente-cva',startofDate, endDate));\n    }\n  }, [startofDate, endDate]);\n  useEffect(() => {\n    if (!meta.isFetching) {\n      setByDateProduct(\n        getByRangeDate(commandes, \"dateCom\", startofDate, endDate)\n      );\n    }\n  }, [meta]);\n  let rs = flatify(byDateProduct, \"contenu\");\n  let res = rs\n    .reduce(\n      (\n        r,\n        {\n          id,\n          name,\n          type,\n          category,\n          fournisseur,\n          quantityParProduct,\n          quantityBruteCVA,\n          quantityCCCVA,\n          qttByCC,\n          qttbylitre\n        }\n      ) => {\n        var temp = r.find((o) => o.id === id);\n        if (!temp) {\n          r.push({\n            id,\n            name,\n            type,\n            category,\n            fournisseur,\n            quantityBruteCVA,\n            quantityCCCVA,\n            quantityParProduct,\n            qttByCC,\n            qttbylitre\n          });\n        } else {\n            (temp.quantityParProduct =\n              parseInt(temp.quantityParProduct) + parseInt(quantityParProduct));\n          temp.qttByCC = parseInt(temp.qttByCC) + parseInt(qttByCC);\n          temp.qttbylitre = parseInt(temp.qttbylitre) + parseInt(qttbylitre);\n        }\n        return r;\n      },\n      []\n    )\n    .sort(function (a, b) {\n      return a.id > b.id;\n    });\n  const flato = (data, attribute) => {\n    return [...new Set([].concat(...data.map((o) => o[attribute])))];\n  };\n\n  const groupedBasket = groupBy(byDateProduct, \"dateCom\");\n  return (\n    <>\n      <Content>\n        <ContentHeader title=\"Journal de vente du magasin\">\n          <ActiveLink title=\"Journal de vente du magasin\"></ActiveLink>\n        </ContentHeader>\n        <Page>\n        <MenuTdb/>\n          <div className=\"date-range\">\n            <div className=\"d-flex justify-content-between my-3\">\n              <div>\n                {startofDate && endDate && (\n                  <>\n                    <h2 class=\"text-uppercase my-1\">\n                      Journal de vente du magasin{\" \"}\n                    </h2>\n                    <span>\n                      Du: {displayDate(startofDate)} Au {displayDate(endDate)}\n                    </span>\n                  </>\n                )}{\" \"}\n              </div>\n              <div>\n                <DateRangePicker\n                  locale=\"fr-FR\"\n                  onChange={onChangeDateRange}\n                  value={dateRange}\n                />\n              </div>\n            </div>\n            <div className=\"bg-white py-3 px-2 mb-2\">\n            <div>\n                <span\n                  className=\"bg-secondary px-2\"\n                  style={{\n                    width: 5,\n                    height: 5,\n                  }}\n                ></span>\n                 <span className=\" ml-2\">: Quantit de commande en litre (special pour les PHYTO)</span>\n              </div>\n              <div>\n                <span\n                  className=\"bg-primary px-2\"\n                  style={{\n                    width: 5,\n                    height: 5,\n                  }}\n                ></span>\n                 <span className=\" ml-2\">: Quantit de commande en (FLACON,BOLUS,UNITE,SACHET)</span>\n              </div>\n              <div>\n                <span\n                  className=\"bg-warning px-2\"\n                  style={{\n                    width: 5,\n                    height: 5,\n                  }}\n                ></span>\n                 <span className=\" ml-2\">: Quantit de vente en ML</span>\n              </div>\n            </div>\n            <div className=\"table-responsive\">\n        \n              <table class=\"table\">\n                <tr className=\"sticky-this\">\n                  <td>Produit</td>\n                  {rangeDate.map((r) => (\n                    <>\n                      <DateInterval date={r} />\n                    </>\n                  ))}\n                  <td className=\"bg-thead text-uppercase text-center\">Total</td>\n                  <td className=\"bg-thead text-uppercase text-center\">Total ML</td>\n                </tr>\n                {res.map((b) => (\n                  <>\n                    <tr class=\"bg-white\">\n                      <td className=\"bg-thead\">{b.name}</td>\n                      {rangeDate.map((r) => (\n                        <>\n                          {groupedBasket[r] != undefined ? (\n                            <Items\n                              flat={flato(groupedBasket[r], \"contenu\")}\n                              gr={r}\n                              quantityb={b.quantityBruteCVA}\n                              quantityc={b.quantityCCCVA}\n                              quantitycond={b.condval}\n                              id={b.id}\n                            />\n                          ) : (\n                            <NoItems />\n                          )}\n                        </>\n                      ))}\n                      <td className=\"text-center\">{b.quantityParProduct}</td>\n\n                      <td className=\"text-center\">{b.qttByCC}</td>\n                       \n                    </tr>\n                  </>\n                ))}\n                {res.length == 0 && (\n                  <tr>\n                    <td className=\"text-center\" colSpan={rangeDate.length + 3}>\n                      Aucune enregistrement trouv\n                    </td>\n                  </tr>\n                )}\n              </table>\n            </div>\n          </div>\n\n          {/**  <div className=\"date-range\">\n            <div className=\"d-flex justify-content-between my-3\">\n              <div>\n                {startofDate && endDate && (\n                  <>\n                    <h2>Journal de vente </h2>\n                    <span>\n                      Du: {displayDate(startofDate)} Au {displayDate(endDate)}\n                    </span>\n                  </>\n                )}{\" \"}\n              </div>\n              <div>\n                <DateRangePicker\n                  locale=\"fr-FR\"\n                  onChange={onChangeDateRange}\n                  value={dateRange}\n                />\n                <button\n                  className=\"ml-3 btn btn-primary btn-sm\"\n                  onClick={getDataa}\n                >\n                  Filtrer\n                </button>\n              </div>\n            </div>\n\n            <div className=\"table-responsive\">\n              <table class=\"table\">\n                <tr className=\"sticky-this\">\n                  <td>Produit</td>\n                  {rangeDate.map((r) => (\n                    <>\n                      <DateInterval date={r} />\n                    </>\n                  ))}\n                  <td className=\"bg-green text-center\">INV</td>\n                  <td className=\"bg-info text-center\">INV CC</td>\n                </tr>\n                {resultat.map((b) => (\n                  <>\n                    <tr>\n                      <td className=\"bg-gray\">{b.name}</td>\n                      {rangeDate.map((r) => (\n                        <>\n                       <Items product={b} data={resultat} date={r} />{\" \"}\n                        </>\n                      ))}\n                      <td className=\"text-center\">{b.quantityParProduct}</td>\n                      <td className=\"text-center\">{b.qttByCC}</td>\n                    </tr>\n                  </>\n                ))}\n                {resultat.length == 0 && (\n                  <tr>\n                    <td className=\"text-center\" colSpan={rangeDate.length + 3}>\n                      Aucune enregistrement trouv\n                    </td>\n                  </tr>\n                )}\n              </table>\n            </div>\n          </div> */}\n        </Page>\n      </Content>\n    </>\n  );\n}\n\nexport default App;\n","import React, { useState,useEffect } from \"react\";\nimport { useDomEvent } from \"framer-motion\";\nimport { Col, Row } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { updateStockSuccess } from \"../store/basket/actions/stock\";\nimport { action,getData } from \"../utils/lib/call\";\nconst ApprovItem = ({ product }) => {\n  const [selected, setSelected] = useState(false);\n  const meta = useSelector(getData(\"commandes\").meta);\n  const dispatch = useDispatch();\n\n  const [value, setValue] = useState(1);\n  useEffect(()=>{\n    dispatch(action(\"commandes\").fetch());\n  },[])\n  const AddToStock = () => {\n    dispatch(updateStockSuccess(product.id, value, 0));\n    dispatch(\n      action(\"commandes\").create({\n        id: meta.nextId,\n        contenu: [product],\n        type: \"approv\",\n        sorte: \"entree\",\n        vaccinateurId: null,\n        qtteBrute: value,\n        qtteCC: 0,\n        status: true,\n        emprunterId: null,\n        dateCom: new Date(),\n      })\n    );\n    setSelected(true);\n  };\n  return (\n    <tr\n      className={`product-card ${!product.id ? \"product-loading\" : \"\"}`}\n      style={{\n        border: product && selected ? \"1px solid #a6a5a5\" : \"\",\n        boxShadow:\n          product && selected ? \"0 10px 15px rgba(0, 0, 0, .07)\" : \"none\",\n      }}\n    >\n      <td>{product.name}</td>\n      <td>{product.quantityBrute + value}</td>\n      <td className=\"d-flex justify-content-center align-items-center\">\n        <div class=\"input-group inline-group\">\n          <div class=\"input-group-prepend\">\n            <button\n              class=\"btn btn-sm btn-dark btn-minus\"\n              onClick={() => {\n                if (value > 0) setValue(value - 1);\n              }}\n            >\n              -\n            </button>\n          </div>\n          <input\n            class=\"form-control quantity text-center  p-0\"\n            min=\"0\"\n            name=\"quantity\"\n            value={value}\n            type=\"number\"\n          />\n          <div class=\"input-group-append\">\n            <button\n              class=\"btn btn-sm btn-dark btn-plus mr-2\"\n              onClick={() => setValue(value + 1)}\n            >\n              +\n            </button>\n          </div>\n          <div class=\"input-group-append ml-2\"></div>\n        </div>\n      </td>\n      <td>\n        {product.id && (\n          <button className=\"btn btn-success  btn-sm\" onClick={AddToStock}>\n            Modifier le stock\n          </button>\n        )}\n      </td>\n    </tr>\n  );\n};\n\nexport default ApprovItem;\n","import axios from \"axios\";\nimport {\n  UPDATE_STOCK_REQUEST_FAIL,\n  UPDATE_STOCK_REQUEST_SUCCESS,\n} from \"../../../constants/actions\";\n\nexport const updateStockSuccess =\n  (id, newStockBrute, newStockCC) => async (dispatch) => {\n\n  try {\n    const res = await axios.post(\"http://localhost:8100/api/update-product\", {\n      productId: id,\n      newStockBrute: newStockBrute,\n      newStockCC: newStockCC,\n    });\n    dispatch({\n      type: UPDATE_STOCK_REQUEST_SUCCESS,\n      payload: res.data,\n    });\n  } catch (err) {\n    dispatch({\n      type: UPDATE_STOCK_REQUEST_FAIL,\n      payload: err,\n    });\n  }\n};\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { action, getData } from \"../utils/lib/call\";\nimport ApprovItem from \"../components/ApprovItem\";import Content from \"../@adminlte/adminlte/Content\";\nimport ActiveLink from \"../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../@adminlte/adminlte/Content/Page\";\n\nexport default function Approv() {\n  const products = useSelector(getData(\"products\").value);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(action(\"products\").fetch());\n  }, []);\n  return (\n    <Content>\n      <ContentHeader title=\"Approvisionnement\">\n        <ActiveLink title=\"Approvisionnement\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n        <table className=\"table table-bordered table-striped\">\n          <thead>\n            <tr className=\"text-center\">\n              <th>Nom de l'article</th>\n              <th style={{ width: \"15%\" }}>Qte</th>\n              <th style={{ width: \"15%\" }}>Nouvel</th>\n              <th style={{ width: \"20%\" }}>Actions</th>\n            </tr>\n          </thead>\n    <tbody>\n          {products.map((p) => (\n            <ApprovItem product={p} />\n          ))}\n\n    </tbody>\n        </table>\n      </Page>\n    </Content>\n  );\n}\n","import React, { forwardRef, useEffect } from \"react\";\nimport { Input, useColorModeValue } from \"@chakra-ui/react\";\nimport { isFunction } from \"lodash\";\nconst TextInput = forwardRef(\n  (\n    {\n      icon,\n      className,\n      filter,\n      setData,\n      name,\n      value,\n      data = 0,\n      placeholder,\n      changeValue,\n      invalid,\n      ...inputProps\n    },\n    ref\n  ) => {\n    const handleChange = React.useCallback(\n      (event) => {\n        if (!filter || filter.test(event.target.value)) {\n          if (isFunction(changeValue)) {\n            changeValue(event.target.value, event);\n          }\n        }\n      },\n      [name]\n    );\n    useEffect(() => {\n      if (data) changeValue(data);\n    }, [data]);\n    return (\n      <div className={className}>\n        {icon && <i className={`fa fa-${icon}`} />}\n        <Input\n          bg={\"gray.100\"}\n          boxShadow=\"sm\"\n          isInvalid={invalid}\n          color={\"gray.700\"}\n          placeholder={placeholder}\n          ref={ref}\n          defaultValue={value}\n          onBlur={handleChange}\n        />\n      </div>\n    );\n  }\n);\nexport default TextInput;\n","import { Radio, Stack ,RadioGroup} from \"@chakra-ui/react\";\nimport React, { forwardRef, useState } from \"react\";\n\nconst RadioButton = forwardRef(\n  (\n    {\n      name,\n      className,\n      options,\n      radioValue,\n      valueKey,\n      direction,\n      filter,\n      setData,\n      changeValue,\n      setRadio,\n      ...inputProps\n    },\n    ref\n  ) => {\n    const [radioValueData,setRadioValue]=useState(radioValue);\n    const [value, setValue] = React.useState(`${radioValueData}`);\n    React.useLayoutEffect(()=>{\n      changeValue(value);\n      if(setData){\n        setData(value);\n        setRadioValue(value);\n      }\n    },[value])\n    React.useLayoutEffect(()=>{\n      if(setRadio){\n        setRadio(radioValueData);\n      }\n    },[radioValueData])\n    return (\n      <RadioGroup \n      onChange={setValue}\n       defaultValue={`${radioValueData}`} className={className}>\n        <Stack spacing={4} direction={direction}>\n          {options.map((value) => (\n            <>\n              <Radio\n                name={`${value.id}`}\n                isChecked={value.id == radioValueData ? true : false}\n                {...inputProps}\n                value={`${value.id}`}\n                ref={ref}\n              >\n                {value[valueKey]}\n              </Radio>\n            </>\n          ))}\n        </Stack>\n      </RadioGroup>\n    );\n  }\n);\nexport default RadioButton;\n","import { Select, useColorModeValue } from \"@chakra-ui/react\";\nimport { isFunction } from \"lodash-es\";\nimport React, { forwardRef } from \"react\";\n\nconst SelectButton = forwardRef(\n  (\n    {\n      name,\n      className,\n      invalid,\n      options,\n      selectValue,\n      valueKey,\n      filter,\n      isNumeric = true,\n      emptyValue = true,\n      setData,\n      changeValue,\n      ...inputProps\n    },\n    ref\n  ) => {\n    const handleChange = (event) => {\n      if (!filter || filter.test(event.target.value)) {\n        if (isFunction(changeValue)) {\n          if (isNumeric) {\n            changeValue(Number(event.target.value), event);\n          } else {\n            changeValue(event.target.value, event);\n          }\n        }\n        if (setData) {\n          if (isNumeric) {\n            setData(Number(event.target.value));\n          } else {\n            setData(event.target.value);\n          }\n        }\n      }\n    };\n    return (\n      <div className={className}>\n        <Select\n          {...inputProps}\n          bg={\"gray.200\"}\n          boxShadow=\"sm\"\n          defaultValue={`${selectValue}`}\n          //   valueKey={valueKey}\n          isRequired\n          name={name}\n          isInvalid={invalid}\n          onChange={handleChange}\n          ref={ref}\n        >\n          {emptyValue && <option value=\"\">Selectionner</option>}\n          {options?.map((value) => (\n            <option\n              defaultChecked={`${selectValue}`}\n              value={`${valueKey ? value.id : value}`}\n            >\n              {valueKey ? value[valueKey] : value}\n            </option>\n          ))}\n        </Select>\n      </div>\n    );\n  }\n);\nexport default SelectButton;\n","import { Textarea,useColorModeValue } from \"@chakra-ui/react\";\nimport { isFunction } from \"lodash-es\";\nimport React, { forwardRef } from \"react\";\n\nconst TextareaInput = forwardRef(\n  (\n    { icon, className, filter, setData,placeholder, changeValue, invalid, ...inputProps },\n    ref\n  ) => {\n    const handleChange = (event) => {\n      if (!filter || filter.test(event.target.value)) {\n       if(isFunction(changeValue)) changeValue(event.target.value, event);\n        if (setData) {\n          setData(event.target.value);\n        }\n      }\n    };\n\n    return (\n      <div className={className}>\n        <Textarea bg={\"gray.200\"} boxShadow=\"sm\"\n          isInvalid={invalid}\n          placeholder={placeholder}\n          {...inputProps}\n          onChange={handleChange}\n          ref={ref}\n        />\n      </div>\n    );\n  }\n);\nexport default TextareaInput;\n","import { Input } from \"@chakra-ui/input\";\nimport React, { forwardRef, useCallback, useEffect, useLayoutEffect, useState } from \"react\";\nimport ReactTags from \"react-tag-autocomplete\";\nimport \"../styles/tags.css\";\nconst TagInput = forwardRef(\n  (\n    {\n      icon,\n      className,\n      filter,\n      setData,\n      tags,\n      options,\n      changeValue,\n      invalid,\n      ...inputProps\n    },\n    ref\n  ) => {\n    const [changed, setChanged] = useState(false);\n    const [tagsData, setTagsData] = useState(tags ? tags : []);\n\n    const onDelete = useCallback(\n      (tagIndex) => {\n        setTagsData(tagsData.filter((_, i) => i !== tagIndex));\n        setChanged(true);\n      },\n      [tagsData]\n    );\n    useLayoutEffect(() => {\n      if (changed) changeValue(tagsData);\n      if (setData) {\n        setData(tagsData);\n      }\n      setChanged(false);\n    }, [changed]);\n\n    const onAddition = useCallback(\n      (newTag) => {\n        setTagsData([...tagsData, newTag]);\n        setChanged(true);\n      },\n      [tagsData]\n    );\n\n    return (\n      <div className={className}>\n        {icon && <i className={`fa fa-${icon}`} />}\n        <ReactTags\n          as={Input}\n          ref={ref}\n          tags={tagsData}\n          suggestions={options}\n          onDelete={onDelete}\n          onAddition={onAddition}\n        />\n      </div>\n    );\n  }\n);\nexport default TagInput;\n","import React, { forwardRef } from \"react\";\nimport { Input, useColorModeValue } from \"@chakra-ui/react\";\nimport {isFunction} from \"lodash\";\nconst DateInput = forwardRef(\n  (\n    {\n      icon,\n      className,\n      filter,\n      setData,\n      name,\n      placeholder,\n      changeValue,\n      invalid,\n      ...inputProps\n    },\n    ref\n  ) => {\n    const handleChange =React.useCallback((event) => {\n      if (!filter || filter.test(event.target.value)) {\n        if (isFunction(changeValue)) {\n          changeValue(event.target.value, event);\n        }\n      }\n    },[name]);\n    return (\n      <div className={className}>\n        {icon && <i className={`fa fa-${icon}`} />}\n        <Input\n          bg={\"gray.100\"}\n          type=\"date\"\n          boxShadow=\"sm\"\n          locale=\"fr-FR\"\n          isInvalid={invalid}\n          color={\"gray.700\"}\n          placeholder={placeholder}\n          ref={ref}\n          onBlur={handleChange}\n        />\n      </div>\n    );\n  }\n);\nexport default  DateInput;\n\n","import { Select } from '@chakra-ui/react';\nimport { isFunction } from 'lodash-es';\nimport React, { forwardRef, useEffect, useState } from 'react';\n//import api from \"../../../../../utils/api\";\nconst SelectObject = forwardRef(\n  (\n    {\n      name,\n      className,\n      invalid,\n      isFieldArray = true,\n      options,\n      selectValue,\n      valueKey,\n      filter,\n      setData,\n      objectKey,\n      index,\n      inArray,\n      changeValue,\n      model,\n\n      debug,\n      array,\n      ...inputProps\n    },\n    ref\n  ) => {\n    const [objectId, setObjectId] = useState(selectValue);\n    const handleChange = event => {\n      if (!filter || filter.test(event.target.value)) {\n        if (isFunction(changeValue)) {\n          if (isFieldArray) {\n            changeValue(Number(event.target.value, event));\n          }\n        }\n        if (setData) {\n          setData(Number(event.target.value));\n        }\n        setObjectId(Number(event.target.value));\n      }\n    };\n    /*useEffect(() => {\n      (async () => {\n        await api.get(`http://localhost:8100/api/${model}/${objectId}`).then(\n          (data) => {\n            inArray.forEach((element) => {\n              if (index) {\n                array[index][element] = data[element];\n              } else {\n                array[element] = data[element];\n              }\n            \n            });\n            changeValue(array);\n          },\n          (err) => {\n            console.log(err);\n          }\n        );\n      })();\n    }, [objectId]);*/\n    return (\n      <div className={className}>\n        <Select\n          {...inputProps}\n          bg={'gray.200'}\n          boxShadow=\"sm\"\n          defaultValue={`${selectValue}`}\n          //   valueKey={valueKey}\n          isRequired\n          name={name}\n          isInvalid={invalid}\n          onChange={handleChange}\n          ref={ref}\n        >\n          <option value=\"\">Selectionner</option>\n          {options.map(value => (\n            <option defaultChecked={`${selectValue}`} value={`${value.id}`}>\n              {valueKey ? value[valueKey] : value}\n            </option>\n          ))}\n        </Select>\n      </div>\n    );\n  }\n);\nexport default SelectObject;\n","import { Radio, Stack, RadioGroup } from \"@chakra-ui/react\";\nimport React, { forwardRef, useState } from \"react\";\nimport { Button } from \"@chakra-ui/button\";\nimport { useDispatch } from \"react-redux\";\n\nconst RadioObject = forwardRef(\n  (\n    {\n      name,\n      className,\n      options,\n      radioValue,\n      valueKey,\n      direction,\n      inArray,\n      filter,\n      setData,\n      changeValue,\n      setRadio,\n      masterKey,\n      filtrable,\n      callback = null,\n      ...inputProps\n    },\n    ref\n  ) => {\n    const [radioValueData, setRadioValue] = useState(radioValue);\n    const [value, setValue] = React.useState(`${radioValueData}`);\n    const dispatch = useDispatch();\n    React.useEffect(() => {\n      if (masterKey) {\n        changeValue(options.find((option) => option[masterKey].id == value));\n      } else {\n        changeValue(options.find((option) => option.id == value));\n      }\n    }, [value]);\n    React.useLayoutEffect(() => {\n      if (setRadio) {\n        setRadio(radioValueData);\n      }\n    }, [radioValueData]);\n    return (\n      <>\n        <RadioGroup\n          onChange={setValue}\n          name={name}\n          defaultValue={`${radioValueData}`}\n          className={className}\n        >\n          <Stack spacing={4} direction={direction}>\n            {options.map((value) => (\n              <>\n                {masterKey ? (\n                  <>\n                    <Radio\n                      {...inputProps}\n                      value={`${value[masterKey].id}`}\n                      ref={ref}\n                    >\n                      {value[masterKey][valueKey]}\n                    </Radio>\n                    {filtrable == true && (\n                      <Button\n                        variant=\"solid\"\n                        onClick={() => dispatch(callback(value[masterKey].id))}\n                        colorScheme={\"yellow\"}\n                        size=\"xs\"\n                      >\n                        Annuler\n                      </Button>\n                    )}\n                  </>\n                ) : (\n                  <>\n                    <Radio {...inputProps} value={`${value.id}`} ref={ref}>\n                      {value[valueKey]}\n                    </Radio>\n                    {filtrable == true && (\n                      <Button\n                        variant=\"solid\"\n                        onClick={() => dispatch(callback(value.id))}\n                        colorScheme={\"yellow\"}\n                        size=\"xs\"\n                      >\n                        Annuler\n                      </Button>\n                    )}\n                  </>\n                )}\n              </>\n            ))}\n          </Stack>\n        </RadioGroup>\n      </>\n    );\n  }\n);\nexport default RadioObject;\n","import {\n  Radio,\n  Button,\n  Box,\n  Stack,\n  RadioGroup,\n  useRadio,\n  useRadioGroup,\n  HStack,\n} from \"@chakra-ui/react\";\nimport React, { forwardRef, useState } from \"react\";\nfunction RadioCard(props) {\n  const { getInputProps, getCheckboxProps } = useRadio(props);\n\n  const input = getInputProps();\n  const checkbox = getCheckboxProps();\n\n  return (\n    <Box as=\"label\">\n      <input {...input} />\n      <Box\n        {...checkbox}\n        cursor=\"pointer\"\n        borderWidth=\"1px\"\n        borderRadius=\"md\"\n        boxShadow=\"md\"\n        _checked={{\n          bg: \"teal.600\",\n          color: \"white\",\n          borderColor: \"teal.600\",\n        }}\n        _focus={{\n          boxShadow: \"outline\",\n        }}\n        px={5}\n        py={3}\n      >\n        {props.children}\n      </Box>\n    </Box>\n  );\n}\nconst RadioProduct = forwardRef(\n  (\n    {\n      name,\n      className,\n      options,\n      radioValue,\n      valueKey,\n      direction,\n      inArray,\n      filter,\n      setData,\n      changeValue,\n      setRadio,\n      filtrable,\n      ...inputProps\n    },\n    ref\n  ) => {\n    const [radioValueData, setRadioValue] = useState(radioValue);\n    const [value, setValue] = React.useState(`${radioValueData}`);\n    const removeFromArray = (value) => {\n      options.filter((option) => option.id != value);\n    };\n    React.useEffect(() => {\n      changeValue(options.find((option) => option.id == value));\n      if (setData) {\n        setData(value);\n        setRadioValue(value);\n      }\n    }, [value]);\n    React.useLayoutEffect(() => {\n      if (setRadio) {\n        setRadio(radioValueData);\n      }\n    }, [radioValueData]);\n    const { getRootProps, getRadioProps } = useRadioGroup({\n      name: name,\n      defaultValue: 1,\n      onChange: (value) => {\n        console.log(\"hiii\", value);\n      },\n    });\n\n    const group = getRootProps();\n    return (\n      <>\n        <HStack {...group}>\n          {options.map(({ id }) => {\n            const radio = getRadioProps({ id });\n\n            return (\n              <RadioCard key={id} {...radio}>\n                {id}\n              </RadioCard>\n            );\n          })}\n        </HStack>\n        {/**\n       <RadioGroup\n        onChange={setValue}\n        name={name}\n        defaultValue={`${radioValueData}`}\n        className={className}\n      >\n        <Stack spacing={4} direction={direction}>\n          {options.map((value) => (\n            <>\n              <Radio {...inputProps} value={`${value.id}`} ref={ref}>\n                {value[valueKey]}\n              </Radio>\n              {filtrable == true && (\n                <Button\n                  variant=\"solid\"\n                  onClick={() => removeFromArray(value.id)}\n                  colorScheme={\"yellow\"}\n                  size=\"xs\"\n                >\n                  Annuler\n                </Button>\n              )}\n            </>\n          ))}\n        </Stack>\n      </RadioGroup>\n      \n      \n       */}\n      </>\n    );\n  }\n);\nexport default RadioProduct;\n","import React, { forwardRef } from \"react\";\nimport { Input, useColorModeValue } from \"@chakra-ui/react\";\nimport {isFunction} from \"lodash\";\nconst PasswordInput = forwardRef(\n  (\n    {\n      icon,\n      className,\n      filter,\n      setData,\n      name,\n      value,\n      placeholder,\n      changeValue,\n      invalid,\n      ...inputProps\n    },\n    ref\n  ) => {\n    const handleChange =React.useCallback((event) => {\n      if (!filter || filter.test(event.target.value)) {\n        if (isFunction(changeValue)) {\n          changeValue(event.target.value, event);\n        }\n      }\n    },[name]);\n    return (\n      <div className={className}>\n        {icon && <i className={`fa fa-${icon}`} />}\n        <Input\n          bg={\"gray.100\"}\n          boxShadow=\"sm\"\n          type=\"password\"\n          isInvalid={invalid}\n          color={\"gray.700\"}\n          placeholder={placeholder}\n          ref={ref}\n          defaultValue={value}\n          onBlur={handleChange}\n          \n        />\n      </div>\n    );\n  }\n);\nexport default  PasswordInput;\n\n","import React, { forwardRef } from 'react';\nimport { Input, Checkbox, useColorModeValue } from '@chakra-ui/react';\nimport { isFunction } from 'lodash';\nconst CheckBoxInput = forwardRef(\n  (\n    {\n      icon,\n      className,\n      filter,\n      setData,\n      name,\n      value,\n      label,\n      placeholder,\n      changeValue,\n      invalid,\n      ...inputProps\n    },\n    ref\n  ) => {\n    const handleChange = React.useCallback(\n      event => {\n        if (!filter || filter.test(event.target.value)) {\n          if (isFunction(changeValue)) {\n            changeValue(event.target.value, event);\n          }\n        }\n      },\n      [name]\n    );\n    return (\n      <div className={className}>\n        {icon && <i className={`fa fa-${icon}`} />}\n        <Checkbox\n          colorScheme=\"teal\"\n          ref={ref}\n          defaultValue={value}\n          onChange={handleChange}\n          name={name}\n          defaultIsChecked\n        >\n          {label}\n        </Checkbox>\n       \n      </div>\n    );\n  }\n);\nexport default CheckBoxInput;\n","import React, { forwardRef, useEffect } from \"react\";\nimport { Input, useColorModeValue } from \"@chakra-ui/react\";\nimport { isFunction } from \"lodash\";\n\nimport {\n  NumberInput,\n  NumberInputField\n} from \"@chakra-ui/react\";\n\nconst NumberInputComponent = forwardRef(\n  (\n    {\n      icon,\n      className,\n      filter,\n      setData,\n      name,\n      value,\n      data = 0,\n      min=0,\n      placeholder,\n      changeValue,\n      invalid,\n      ...inputProps\n    },\n    ref\n  ) => {\n    const handleChange = React.useCallback(\n      (value) => {\n        if (!filter || filter.test(value)) {\n          if (isFunction(changeValue)) {\n            changeValue(Number(value));\n          }\n        }\n      },\n      [name]\n    );\n    useEffect(() => {\n      if (data) changeValue(Number(data));\n    }, [data]);\n    return (\n      <div className={className}>\n        {icon && <i className={`fa fa-${icon}`} />}\n         <NumberInput\n          inputMode={\"numeric\"}\n          bg={\"gray.100\"}\n          boxShadow=\"sm\"\n          color={\"gray.700\"}\n          isInvalid={invalid}\n          name={name}\n          ref={ref}\n          step={1}\n          onChange={handleChange}\n          min={min}\n          defaultValue={value}\n        >\n          <NumberInputField />\n        </NumberInput>\n      </div>\n    );\n  }\n);\nexport default NumberInputComponent;\n","import React, { useState, useEffect } from \"react\";\nimport TextInput from \"./components/TextInput\";\nimport RadioButton from \"./components/RadioButton\";\nimport SelectButton from \"./components/SelectButton\";\nimport TextareaInput from \"./components/TextareaInput\";\nimport { FormControl, FormLabel } from \"@chakra-ui/form-control\";\nimport { InfoIcon } from \"@chakra-ui/icons\";\nimport { chakra } from \"@chakra-ui/system\";\nimport { Tooltip } from \"@chakra-ui/tooltip\";\nimport { Flex, Box } from \"@chakra-ui/layout\";\nimport TagInput from \"./components/TagInput\";\nimport DateInput from \"./components/DateInput\";\nimport SelectObject from \"./components/SelectObject\";\nimport RadioObject from \"./components/RadioObject\";\nimport RadioProduct from \"./components/RadioProduct\";\nimport PasswordInput from \"./components/PasswordInput\";\nimport CheckBoxInput from \"./components/CheckBoxInput\";\nimport NumberInputComponent from \"./components/NumberInput\";\nconst generateField = (FormComponent) => {\n  return ({\n    className,\n    label,\n    labelSize = \"13px\",\n    labelWeight = \"400\",\n    tip,\n    info,\n    isBool = false,\n    options,\n    optional,\n    error,\n    name,\n    half = false,\n    ...otherProps\n  }) => {\n    const [labelText, setLabelText] = useState(\"\");\n    useEffect(() => {\n      setLabelText(label);\n    }, [label]);\n    return (\n      <Box style={{ width: half ? \"50%\" : \"100%\" }}>\n        <FormControl isInvalid={!!error}>\n          <Flex justifyContent=\"flex-start\" alignItems=\"center\">\n            {!isBool && (\n              <>\n                {labelText && (\n                  <>\n                    <FormLabel\n                      fontSize={labelSize}\n                      fontWeight={labelWeight}\n                      mb={1}\n                      mr={1}\n                      color={\"muted.400\"}\n                      htmlFor={label}\n                    >\n                      {labelText}\n                    </FormLabel>\n                    {tip && (\n                      <Tooltip\n                        placement=\"bottom-end\"\n                        label={tip}\n                        bg={\"gray.800\"}\n                        aria-label=\"Guide d'utilisation\"\n                      >\n                        <InfoIcon fontSize=\"11px\" color={\"gray\"} />\n                      </Tooltip>\n                    )}\n                    {optional && (\n                      <chakra.small color=\"blue.700\">\n                        {\"(\"} facultatif {\")\"}\n                      </chakra.small>\n                    )}\n                  </>\n                )}\n              </>\n            )}\n          </Flex>\n\n          <FormComponent\n            invalid={!!error}\n            options={options}\n            name={name}\n            label={label}\n            {...otherProps}\n          />\n          {info && (\n            <chakra.small\n              my={4}\n              color=\"muted.500\"\n              fontStyle=\"italic\"\n              fontWeight=\"medium\"\n            >\n              {info}\n            </chakra.small>\n          )}\n          {error && <p style={{ color: \"red\" }}>{error}</p>}\n        </FormControl>\n      </Box>\n    );\n  };\n};\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default {\n  Input: generateField(TextInput),\n  Number: generateField(NumberInputComponent),\n  Radio: generateField(RadioButton),\n  Select: generateField(SelectButton),\n  Textarea: generateField(TextareaInput),\n  Tag: generateField(TagInput),\n  SelectObject: generateField(SelectObject),\n  RadioObject: generateField(RadioObject),\n  RadioProduct: generateField(RadioProduct),\n  Date: generateField(DateInput),\n  Password: generateField(PasswordInput),\n  Checkbox: generateField(CheckBoxInput),\n};\n","import React from 'react';\nimport {\n  Formik,\n  Form as FormikForm,\n  FastField as FormikField,\n  ErrorMessage,\n} from 'formik';\nimport { get, mapValues } from 'lodash';\nimport Field from './field/Field';\nconst Form = ({ validate, validations, children, ...otherProps }) => (\n  <Formik\n    {...otherProps}\n    enableReinitialize={true}\n    validationSchema={validations}\n    validateOnChange={false}\n    validateOnBlur={false}\n    \n  />\n);\nForm.Element = props => <FormikForm noValidate {...props} />;\n\nForm.Field = mapValues(\n  Field,\n  FieldComponent =>\n    ({ name, validate, ...props }) =>\n      (\n        <>\n          <FormikField name={name} validate={validate}>\n            {({ field, form: { touched, errors, setFieldValue } }) => (\n              <FieldComponent\n                {...field}\n                {...props}\n                name={name}\n                mb={2}\n                error={get(touched, name) && get(errors, name)}\n                changeValue={value => setFieldValue(name, value)}\n              />\n            )}\n          </FormikField>\n        </>\n      )\n);\n\nForm.initialValues = (data, getFieldValues) =>\n  getFieldValues((key, defaultValue = '') => {\n    const value = get(data, key);\n    return value === undefined || value === null ? defaultValue : value;\n  });\n\nexport default Form;\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory, useParams } from \"react-router\";\nimport Content from \"../../@adminlte/adminlte/Content\";\nimport ActiveLink from \"../../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../../@adminlte/adminlte/Content/Page\";\nimport Form from \"../../utils/form\";\nimport { action, getData } from \"../../utils/lib/call\";\nconst AddProd = () => {\n  const { id } = useParams();\n  const fournisseurs = useSelector(getData(\"fournisseurs\").value);\n  const categories = useSelector(getData(\"categories\").value);\n  const meta = useSelector(getData(\"products\").meta);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  useEffect(() => {\n    dispatch(action(\"fournisseurs\").fetch());\n    dispatch(action(\"categories\").fetch());\n    dispatch(action(\"products\").fetch());\n  }, []);\n  return (\n    <Content>\n      <ContentHeader title=\"Ajouter un produit\">\n        <ActiveLink title=\"Ajouter un produit\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n        <Form\n          id=\"add-form-product\"\n          enableReinitialize\n          initialValues={{\n            \n          }}\n          validations={{}}\n          onSubmit={(values, form) => {\n            console.log(values);\n          }}\n        >\n          <Form.Element>\n            <div className=\"row\">\n              <div className=\"col-lg-6\">\n                <div className=\"card\">\n                  <div className=\"card-header bg-dark text-white\">\n                    <h5>Information gnrale</h5>\n                  </div>\n\n                  <div className=\"card-body\">\n                    <Form.Field.Select\n                      name=\"categoryId\"\n                      label=\"Categorie\"\n                      valueKey=\"name\"\n                      options={categories}\n                    />\n                    <Form.Field.Select\n                      name=\"fournisseurId\"\n                      label=\"Fournisseur\"\n                      valueKey=\"name\"\n                      options={fournisseurs}\n                    />\n                    <Form.Field.Input\n                      name=\"name\"\n                      label=\"Dsignation\"\n                      placeholder={\"Dsignation\"}\n                    />\n                    <Form.Field.Radio\n                      radioValue={\"1\"}\n                      valueKey=\"name\"\n                      label=\"Type d'article\"\n                      name=\"type\"\n                      options={[\n                        { id: \"BOLUS\", name: \"BOLUS\" },\n                        { id: \"FLACON\", name: \"FLACON\" },\n                        { id: \"UNITE\", name: \"UNITE\" },\n                        { id: \"SACHET\", name: \"SACHET\" },\n                      ]}\n                      direction=\"row\"\n                    />\n                    <Form.Field.Input\n                      name=\"prixFournisseur\"\n                      label=\"prix unitaire\"\n                      placeholder={\"prix unitaire\"}\n                    />\n                    <Form.Field.Input\n                      name=\"quantity\"\n                      label=\"Quantit\"\n                      placeholder={\"Quantit\"}\n                    />\n                    <Form.Field.Input\n                      type=\"date\"\n                      name=\"datePer\"\n                      label=\"date de peremption\"\n                      placeholder={\"date de peremption\"}\n                    />\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"col-lg-6\">\n                <div className=\"card\">\n                  <div className=\"card-header bg-dark text-white\" >\n                    <h5>Vente</h5>\n                  </div>\n\n                  <div className=\"card-body\">\n                    <Form.Field.Input\n                      name=\"prixVente\"\n                      label=\"Prix de vente\"\n                      placeholder={\"prix de vente\"}\n                    />\n\n                    <Form.Field.Input\n                      name=\"prixVaccinateur\"\n                      label=\"Prix du vaccinateur\"\n                      placeholder={\"prix du vaccinateur\"}\n                    />\n                    <Form.Field.Input\n                      name=\"prixParCC\"\n                      label=\"Prix de Vente en ml\"\n                      placeholder={\"Prix de Vente en ml\"}\n                    />\n                  </div>\n                </div>\n                <button className=\"btn btn-green  btn-sm \" type=\"submit\">\n                  Ajouter\n                </button>\n              </div>\n            </div>\n          </Form.Element>\n        </Form>\n      </Page>\n    </Content>\n  );\n};\n\nexport default AddProd;\n","import React from \"react\";\nimport Content from \"../../../@adminlte/adminlte/Content\";\nimport ActiveLink from \"../../../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../../../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../../../@adminlte/adminlte/Content/Page\";\nimport { action, getData } from \"../../../utils/lib/call\";\nimport { useParams } from \"react-router-dom\";\nimport { NumberToLetter } from \"convertir-nombre-lettre\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport NumberFormat from \"react-number-format\";\nimport { Card } from \"react-bootstrap\";\nimport { displayDate } from \"../../../utils/functions\";\nconst DetailApprov = () => {\n  const { id } = useParams();\n  const dispatch = useDispatch();\n  const approv = useSelector(getData(\"approvis\").value);\n  React.useEffect(() => {\n    dispatch(action(\"approvis\").get(id));\n  }, [id]);\n  return (\n    <Content>\n      <ContentHeader title=\"Dtail du facture\">\n        <ActiveLink title=\"Detail de facture\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n        <div className=\"bg-white p-2\">\n          <Card>\n            <Card.Header className=\"d-flex justify-content-between align-items-center bg-dark text-white\">\n              Dtail du facture ({displayDate(approv[0]?.dateApprov)})\n            </Card.Header>\n            <Card.Body>\n              <p>Arrt  la somme de </p>\n              <p className=\"text-uppercase my-2\">\n                <strong>{NumberToLetter(approv[0]?.total)} ARIARY</strong>\n              </p>\n              <tr>\n                <td>\n                  <strong>Date Echeance</strong> :{\" \"}\n                  {displayDate(approv[0]?.dateEcheance)}\n                </td>{\" \"}\n              </tr>\n              <td className=\"mb-1\">\n                <h3>Remarque</h3>\n                <p class=\"text-info\">{approv[0]?.remarque}</p>\n              </td>\n              <br />\n              <h3 >\n                {\" \"}\n                <strong>ARTICLES</strong>\n              </h3>\n              {approv[0]?.contenu.map((app) => (\n                <div className=\"border mb-3 p-3\">\n                  <tr>\n                    <td>Nom de l'article:</td>\n                    <td>{app?.name}</td>\n                  </tr>\n                  <tr>\n                    <td>Quantit:</td>\n                    <td>{app?.quantityParProduct}</td>\n                  </tr>\n                  <tr>\n                    <td>Prix unitaire:</td>\n                    <td>\n                      <NumberFormat\n                        value={app?.prixFournisseur}\n                        displayType={\"text\"}\n                        thousandSeparator={true}\n                        suffix={\"Ar\"}\n                        renderText={(value, props) => (\n                          <div {...props}>{value}</div>\n                        )}\n                      />\n                    </td>\n                  </tr>\n                </div>\n              ))}\n              <tr>\n                <td>\n                  <strong>Remise :</strong> {approv[0]?.remise} Ar\n                </td>\n              </tr>\n              <tr>\n                <td class=\"text-uppercase\">\n                  <strong>Paiement en :</strong>\n                  {approv[0]?.typePaye}\n                </td>\n              </tr>\n              <tr>\n                <td class=\"text-uppercase\">\n                  <strong>Total:</strong>\n                  <NumberFormat\n                    value={approv[0]?.total}\n                    displayType={\"text\"}\n                    thousandSeparator={true}\n                    suffix={\"Ar\"}\n                    renderText={(value, props) => <div {...props}>{value}</div>}\n                  />\n                </td>\n              </tr>{\" \"}\n            </Card.Body>\n          </Card>\n        </div>\n      </Page>\n    </Content>\n  );\n};\n\nexport default DetailApprov;\n","import React from \"react\";\nimport { TriangleDownIcon, TriangleUpIcon } from \"@chakra-ui/icons\";\nimport {\n  useTable,\n  useSortBy,\n  useFilters,\n  useGlobalFilter,\n  useAsyncDebounce,\n  usePagination,\n} from \"react-table\";\nimport { Link } from \"react-router-dom\";\nimport Gate from '../../components/Gate';\nfunction DefaultColumnFilter({\n  column: { filterValue, preFilteredRows, setFilter },\n}) {\n  const count = preFilteredRows.length;\n  return (\n    <input\n      className=\"form-control\"\n      value={filterValue || \"\"}\n      onChange={(e) => {\n        setFilter(e.target.value || undefined);\n      }}\n      placeholder={`Rechercher...`}\n    />\n  );\n}\n\nfunction GlobalFilter({\n  preGlobalFilteredRows,\n  globalFilter,\n  setGlobalFilter,\n}) {\n  const count = preGlobalFilteredRows.length;\n  const [value, setValue] = React.useState(globalFilter);\n  const onChange = useAsyncDebounce((value) => {\n    setGlobalFilter(value || undefined);\n  }, 200);\n\n  return (\n    <div w={200}>\n      <input\n        className=\"form-control\"\n        value={value || \"\"}\n        onChange={(e) => {\n          setValue(e.target.value);\n          onChange(e.target.value);\n        }}\n        placeholder={`Rechercher ...`}\n      />\n    </div>\n  );\n}\nexport default function DataTable({\n  columns,\n  data = [],\n  scopes = [],\n  meta,\n  addUrl,\n  urlName,\n  footer,\n  tip = \"\",\n  filter = true,\n  paginate = true,\n  guide,\n}) {\n  return (\n    <>\n      <DataTableData\n        columns={columns}\n        data={meta.isFetching ? [] : data}\n        meta={meta}\n        scopes={scopes}\n        addUrl={addUrl}\n        urlName={urlName}\n        footer={footer}\n        tip={tip}\n        filter={filter}\n        paginate={paginate}\n        guide={guide}\n      />\n    </>\n  );\n}\nfunction DataTableData({\n  columns,\n  data = [],\n  scopes = [],\n  meta,\n  addUrl,\n  urlName,\n  footer,\n  tip = \"\",\n  filter = true,\n  paginate = true,\n  guide,\n}) {\n  const colspan = columns.length;\n  const defaultColumn = React.useMemo(\n    () => ({\n      Filter: DefaultColumnFilter,\n    }),\n    []\n  );\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    rows,\n    prepareRow,\n    preGlobalFilteredRows,\n    setGlobalFilter,\n    page,\n    canPreviousPage,\n    canNextPage,\n    pageOptions,\n    pageCount,\n    gotoPage,\n    nextPage,\n    previousPage,\n    setPageSize,\n    state: { pageIndex, pageSize, globalFilter },\n  } = useTable(\n    {\n      columns,\n      data,\n      defaultColumn,\n      initialState: { pageIndex: 0, pageSize: 10 },\n    },\n    useFilters,\n    useGlobalFilter,\n    useSortBy,\n    usePagination\n  );\n\n  return (\n    <>\n      <div className=\"d-flex my-2 justify-content-between align-items-center\">\n        {filter && (\n          <GlobalFilter\n            preGlobalFilteredRows={preGlobalFilteredRows}\n            globalFilter={globalFilter}\n            setGlobalFilter={setGlobalFilter}\n          />\n        )}\n        <div>\n          {addUrl && urlName && (\n            <Gate scopes={scopes}>\n              <Link className=\"btn btn-sm btn-green\" variant=\"solid\" to={addUrl}>\n                {urlName}\n              </Link>\n            </Gate>\n          )}\n        </div>\n      </div>\n      {tip && <h3>{tip}</h3>}\n      <table {...getTableProps()} className=\"table table-bordered striped\">\n        <thead className=\"bg-thead \">\n          {headerGroups.map((headerGroup) => (\n            <tr {...headerGroup.getHeaderGroupProps()}>\n              {headerGroup.headers.map((column) => (\n                <th\n                  {...column.getHeaderProps(column.getSortByToggleProps())}\n                >\n                  {column.render(\"Header\")}\n                  <span>\n                    {column.isSorted\n                      ? column.isSortedDesc\n                        ? \" \"\n                        : \" \"\n                      : \"\"}\n                  </span>\n                </th>\n              ))}\n            </tr>\n          ))}\n        </thead>\n        <tbody {...getTableBodyProps()}>\n          {meta.isFetching ? (\n            <td colSpan={colspan} className=\"text-center\">\n              <p>Chargement des donnes en cours ....</p>\n            </td>\n          ) : (\n            <>\n              {page.length == 0 && (\n                <tr>\n                  <td\n                    colSpan={colspan}\n                    style={\n                      guide ? { textAlign: \"left\" } : { textAlign: \"center\" }\n                    }\n                  >\n                    {guide ? (\n                      <div\n                        style={{\n                          width: \"100%\",\n                          color: \"blue.700\",\n                          backgroundColor: \"gray.200\",\n                          padding: \"10px\",\n                        }}\n                      >\n                        <h3 className=\"py-3\">{tip}</h3>\n                        {guide}\n                      </div>\n                    ) : (\n                      \"Aucune enregistrement  afficher\"\n                    )}\n                  </td>\n                </tr>\n              )}\n              {page.map((row) => {\n                prepareRow(row);\n                return (\n                  <tr p={0} {...row.getRowProps()}>\n                    {row.cells.map((cell) => (\n                      <td\n                        fontSize=\"11px\"\n                        {...cell.getCellProps()}\n                        isNumeric={cell.column.isNumeric}\n                      >\n                        {cell.render(\"Cell\")}\n                      </td>\n                    ))}\n                  </tr>\n                );\n              })}\n            </>\n          )}\n        </tbody>\n        {footer && (\n          <tfoot bg={\"blue.900\"}>\n            <tr>\n              <td colSpan={colspan} color={\"white\"}>\n                {footer}\n              </td>\n            </tr>\n          </tfoot>\n        )}\n      </table>\n      {paginate && (\n        <div className=\"d-flex  justify-content-between align-items-center py-3\">\n          <div style={{ width: \"200px\" }}>\n            <div className=\"d-flex justify-content-center align-items-center\">\n              <input\n                className=\"form-control  mr-2\"\n                // eslint-disable-next-line react-hooks/rules-of-hooks\n                type=\"number\"\n                placeholder=\"Page\"\n                value={pageIndex + 1}\n                onChange={(e) => {\n                  const page = e.target.value ? Number(e.target.value) - 1 : 0;\n                  gotoPage(page);\n                }}\n              />\n              <select\n                // eslint-disable-next-line react-hooks/rules-of-hooks\n                className=\"form-control\"\n                value={pageSize}\n                onChange={(e) => {\n                  setPageSize(Number(e.target.value));\n                }}\n                size=\"sm\"\n              >\n                {[5, 10, 20, 30, 40, 50, 100, 150, 250].map((pageSize) => (\n                  <option key={pageSize} value={pageSize}>\n                    {pageSize}\n                  </option>\n                ))}\n              </select>\n            </div>\n          </div>\n          <div>\n            <>\n              Page{\" \"}\n              <strong>\n                {pageIndex > 0 ? pageIndex + 1 : 1} sur {pageOptions.length}\n              </strong>{\" \"}\n            </>\n          </div>\n          <div className=\"mb-6\">\n            <div>\n              <button\n                className=\"mr-2 btn btn-sm btn-green\"\n                onClick={() => previousPage()}\n                disabled={!canPreviousPage}\n              >\n                {\"<<\"} Prcedent\n              </button>\n              <button\n                className=\"mr-2 btn btn-sm btn-green\"\n                onClick={() => nextPage()}\n                disabled={!canNextPage}\n              >\n                Suivant {\">>\"}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { action } from \"../../../utils/lib/call\";\nfunction DeleteApprov({ model, entity }) {\n  const dispatch = useDispatch();\n  const deleteEntity = () => {\n    dispatch(action(model).deleteTransaction(entity, \"/delete-facture\"));\n   // window.location.reload();\n  };\n  return (\n    <>\n      <button\n        className=\"btn btn-danger btn-sm\"\n        onClick={(e) => {\n          e.preventDefault();\n          if (window.confirm(`Vous voulez vraiment supprimer ce facture ?`)) {\n            deleteEntity();\n          }\n        }}\n      >\n        Supprimer\n      </button>\n    </>\n  );\n}\n\nexport default DeleteApprov;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Content from \"../../../@adminlte/adminlte/Content\";\nimport ActiveLink from \"../../../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../../../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../../../@adminlte/adminlte/Content/Page\";\nimport { action, getData } from \"../../../utils/lib/call\";\nimport moment from \"moment\";\nimport { Link } from \"react-router-dom\";\nimport NumberFormat from \"react-number-format\";\nimport { getApprov } from \"../../../store/actions/approv\";\nimport { displayDate, displayMoney } from \"../../../utils/functions\";\nimport DataTable from \"../../../utils/admin/DataTable\";\nimport { NOUVELLEFACTURE } from \"../../../constants/routes\";\nimport DateRangePicker from \"@wojtekmaj/react-daterange-picker\";\nimport DeleteApprov from \"./DeleteApprov\";\nimport { SCOPES } from \"../../../constants/permissions\";\nimport Gate from \"../../Gate\";\n\nexport default function ListApprov() {\n  var start = moment().isoWeekday(1).startOf(\"week\");\n  var end = moment().endOf(\"week\");\n  const [deb, setDeb] = useState(start);\n  const [fin, setFin] = useState(end);\n  const [dateRange, onChangeDateRange] = useState([start, end]);\n  const refDateDeb = useRef(null);\n  const refDateFin = useRef(null);\n  const approvisionnements = useSelector(getData(\"approvis\").value);\n  const meta = useSelector(getData(\"approvis\").meta);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(action(\"approvis\").fetch());\n  }, []);\n  useEffect(() => {\n    if (dateRange !== null) {\n      if (dateRange[0]) {\n        setDeb(dateRange[0]);\n      }\n      if (dateRange[1]) {\n        setFin(dateRange[1]);\n      }\n    } else {\n      setDeb(start);\n      setFin(end);\n    }\n  }, [dateRange]);\n  useEffect(() => {\n    dispatch(getApprov(deb, fin));\n  }, [deb, fin]);\n  const columns = React.useMemo(\n    () => [\n      {\n        Header: \"#\",\n        accessor: \"id\",\n      },\n      {\n        Header: \"Produit\",\n        Cell: (data) => {\n          return (\n            <div style={{ width: \"200px\" }}>\n              {data.row.original?.contenu?.map((c) => (\n                <span>\n                  {c.name}\n                  {\",\"}\n                </span>\n              ))}\n            </div>\n          );\n        },\n      },\n      {\n        Header: \"Date du facture\",\n        Cell: (data) => {\n          return (\n            <>\n              <span className=\"badge badge-primary\">\n                {displayDate(data.row.original?.dateApprov)}\n              </span>\n            </>\n          );\n        },\n      },\n      {\n        Header: \"Date echeance\",\n        Cell: (data) => {\n          return (\n            <>\n              <span className=\"badge badge-warning\">\n                {displayDate(data.row.original?.dateEcheance)}\n              </span>\n            </>\n          );\n        },\n      },\n      {\n        Header: \"Mode de paiement\",\n        accessor: \"typePaye\",\n      },\n      {\n        Header: \"Total\",\n        Cell: (data) => {\n          return <div>{displayMoney(data.row.original?.total)}</div>;\n        },\n      },\n      {\n        Header: \"Actions\",\n        Cell: (data) => {\n          return (\n            <>\n              <Gate scopes={[SCOPES.canShowDetailFactures]}>\n                <Link\n                  to={`/approvis/detail/${data.row.original?.id}`}\n                  className=\"btn btn-green btn-sm mr-2\"\n                >\n                  Dtails\n                </Link>\n              </Gate>\n              <Gate  scopes={[SCOPES.canShowEditFacture]}>\n                <Link\n                  to={`/editer/facture/${data.row.original?.id}`}\n                  className=\"btn btn-warning btn-sm mr-2\"\n              >\n                Editer\n              </Link>\n              </Gate>\n              <Gate  scopes={[SCOPES.canShowDeleteFacture]}>\n                <DeleteApprov model=\"approvis\" entity={data.row.original} />\n              </Gate>\n            </>\n          );\n        },\n      },\n    ],\n    []\n  );\n\n  return (\n    <Content>\n      <ContentHeader title=\"Factures\">\n        <ActiveLink title=\"Factures\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n        <div className=\"row\">\n          <div className=\"col-lg-6\">\n            <div>\n              <h3 className=\"text-uppercase\">Factures</h3>\n              <p>{`${displayDate(deb)} ->  ${displayDate(fin)}`}</p>\n            </div>\n          </div>\n          <div className=\"col-lg-6 text-right\">\n            <DateRangePicker\n              locale=\"fr-FR\"\n              onChange={onChangeDateRange}\n              value={dateRange}\n            />\n          </div>{\" \"}\n        </div>\n\n        <DataTable\n          filter={false}\n          scopes={[SCOPES.canShowAddFacture]}\n          data={approvisionnements.sort((low, high) => high.id - low.id)}\n          meta={meta}\n          columns={columns}\n          addUrl={NOUVELLEFACTURE}\n          urlName={\"Ajouter un facture\"}\n        />\n      </Page>\n    </Content>\n  );\n}\n","import { fetch } from \"../../utils/lib\";\nexport const getApprov = (deb,fin) => fetch('approvis', { path: `/get-approv-by-date?deb=${deb}&fin=${fin}`,replace:true })\nexport const getApprovData = (deb,fin) => fetch('approvis', { path: `/get-approv-by-date?deb=${deb}&fin=${fin}`,replace:true })\nexport const fetchProductsById = (id) =>\n  fetch(\"approvis\", { path: `/approvis/${id}`, replace: true });\n","import React from \"react\";\nimport Content from \"../../@adminlte/adminlte/Content\";\nimport ActiveLink from \"../../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../../@adminlte/adminlte/Content/Page\";\nconst BSortie = () => {\n  return (\n    <Content>\n      <ContentHeader title=\"Sortie\">\n        <ActiveLink title=\"Sortie\"></ActiveLink>\n      </ContentHeader>\n      <Page></Page>\n    </Content>\n  );\n};\n\nexport default BSortie;\n","export const SET_BASKET_ITEMS = 'SET_BASKET_ITEMS';\nexport const ADD_TO_BASKET = 'ADD_TO_BASKET';\nexport const REMOVE_FROM_BASKET = 'REMOVE_FROM_BASKET';\nexport const CLEAR_BASKET = 'CLEAR_BASKET';\nexport const ADD_QTY_ITEM = 'ADD_QTY_ITEM';\nexport const MINUS_QTY_ITEM = 'MINUS_QTY_ITEM';\nexport const ADD_QTY_PORTION_ITEM = 'ADD_QTY_PORTION_ITEM';\nexport const MINUS_QTY_PORTION_ITEM = 'MINUS_QTY_PORTION_ITEM';\n\nexport const SET_CHECKOUT_SHIPPING_DETAILS = 'SET_CHECKOUT_SHIPPING_DETAILS';\nexport const SET_CHECKOUT_PAYMENT_DETAILS = 'SET_CHECKOUT_PAYMENT_DETAILS';\nexport const RESET_CHECKOUT = 'RESET_CHECKOUT';\n","function strOp(str) {\n    return str.toString().replace(/\\s/g, \"\").toLowerCase();\n  }\n  function copy(object) {\n    var output, value, key;\n    output = Array.isArray(object) ? [] : {};\n    for (key in object) {\n      value = object[key];\n      output[key] = typeof value === \"object\" ? copy(value) : value;\n    }\n    return output;\n  }\nconst searchByName = (data, query) => {\n    return copy(data).filter((el) => {\n      return query!=\"\" ? strOp(el.name).includes(strOp(query)):true;\n    });\n  };\n  export default searchByName;\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { BONDESORTIE } from \"../../constants/routes\";\nimport { action } from '../../utils/lib/call';\nfunction DeleteFromDepot({ model, entity }) {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const deleteEntity = () => {\n    dispatch(action(model).deleteTransaction(entity, \"/delete-from-depot\"));\n    history.goBack();\n  };\n  return (\n    <>\n      <button\n        className=\"btn btn-danger btn-sm\"\n        onClick={(e) => {\n          e.preventDefault();\n          if (window.confirm(`Vous voulez vraiment supprimer ce commande ?`)) {\n            deleteEntity();\n          }\n        }}\n      >\n        Supprimer\n      </button>\n    </>\n  );\n}\n\nexport default DeleteFromDepot;\n","import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { action, getData } from \"../../utils/lib/call\";\nimport { getCredit, setPayerCommande } from \"../../store/actions/commandes\";\nimport { Link } from \"react-router-dom\";\nimport moment from \"moment\";\nimport Content from \"../../@adminlte/adminlte/Content\";\nimport ActiveLink from \"../../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../../@adminlte/adminlte/Content/Page\";\n\nimport { displayDate, displayMoney } from \"../../utils/functions\";\nimport DateRangePicker from \"@wojtekmaj/react-daterange-picker/dist/DateRangePicker\";\nimport DataTable from '../../utils/admin/DataTable';\nimport DeleteFromDepot from \"../fromDepot/DeleteFromDepot\";\nimport { SCOPES } from \"../../constants/permissions\";\nimport Gate from \"../Gate\";\nfunction Credit(props) {\n  var start = moment().isoWeekday(1).startOf(\"week\");\n  var end = moment().endOf(\"week\");\n  const [deb, setDeb] = useState(start);\n  const [fin, setFin] = useState(end);\n  const [dateRange, onChangeDateRange] = useState([start, end]);\n  const commandes = useSelector(getData(\"commandes\").value);\n  const meta = useSelector(getData(\"commandes\").meta);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (dateRange !== null) {\n      if (dateRange[0]) {\n        setDeb(dateRange[0]);\n      }\n      if (dateRange[1]) {\n        setFin(dateRange[1]);\n      }\n    } else {\n      setDeb(start);\n      setFin(end);\n    }\n  }, [dateRange]);\n  const calculateTotal = (arr) => {\n    //console.log('arr',arr);\n    if (arr == undefined || arr?.length === 0) return 0;\n    let total = 0;\n    arr.forEach((el) => {\n      total += el.prixVente * el.quantityParProductDepot;\n    });\n    return total;\n  };\n  const calculateTotalNormal = (arr) => {\n    if (!arr || arr?.length === 0) return 0;\n    let total = 0;\n    arr.forEach((el) => {\n      total += el.prixVente * el.quantityParProductDepot;\n    });\n    return total;\n  };\n  const quantiteBruteTotal = (arr) => {\n    if (!arr || arr?.length === 0) return 0;\n    let total = 0;\n    arr.forEach((el) => {\n      total += el.quantityParProductDepot * 1;\n    });\n    return total;\n  };\n  const quantiteCCTotal = (arr) => {\n    if (!arr || arr?.length === 0) return 0;\n    let total = 0;\n    arr.forEach((el) => {\n      total += el.qttByCCDepot * 1;\n    });\n    return total;\n  };\n  useEffect(() => {\n    dispatch(getCredit(deb, fin));\n  }, [deb, fin]);\n  const columns = React.useMemo(\n    () => [\n      {\n        Header: \"Date de credit\",\n        Cell: (data) => {\n          return <>{displayDate(data.row.original?.dateCom)}</>;\n        },\n      },\n      {\n        Header: \"Produits\",\n        Cell: (data) => {\n          return (\n            <div style={{ width: \"350px\" }}>\n              {data.row.original?.isdeleted == true && (\n                <>\n                  <div className=\"badge badge-danger\">Supprim</div>\n                  <div className=\"text text-danger\">\n                    Date de suppression :{\" \"}\n                    {displayDate(data.row.original?.deletedat)}\n                  </div>\n                </>\n              )}\n          \n              {data.row.original?.contenu?.map((d) => (\n                <span>\n                  <span\n                    style={{\n                      background: \"white\",\n                      color:\n                        data.row.original?.isdeleted == true\n                          ? \"red\"\n                          : \"inherit\",\n                      padding: 2,\n                    }}\n                  >\n                    {d.name}\n                  </span>\n                  <span\n                    style={{\n                      color:\n                        data.row.original?.isdeleted == true\n                          ? \"red\"\n                          : \"inherit\",\n                    }}\n                  >\n                    {\" \"}\n                    {\" || \"}\n                  </span>\n                </span>\n              ))}\n            </div>\n          );\n        },\n      },\n      {\n        Header: \"Status\",\n        Cell: (data) => {\n          return (\n            <div>\n              {data.row.original?.status == true ? (\n                <h3 className=\"badge badge-success\">pay</h3>\n              ) : (\n                <h3 className=\"badge badge-danger\">non pay</h3>\n              )}\n            </div>\n          );\n        },\n      },\n      {\n        Header: \"Nom de la personne\",\n        accessor: \"emprunter.name\",\n      },\n      {\n        Header: \"Contact\",\n        accessor: \"emprunter.contact\",\n      },\n      {\n        Header: \"Total\",\n        Cell: (data) => {\n          return (\n            <div>\n              {displayMoney(calculateTotal(data.row.original?.contenu))}\n            </div>\n          );\n        },\n      },\n      {\n        Header: \"Actions\",\n        Cell: (data) => {\n          const isDisabled =\n            data.row.original?.isdeleted == true ? true : false;\n          return !isDisabled ? (\n            <>\n              <Gate scopes={[SCOPES.canShowDetailCreditDepot]}>\n                <Link\n                  to={`/detail/${data.row.original?.id}`}\n                  className=\"btn btn-green btn-sm mr-2\"\n                >\n                  Dtails\n                </Link>\n              </Gate>\n              <Gate scopes={[SCOPES.canShowEditCreditDepot]}>\n                <Link\n                  to={`/editer/commande/${data.row.original?.id}`}\n                  className=\"btn btn-warning btn-sm mr-2\"\n                >\n                  Editer\n                </Link>\n              </Gate>\n              <Gate scopes={[SCOPES.canShowDeleteCreditDepot]}>\n                <DeleteFromDepot model=\"fromdepots\" entity={data.row.original} /></Gate>\n            </>\n          ):null;\n        },\n      },\n    ],\n    []\n  );\n\n  return (\n    <Content>\n      <ContentHeader title=\"Crdit\">\n        <ActiveLink title=\"Crdit\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n        <div className=\"row\">\n          <div className=\"col-lg-6\">\n            <div>\n              <h3 className=\"text-uppercase\">Credit</h3>\n              <p>{`${displayDate(deb)} ->  ${displayDate(fin)}`}</p>\n            </div>\n          </div>\n          <div className=\"col-lg-6 text-right\">\n            <DateRangePicker\n              locale=\"fr-FR\"\n              onChange={onChangeDateRange}\n              value={dateRange}\n            />\n          </div>{\" \"}\n        </div>\n        <DataTable\n          data={commandes.sort((low, high) => high.id - low.id)}\n          meta={meta}\n          columns={columns}\n        //  addUrl={NOUVELLEFACTURE}\n        //  urlName={\"Ajouter un facture\"}\n        />\n      </Page>\n    </Content>\n  );\n}\n\nexport default Credit;\n","import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { action, getData } from \"../../utils/lib/call\";\nimport { getCredit, getCreditVaccinateur, setPayerCommande } from \"../../store/actions/commandes\";\nimport { Link } from \"react-router-dom\";\nimport moment from \"moment\";\nimport Content from \"../../@adminlte/adminlte/Content\";\nimport ActiveLink from \"../../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../../@adminlte/adminlte/Content/Page\";\n\nimport { displayDate, displayMoney } from \"../../utils/functions\";\nimport DateRangePicker from \"@wojtekmaj/react-daterange-picker/dist/DateRangePicker\";\nimport DataTable from '../../utils/admin/DataTable';\nimport DeleteFromDepot from \"../fromDepot/DeleteFromDepot\";\nimport { SCOPES } from \"../../constants/permissions\";\nimport Gate from '../Gate';\nfunction CreditVaccinateur(props) {\n  var start = moment().isoWeekday(1).startOf(\"week\");\n  var end = moment().endOf(\"week\");\n  const [deb, setDeb] = useState(start);\n  const [fin, setFin] = useState(end);\n  const [dateRange, onChangeDateRange] = useState([start, end]);\n  const commandes = useSelector(getData(\"commandes\").value);\n  const meta = useSelector(getData(\"commandes\").meta);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (dateRange !== null) {\n      if (dateRange[0]) {\n        setDeb(dateRange[0]);\n      }\n      if (dateRange[1]) {\n        setFin(dateRange[1]);\n      }\n    } else {\n      setDeb(start);\n      setFin(end);\n    }\n  }, [dateRange]);\n  const calculateTotal = (arr) => {\n    if (!arr || arr?.length === 0) return 0;\n    let total = 0;\n    arr.forEach((el) => {\n      total += el.prixVente * el.quantityParProductDepot;\n    });\n    return total;\n  };\n  const quantiteBruteTotal = (arr) => {\n    if (!arr || arr?.length === 0) return 0;\n    let total = 0;\n    arr.forEach((el) => {\n      total += el.quantityParProductDepot * 1;\n    });\n    return total;\n  };\n  const quantiteCCTotal = (arr) => {\n    if (!arr || arr?.length === 0) return 0;\n    let total = 0;\n    arr.forEach((el) => {\n      total += el.qttByCCDepot * 1;\n    });\n    return total;\n  };\n  useEffect(() => {\n    dispatch(getCreditVaccinateur(deb, fin));\n  }, [deb, fin]);\n  const columns = React.useMemo(\n    () => [\n      {\n        Header: \"Date du credit\",\n        Cell: (data) => {\n          return <>{displayDate(data.row.original?.dateCom)}</>;\n        },\n      },\n      {\n        Header: \"Produits\",\n\n        Cell: (data) => {\n          return (\n            <div style={{ width: \"100px\" }}>\n              {data.row.original?.contenu?.map((d) => (\n                <span>\n                  {d.name}\n                  {\",\"}\n                </span>\n              ))}\n            </div>\n          );\n        },\n      },\n      {\n        Header: \"Status\",\n        Cell: (data) => {\n          return (\n            <div>\n              {data.row.original?.status == true ? (\n                <h3 className=\"badge badge-success\">pay</h3>\n              ) : (\n                <h3 className=\"badge badge-danger\">non pay</h3>\n              )}\n            </div>\n          );\n        },\n      },\n      {\n        Header: \"Nom du vaccinateur\",\n        accessor: \"vaccinateur.name\",\n      },\n      {\n        Header: \"Contact du vaccinateur\",\n        accessor: \"vaccinateur.contact\",\n      },\n\n      {\n        Header: \"Quantit\",\n        Cell: (data) => {\n          return (\n            <div>\n              {quantiteBruteTotal(data.row.original?.contenu)}\n            </div>\n          );\n        },\n      },\n      {\n        Header: \"Total\",\n        Cell: (data) => {\n          return (\n            <div>\n              {displayMoney(calculateTotal(data.row.original?.contenu))}\n            </div>\n          );\n        },\n      },\n      {\n        Header: \"Actions\",\n        Cell: (data) => {\n          return (\n            <>\n              <Gate scopes={[SCOPES.canShowDetailVaccinateurCreditDepot]}>\n                <Link\n                  to={`/detail/${data.row.original?.id}`}\n                  className=\"btn btn-green btn-sm mr-2\"\n                >\n                  Dtails\n                </Link>\n              </Gate>\n              <Gate scopes={[SCOPES.canShowDetailVaccinateurCreditDepot]}>\n                <Link\n                  to={`/editer/commande/${data.row.original?.id}`}\n                  className=\"btn btn-warning btn-sm mr-2\"\n                >\n                  Editer\n                </Link>\n              </Gate>\n              <Gate scopes={[SCOPES.canShowDeleteVaccinateurCreditDepot]}>\n                <DeleteFromDepot model=\"fromdepots\" entity={data.row.original} /> </Gate>\n            </>\n          );\n        },\n      },\n    ],\n    []\n  );\n\n  return (\n    <Content>\n      <ContentHeader title=\"Crdit  pour les vaccinateurs\">\n        <ActiveLink title=\"Crdit  pour les vaccinateurs\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n        <div className=\"row\">\n          <div className=\"col-lg-6\">\n            <div>\n              <h3 className=\"text-uppercase\">Credit pour les vaccinateurs</h3>\n              <p>{`${displayDate(deb)} ->  ${displayDate(fin)}`}</p>\n            </div>\n          </div>\n          <div className=\"col-lg-6 text-right\">\n            <DateRangePicker\n              locale=\"fr-FR\"\n              onChange={onChangeDateRange}\n              value={dateRange}\n            />\n          </div>{\" \"}\n        </div>\n        <DataTable\n          data={commandes.sort((low, high) => high.id - low.id)}\n          meta={meta}\n          columns={columns}\n        //  addUrl={NOUVELLEFACTURE}\n        //  urlName={\"Ajouter un facture\"}\n        />\n      </Page>\n    </Content>\n  );\n}\n\nexport default CreditVaccinateur;\n","import React, { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, Redirect, useParams } from \"react-router-dom\";\nimport { action, getData } from \"../../utils/lib/call\";\nimport { useLocation } from \"react-router-dom\";\nimport { CREDIT } from \"../../constants/routes\";\nimport { getCredit, setPayerCommande } from \"../../store/actions/commandes\";\nimport Content from \"../../@adminlte/adminlte/Content\";\nimport ActiveLink from \"../../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../../@adminlte/adminlte/Content/Page\";\nimport NumberFormat from \"react-number-format\";\nimport { withRouter } from \"react-router-dom\";\nimport { displayDate, displayMoney } from \"../../utils/functions\";\nimport { useHistory } from 'react-router-dom';\nconst calculateTotal = (arr) => {\n  if (!arr || arr?.length === 0) return 0;\n  let total = 0;\n  arr.forEach((el) => {\n    total += el.prixVente * el.quantityParProductDepot * 1;\n  });\n  return total;\n};\nfunction Detail(props) {\n  let history = useHistory();\n  const { id } = useParams();\n  const commande = useSelector(getData(\"commandes\").value);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(action(\"commandes\").get(id));\n  }, [id]);;\n  return (\n    <Content>\n      <ContentHeader title=\"Dtail de sortie ou entre\">\n        <ActiveLink title=\"Dtail de sortie ou entre\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n        <div className=\"badge badge-info my-2\">\n          {commande[0]?.type == \"vente-depot-credit\" && <h3>Credit</h3>}\n\n          {commande[0]?.type == \"vente-depot-vaccinateur\" && (\n            <h3>Credit pour vaccinateur</h3>\n          )}\n\n          {commande[0]?.type == \"direct\" && <h3>Direct</h3>}\n        </div>\n        {commande[0]?.type == \"vente-depot-vaccinateur\" && (\n          <div className=\"border pl-3 py-3 bg-white\">\n            <>\n              <h3 className=\"my-2\">\n                {\" \"}\n                Nom du vaccinateur : {commande[0]?.vaccinateur.name}\n              </h3>\n              <h5>Contact : {commande[0]?.vaccinateur.contact}</h5>\n            </>\n          </div>\n        )}\n        {commande[0]?.type == \"vente-depot-credit\" && (\n          <div className=\"border pl-3 py-3 bg-white\">\n            <>\n              <h3 className=\"my-2\">Nom:{commande[0]?.emprunter.name}</h3>\n              <h5>Contact: {commande[0]?.emprunter.contact}</h5>\n            </>\n          </div>\n        )}\n        {commande.length > 0 && (\n          <div className=\"d-flex justify-content-between\">\n            <p className=\"text-uppercase\">\n              Commande du : {displayDate(commande[0]?.dateCom)}\n            </p>\n            {commande[0]?.status == true ? (\n              <p className=\"btn btn-sm btn-green my-2 mt-4\">pay</p>\n            ) : (\n              <button\n              className=\"btn btn-sm btn-warning my-3\"\n              onClick={() => {\n                dispatch(setPayerCommande(commande[0]?.id));\n                history.goBack();\n              }}\n            >\n              Marquer comme pay\n            </button>\n            )}\n          </div>\n        )}\n        <table className=\"table table-bordered \">\n          <tr className=\"bg-thead\">\n            <td>Nom de l'article</td>\n            <td>Quantit</td>\n            <td>Sous total</td>\n          </tr>\n          {commande.length > 0 &&\n            commande[0]?.contenu.map((c) => (\n              <tr>\n                <td style={{ width: \"40%\" }}>{c.name}</td>\n                <td className=\"d-flex align-items-center\">\n                  {displayMoney(c.prixVente)}({\"x\"} {c.quantityParProductDepot})\n                </td>\n\n                <td>{displayMoney(c.prixVente * c.quantityParProductDepot)}</td>\n              </tr>\n            ))}\n        </table>\n        <div className=\"d-flex justify-content-end\">\n          <strong>Total</strong>:\n          {displayMoney(calculateTotal(commande[0]?.contenu))}\n        </div>\n        \n      </Page>\n    </Content>\n  );\n}\n\nexport default withRouter(Detail);\n","import React, { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, Redirect, useParams } from \"react-router-dom\";\nimport { action, getData } from \"../../utils/lib/call\";\nimport { useLocation } from \"react-router-dom\";\nimport { CREDIT } from \"../../constants/routes\";\nimport { getCredit, setPayerCommande } from \"../../store/actions/commandes\";\nimport Content from \"../../@adminlte/adminlte/Content\";\nimport ActiveLink from \"../../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../../@adminlte/adminlte/Content/Page\";\nimport NumberFormat from \"react-number-format\";\nimport { withRouter } from \"react-router-dom\";\nimport { displayDate, displayMoney } from \"../../utils/functions\";\nconst calculateTotal\n\n= (arr) => {\n  if (!arr || arr?.length === 0) return 0;\n  let total = 0;\n  arr.forEach((el) => {\n    total += el.prixVente * el.quantityParProductDepot*1;\n  });\n  return total;\n};\nfunction DetailSortie(props) {\n  let history = useLocation();\n  const { id } = useParams();\n  const commande = useSelector(getData(\"commandes\").value);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(action(\"commandes\").get(id));\n  }, [id]);\n  return (\n    <Content>\n      <ContentHeader title=\"Dtail de sortie ou entre\">\n        <ActiveLink title=\"Dtail de sortie ou entre\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n     \n        <p>\n          {commande[0]?.type == \"credit\" && <p>Credit</p>}\n\n          {commande[0]?.type == \"vaccinateur\" && <p>Sortie vaccinateur</p>}\n\n          {commande[0]?.type == \"direct\" && <p>Sortie Magasion</p>}\n        </p>\n        {commande[0]?.type == \"vaccinateur\" && (\n          <div className=\"border\">\n            <>\n              <h3>{commande[0]?.vaccinateur.name}</h3>\n              <h5>{commande[0]?.vaccinateur.contact}</h5>\n            </>\n          </div>\n        )}\n        {commande[0]?.type == \"credit\" && (\n          <div className=\"border\">\n            <>\n              <h3>{commande[0]?.emprunter.name}</h3>\n              <h5>{commande[0]?.emprunter.contact}</h5>\n            </>\n          </div>\n        )}\n        {commande.length > 0 && (\n          <div className=\"d-flex justify-content-between\">\n            <p className=\"text-uppercase\">\n              Commande du : {displayDate(commande[0]?.dateCom)}\n            </p>\n            {/* <p className=\"btn btn-sm btn-green mt-4\">pay</p>*/}\n          </div>\n        )}\n        <table className=\"table table-bordered \">\n          <tr className=\"bg-thead\">\n            <td>Nom de l'article</td>\n            <td>Quantit</td>\n            <td>Sous total</td>\n          </tr>\n          {commande.length > 0 &&\n            commande[0]?.contenu.map((c) => (\n              <tr>\n                <td style={{ width: \"40%\" }}>{c.name}</td>\n                <td className=\"d-flex align-items-center\">\n                  {displayMoney(c.prixVente)}({\"x\"} {c.quantityParProductDepot}\n                  )\n                </td>\n                \n                <td>\n                  {displayMoney(c.prixVente * c.quantityParProductDepot)}\n                </td>\n              </tr>\n            ))}\n        </table>\n        <div className=\"d-flex justify-content-end\">\n          <strong>Total</strong>:\n          {displayMoney(calculateTotal(commande[0]?.contenu))}\n        </div>\n        {/*{commande[0]?.status == false && (\n          <button\n            className=\"btn btn-sm btn-green\"\n            onClick={() => {\n              dispatch(setPayerCommande(commande[0]?.id));\n              dispatch(getCredit());\n              history.push(CREDIT);\n            }}\n          >\n            Marquer comme pay\n          </button>\n        )}*/}\n      </Page>\n    </Content>\n  );\n}\n\nexport default withRouter(DetailSortie);\n","import React, { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { action, getData } from \"../../utils/lib/call\";\nimport { getCommandeDirect } from \"../../store/actions/commandes\";\nimport Content from \"../../@adminlte/adminlte/Content\";\nimport ActiveLink from \"../../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../../@adminlte/adminlte/Content/Page\";\nimport { Link } from \"react-router-dom\";\nfunction Direct(props) {\n  const commandes = useSelector(getData(\"commandes\").value);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getCommandeDirect());\n  }, []);\n  const calculateTotal = (arr) => {\n    if (!arr || arr?.length === 0) return 0;\n    let total=0;\n    arr.forEach(el => {\n      total+=el.prixVente;\n    });\n    return total.toFixed(2);\n  };\n  return (\n    <Content>\n    <ContentHeader title=\"Sortie pour le magasin\">\n      <ActiveLink title=\"Sortie pour le magasin\"></ActiveLink>\n    </ContentHeader>\n    <Page>\n      <table className=\"table table-bordered table-striped\">\n        <thead>\n          <tr>\n            <th>Date de commande</th>\n            <th>Nb</th>\n            <th>Montant</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n\n          {commandes.map((p) => (\n            <tr>\n              <td>{p?.createdAt}</td>\n              <td>{p?.contenu?.length}</td>\n              <td>{calculateTotal(p?.contenu)}</td>\n              <td className=\"d-flex justify-content-around\">\n                  <Link\n                    className=\"btn btn-sm  btn-green\"\n                    to={`detail/${p.id}`}\n                  >\n                    Detail \n                  </Link>\n                </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n      </Page>\n    </Content>\n  );\n}\n\nexport default Direct;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { Container } from \"react-bootstrap\";\nimport { action, getData } from \"../../utils/lib/call\";\nimport Content from \"../../@adminlte/adminlte/Content/index\";\nimport ContentHeader from \"../../@adminlte/adminlte/Content/ContentHeader\";\nimport ActiveLink from \"../../@adminlte/adminlte/Content/ActiveLink\";\nimport Page from \"../../@adminlte/adminlte/Content/Page\";\nimport { displayDate, displayMoney } from \"../../utils/functions\";\nimport { getCommande } from \"../../store/actions/commandes\";\n\nconst Journal = () => {\n  const [deb, setDeb] = useState(new Date());\n  const [fin, setFin] = useState(new Date());\n  const refDateDeb = useRef(null);\n  const refDateFin = useRef(null);\n  const commandes = useSelector(getData(\"commandes\").value);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getCommande(deb, fin));\n  }, [deb, fin]);\n  const getByDate = () => {\n    if(refDateDeb.current.value==\"\"){\n      setDeb(new Date());\n    }else{\n      setDeb(refDateDeb.current.value);\n    }\n    if(refDateFin.current.value==\"\"){\n      setFin(new Date());\n    }else{\n      setFin(refDateFin.current.value);\n    }\n  };\n  const calculateTotal = (arr) => {\n    if (!arr || arr?.length === 0) return 0;\n    const total = arr.reduce((acc, val) => acc + val, 0);\n    return total;\n  };\n\n  const totalDevente = (arr) => {\n    return (\n      calculateTotal(\n        arr.map((product) => {\n          return product.prixVente * product.quantityParProduct;\n        })\n      ) +\n      calculateTotal(\n        arr.map((product) => {\n          return product.prixParCC * product.qttByCC;\n        })\n      )\n    );\n  };\n  const recetteDuJour = (arr = []) => {\n    let filteredCommande = arr.filter(v => v.isdeleted!=true);\n    let total = 0;\n    if (commandes.length > 0) {\n      filteredCommande.map((c) => {\n        total += totalDevente(c?.contenu);\n      });\n    } else {\n      total = 0;\n    }\n\n    return total;\n  };\n  return (\n    <>\n      <Content>\n        <ContentHeader title=\"Journal de sortie\">\n          <ActiveLink title=\"Journal de sortie\"></ActiveLink>\n        </ContentHeader>\n        <Page>\n          <div className=\"row\">\n            <div className=\"col-lg-8\"></div>\n            <div className=\"col-lg-4\">\n              <div className=\"d-flex align-items-center mb-3\">\n                <input\n                  type=\"date\"\n                  name=\"datedeb\"\n                  ref={refDateDeb}\n                  placeholder=\"date debut\"\n                  className=\"form-control mr-2\"\n                />\n                <input\n                  type=\"date\"\n                  name=\"datefin\"\n                  ref={refDateFin}\n                  placeholder=\"date fin\"\n                  className=\"form-control mr-2\"\n                />\n                <button className=\"btn btn-primary\" onClick={getByDate}>\n                  Filtrer\n                </button>\n              </div>{\" \"}\n            </div>{\" \"}\n          </div>\n          <div className=\"table-responsive\">\n            <table className=\"table\">\n              <thead>\n                <tr>\n                  <th>Date </th>\n                  <th>Type de sortie</th>\n                  <th>Montant Total</th>\n                  <th>Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {commandes.map((p) => (\n                  <tr>\n                    <td>{displayDate(p?.createdAt)}</td>\n                    <td>\n                      <>\n                        {p?.type == \"cva\" && (\n                          <div className=\"badge badge-info\">\n                            Approvisionnement du magasin\n                          </div>\n                        )}\n                        {p?.type == \"vente-magasin-direct\" && (\n                          <div className=\"badge badge-success\">\n                            Vente direct depuis le magasin\n                          </div>\n                        )}\n                        {p?.type == \"vente-magasin-credit\" && (\n                          <div className=\"badge badge-info\">\n                            credit client depuis magasin\n                          </div>\n                        )}\n                        {p?.type == \"credit\" && (\n                          <div className=\"badge badge-danger\">\n                            Credit personne\n                          </div>\n                        )}\n                        {p?.type == \"vaccinateur\" && (\n                          <div className=\"badge badge-warning\">\n                            Credit Vaccinateur\n                          </div>\n                        )}\n                        {p?.type == \"direct\" && (\n                          <div className=\"badge badge-dark\">\n                            Vente direct depuis le dept\n                          </div>\n                        )}\n                      </>\n                    </td>\n                    <td>{displayMoney(totalDevente(p?.contenu))}</td>\n                    <td>\n                      <Link\n                        className=\"btn btn-sm  btn-green\"\n                        to={`/detail/${p.id}`}\n                      >\n                        Afficher le detail\n                      </Link>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n          <h3>Total:{displayMoney(recetteDuJour(commandes))}</h3>\n        </Page>\n      </Content>\n    </>\n  );\n};\nexport default Journal;\n","import React, { useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useDispatch } from \"react-redux\";\nimport Form from \"../../utils/form\";\nimport { action, getData } from \"../../utils/lib/call\";\n\nfunction ParametrageSuppl() {\n  const parametres = useSelector(getData(\"parametres\").value);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(action(\"parametres\").get(1));\n  }, []);\n  return (\n    <div>\n      <h3 className=\"mb-2 text-bold title\">Parametres supplementaires</h3>\n      <div className=\"card mt-2\">\n        <div className=\"card-body\">\n          <Form\n            id=\"parametrage-form\"\n            enableReinitialize\n            initialValues={{\n              nb_mois: parametres[0]?.nbMois,\n              nb_produit: parametres[0]?.nbProduits,\n            }}\n            validations={{}}\n            onSubmit={(values, form) => {\n              dispatch(\n                action(\"parametres\").update({\n                  id: 1,\n                  nb_mois: values.nb_mois,\n                  nb_produits: values.nb_produit,\n                })\n              );\n            }}\n            render={()=>(\n              <Form.Element>\n              <Form.Field.Input\n                name=\"nb_mois\"\n                label=\"Nombre de mois\"\n                placeholder=\"Nombre de mois\"\n                type=\"number\"\n              />\n              <Form.Field.Input\n                name=\"nb_produit\"\n                label=\"Nombre de produit\"\n                placeholder=\"Nombre de produit\"\n                type=\"number\"\n              />\n              <button type=\"submit\" className=\"btn btn-success mt-2 btn-sm\">\n                Sauvegarder la modification\n              </button>\n            </Form.Element>\n            )}\n          />\n        </div>{\" \"}\n      </div>{\" \"}\n    </div>\n  );\n}\n\nexport default ParametrageSuppl;\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Content from \"../../@adminlte/adminlte/Content\";\nimport ActiveLink from \"../../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../../@adminlte/adminlte/Content/Page\";\nimport { fetchProductsPerime } from \"../../store/actions/products\";\nimport DataTable from \"../../utils/admin/DataTable\";\nimport { displayDate } from \"../../utils/functions\";\nimport { action, getData } from \"../../utils/lib/call\";\n\nexport const Perime = () => {\n  const products = useSelector(getData(\"products\").value);\n  const meta = useSelector(getData(\"products\").meta);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(fetchProductsPerime());\n  }, []);\n  const columns = React.useMemo(\n    () => [\n      {\n        Header: \"Produit\",\n        accessor: \"name\",\n      },\n      {\n        Header: \"Quantit\",\n        accessor: \"quantityBrute\",\n      },\n      {\n        Header: \"Date de peremption\",\n        Cell: (data) => {\n          return <h3>{displayDate(data.row.original?.datePer)}</h3>;\n        },\n      },\n    ],\n    []\n  );\n  return (\n    <Content>\n      <ContentHeader title=\"Article perim\">\n        <ActiveLink title=\"Article perim\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n        <DataTable data={products} meta={meta} columns={columns} />\n      </Page>\n    </Content>\n  );\n};\n","import { create, update, fetch } from \"../../utils/lib\";\n\nexport const fetchProductsPerime = () =>\n  fetch(\"products\", { path: `/perimer`, replace: true });\nexport const fetchProductsRuptureStock = () =>\n  fetch(\"products\", { path: `/rupture/stock`, replace: true });\n\nexport const fetchProductsByFournisseur = (id) =>\n  fetch(\"products\", { path: `/product/fournisseur?id=${id}`, replace: true });\n\n  export const fetchProductsById = (id) =>\n  fetch(\"products\", { path: `/products/${id}`, replace: true });\n  \nexport const fetchProductsByCategory = (id) =>\n  fetch(\"products\", { path: `/product/category?id=${id}`, replace: true });\n\nexport const createProduct = (data) =>\n  create(\"products\", data, { path: `/create-product` });\n\nexport const updateProduct = (data) =>\n  update(\"products\", data, { path: `/update-data-product` });\n\nexport const getSortieDepotByProductId = (id) =>\n  fetch(\"sortiedepots\", {\n    path: `/sortie/depot/by/product?productId=${id}`, replace: true \n  });\n","import * as Yup from \"yup\";\nexport function validationSchema() {\n  return Yup.object().shape({\n    name: Yup.string().required(\"Le champ est requis\")\n  });\n}\n","import React from 'react';\n\nconst Guide = () => {\n return (\n   <div>\n       Description du guide\n   </div>\n )\n}\n\nexport default Guide;","import React from \"react\";\nimport {\n  Alert,\n  AlertIcon,\n} from \"@chakra-ui/react\";\nfunction Success({ message }) {\n  return (\n    <>\n      <Alert mb={3} status=\"success\" variant=\"top-accent\">\n       \n        {typeof message === \"string\" && (\n          <>\n            <AlertIcon />\n            {message}\n          </>\n        )}\n      </Alert>\n    </>\n  );\n}\n\nexport default Success;\n","import React from \"react\";\nimport {\n  Alert,\n  List,\n  ListItem,\n  ListIcon,\n  AlertIcon,\n  CloseButton,\n} from \"@chakra-ui/react\";\nimport {\n  MdCheckCircle,\n  MdError,\n  MdErrorOutline,\n  MdSettings,\n} from \"react-icons/md\";\nfunction Error({ error }) {\n  return (\n    <>\n      <Alert mb={3} status=\"error\" variant=\"top-accent\">\n        {typeof error === \"object\" && error.length > 0 && (\n          <>\n            <List spacing={3}>\n              {error.map((err, i) => (\n                <ListItem key={i}>\n                  <ListIcon key={i} as={MdError} color=\"red.500\" />\n                  {err.msg}\n                </ListItem>\n              ))}\n            </List>\n          </>\n        )}\n        {typeof error === \"object\" && (\n          <>\n            <MdErrorOutline color=\"red.500\" />\n            {error.message}\n          </>\n        )}\n        {typeof error === \"string\" && (\n          <>\n            <AlertIcon />\n            {error.message}\n          </>\n        )}\n      </Alert>\n    </>\n  );\n}\n\nexport default Error;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport { createProduct } from \"../../../store/actions/products\";\nimport Form from \"../../../utils/form\";\nimport { action, getData } from \"../../../utils/lib/call\";\nimport { PRODUCTS } from \"../../../constants/routes\";\nimport { validationSchema } from \"./validation\";\nimport Guide from \"./Guide\";\nimport ContentHeader from \"../../../@adminlte/adminlte/Content/ContentHeader\";\nimport ActiveLink from \"../../../@adminlte/adminlte/Content/ActiveLink\";\nimport Page from \"../../../@adminlte/adminlte/Content/Page\";\nimport Content from \"../../../@adminlte/adminlte/Content/index\";\nimport Success from \"../../../utils/admin/Resource/Success\";\nimport Error from \"../../../utils/admin/Resource/Error\";\nfunction Create() {\n  const fournisseurs = useSelector(getData(\"fournisseurs\").value);\n  const categories = useSelector(getData(\"categories\").value);\n  const metacategories = useSelector(getData(\"categories\").meta);\n  const metafournisseurs = useSelector(getData(\"fournisseurs\").meta);\n  const meta = useSelector(getData(\"products\").meta);\n  const [qttCcPVente, setQttCcPVente] = useState(0);\n  const [prixQttCcVente, setPrixQttCCVente] = useState(0);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  useEffect(() => {\n    dispatch(action(\"fournisseurs\").fetch());\n    dispatch(action(\"categories\").fetch());\n    dispatch(action(\"products\").fetch());\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [history]);\n\n  return (\n    <>\n      <Content>\n        <ContentHeader title=\"Ajouter un produit\">\n          <ActiveLink title=\"Ajouter un produit\"></ActiveLink>\n        </ContentHeader>\n        <Page>\n          {meta.success != \"\" && meta.success != null && (\n            <Success message={meta.success} />\n          )}\n          {meta.error && <Error error={meta.error} />}\n\n          <Form\n            id=\"add-form-product\"\n            enableReinitialize\n            initialValues={{\n              name: \"\",\n              type: \"BOLUS\",\n              doseDefault: 0,prixlitre:0,\n              prixVente: 0,\n              prixFournisseur: 0,\n              prixVaccinateur: 0,\n              quantityParProduct: 0,\n              prixParCC: 0,\n              datePer: \"\",\n              uniteMesure: \"ml\",\n              qttByCC: 0,\n              newStockBrute: 0,\n              newStockCC: 0,\n              fournisseurId: 1,\n              qttyspecificmirror: 0,\n              quantityBruteCVA: 0,\n              categoryId: 1,\n              quantityBrute: 0,\n              quantityCCCVA: 0,\n              quantityCC: 0,\n              condml: 0,\n              condval: 0,\n              conditionnement: 1,\n              qttccpvente: 0,\n              prixqttccvente: 0,\n            }}\n            validations={validationSchema}\n            onSubmit={(values, form) => {\n              const {\n                name,\n                type,\n                doseDefault,\n                prixVente,\n                prixFournisseur,\n                prixVaccinateur,\n                prixParCC,\n                datePer,\n                fournisseurId,\n                categoryId,\n                condml,\n                condval,\n                qttccpvente,\n                conditionnement,\n                prixqttccvente,\n                condsize,prixlitre\n              } = values;\n              dispatch(\n                action(\"products\").create({\n                  name: name,\n                  type: type,\n                  doseDefault: doseDefault,\n                  prixVente: parseFloat(prixVente),\n                  prixlitre: parseFloat(prixlitre),\n                  prixFournisseur: parseFloat(prixFournisseur),\n                  prixVaccinateur: parseFloat(prixVaccinateur),\n                  quantityParProduct: 0,\n                  quantityBruteCVA: 0,\n                  quantityBrute: 0,\n                  quantityCCCVA: 0,\n                  quantityCC: 0,\n                  prixParCC: parseFloat(prixParCC),\n                  datePer: new Date(),\n                  uniteMesure: \"ml\",\n                  qttByCC: 0,\n                  newStockBrute: 0,\n                  newStockCC: 0,\n                  categoryId: parseInt(categoryId),\n                  fournisseurId: parseInt(fournisseurId),\n                  condml: parseFloat(condml),\n                  condsize: parseFloat(condsize),\n                  conditionnement: conditionnement,\n                  qttccpvente: parseFloat(qttccpvente),\n                  prixqttccvente: parseInt(prixqttccvente),\n                  refSortie: \"0\",\n                  refQtSortie: 0,\n                  qttByCCDepot: 0,\n                  condmldepot: 0,\n                  condvaldepot: 0,\n                  qttccpventedepot: 0,\n                  prixqttccventedepot: 0,\n                  quantityParProductDepot: 0,\n                  condsizedepot: 0,\n                  doseRestantEnMg: 0,\n                  qttbylitre: 0,\n                  remise: 0,\n                  condval: 0,\n                  correction: 0,\n                  correctionml: 0,\n                  correctionl: 0,\n                  correctiontml: 0,\n                  correctiontl: 0,\n                  correctiontype: 0,\n                  qttyspecificmirror: 0,\n                  remisePerProduct: 1,\n                })\n              );\n              history.push(PRODUCTS);\n            }}\n            render={({ values }) => (\n              <Form.Element>\n                <div className=\"row\">\n                  <div className=\"col-lg-6\">\n                    <div className=\"card\">\n                      <div className=\"card-header bg-dark text-white\">\n                        Information gnrale\n                      </div>\n                      <div className=\"card-body\">\n                        {metacategories.isFetching == true && (\n                          <p>Recuperation des categories</p>\n                        )}\n                        <Form.Field.Select\n                          name=\"categoryId\"\n                          label=\"Categorie\"\n                          emptyValue={true}\n                          valueKey=\"name\"\n                          disabled={metacategories.isFetching}\n                          defaultValue={1}\n                          options={categories}\n                        />\n                        {metafournisseurs.isFetching == true && (\n                          <p>Recuperation des fournisseurs</p>\n                        )}\n\n                        <Form.Field.Select\n                          name=\"fournisseurId\"\n                          label=\"Fournisseur\"\n                          emptyValue={true}\n                          valueKey=\"name\"\n                          options={fournisseurs}\n                          disabled={metafournisseurs.isFetching}\n                        />\n\n                        <Form.Field.Input\n                          name=\"name\"\n                          label=\"Dsignation\"\n                          placeholder={\"Dsignation (Tikaz 1L )\"}\n                        />\n                        <Form.Field.Select\n                          name=\"type\"\n                          label=\"Type d'article\"\n                          emptyValue={false}\n                          isNumeric={false}\n                          valueKey=\"name\"\n                          options={[\n                            { id: \"BOLUS\", name: \"BOLUS\" },\n                            { id: \"FLACON\", name: \"FLACON\" },\n                            { id: \"UNITE\", name: \"UNITE\" },\n                            { id: \"SACHET\", name: \"SACHET\" },\n                          ]}\n                        />\n                        {values.type === \"FLACON\" && (\n                          <div className=\"ml-3\">\n                            <Form.Field.Input\n                              name=\"doseDefault\"\n                              label=\"Quantit en ml ou dose ou en litre\"\n                              placeholder={\"Quantit en ml ou dose ou en litre\"}\n                            />\n                            <Form.Field.Select\n                              name=\"conditionnement\"\n                              label=\"Conditionnement\"\n                              valueKey=\"name\"\n                              options={[\n                                { id: 1, name: \"Sans conditionnement\" },\n                                { id: 2, name: \"Avec conditionnement\" },\n                              ]}\n                            />\n                            {values.conditionnement == 2 && (\n                              <>\n                                \n                                <Form.Field.Input\n                                  name=\"condml\"\n                                  defaultValue={0}\n                                  label=\"Conditionnement (ML)\"\n                                  placeholder={\"Conditionnement en ML\"}\n                                />\n                                <Form.Field.Input\n                                  name=\"condsize\"\n                                  defaultValue={0}\n                                  label=\"Diviser en combien de flacon\"\n                                  placeholder={\"Diviser en combien de flacon\"}\n                                />\n                                <Form.Field.Input\n                                  name=\"qttccpvente\"\n                                  defaultValue={0}\n                                  label=\"Quantit de vente en ML\"\n                                  placeholder={\"Quantit de vente en ML\"}\n                                />\n                                <Form.Field.Input\n                                  name=\"prixqttccvente\"\n                                  disabled={\n                                    values.qttccpvente == null ||\n                                    values.qttccpvente == \"\"\n                                  }\n                                  label={`Prix de vente equivalent  ${values.qttccpvente} ML.`}\n                                  placeholder={`Prix de vente equivalent  ${values.qttccpvente} ML.`}\n                                />\n                              </>\n                            )}\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"col-lg-6\">\n                    <div className=\"card\">\n                      <div className=\"card-header bg-dark text-white\">\n                        Vente\n                      </div>\n                      <div className=\"card-body\">\n                      {values.conditionnement == 2 && (<Form.Field.Input\n                                   name=\"prixlitre\"\n                                   label=\"Prix d'un litre\"\n                                    placeholder={\"Prix d'un litre\"}\n                                />)}\n                        <Form.Field.Input\n                          name=\"prixFournisseur\"\n                          defaultValue={0}\n                          label=\"prix unitaire\"\n                          placeholder={\"prix unitaire\"}\n                        />\n\n                        {/** Prix du fournisseur */}\n\n                        <Form.Field.Input\n                          name=\"prixVente\"\n                          defaultValue={0}\n                          label=\"Prix de vente\"\n                          placeholder={\"prix de vente\"}\n                        />\n\n                        <Form.Field.Input\n                          name=\"prixVaccinateur\"\n                          defaultValue={0}\n                          label=\"Prix du vaccinateur\"\n                          placeholder={\"prix du vaccinateur\"}\n                        />\n                        <>\n                          {values.type === \"FLACON\" && (\n                            <Form.Field.Input\n                              data={\n                                values.qttccpvente != 0 &&\n                                values.qttccpvente != \"\" &&\n                                values.prixqttccvente / values.qttccpvente !=\n                                  \"Infinity\"\n                                  ? values.prixqttccvente / values.qttccpvente\n                                  : 0\n                              }\n                              name=\"prixParCC\"\n                              label={\"Prix de vente ml\"}\n                              placeholder={\"Prix de vente ml\"}\n                            />\n                          )}\n                        </>\n                      </div>\n                    </div>\n\n                    <button className=\"btn btn-green  btn-sm \" type=\"submit\">\n                      Ajouter\n                    </button>\n                    <button\n                      className=\"btn btn-danger ml-2  btn-sm \"\n                      type=\"reset\"\n                    >\n                      Annuler\n                    </button>\n                  </div>\n                </div>\n              </Form.Element>\n            )}\n          />\n        </Page>\n      </Content>\n    </>\n  );\n}\n\nexport default Create;\n","import React, { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport DateRangePicker from \"@wojtekmaj/react-daterange-picker\";\nimport Content from \"../../../@adminlte/adminlte/Content\";\nimport ContentHeader from \"../../../@adminlte/adminlte/Content/ContentHeader\";\nimport ActiveLink from \"../../../@adminlte/adminlte/Content/ActiveLink\";\nimport Page from \"../../../@adminlte/adminlte/Content/Page\";\nimport { useParams,Link } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { action, getData } from \"../../../utils/lib/call\";\nimport NumberFormat from \"react-number-format\";\nimport { displayDate, displayMoney } from \"../../../utils/functions\";\nfunction DetailProduct() {\n  const { id } = useParams();\n  const dispatch = useDispatch();\n  const products = useSelector(getData(\"products\").value);\n  useEffect(() => {\n    dispatch(action(\"products\").get(id));\n  }, []);\n  const forceRerender = () => {\n    return Math.random(10000);\n  };\n  return (\n    <Content>\n      <ContentHeader title=\"Dtail du produit\">\n        <ActiveLink title=\"Dtail du produit\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n      <div className=\"d-flex justify-content-end\">\n      <Link\n        className=\"btn btn-sm btn-warning mr-2 mb-2\"\n        to={`/price/change/${id}`}\n      >\n        Rectification de prix\n      </Link>\n      </div>\n     \n        {products[0]?.conditionnement != 2 ||\n          (products[0]?.conditionnement != null && (\n            <div className=\"card card-info\">\n              <div className=\"card-header\">Conditionnement</div>\n              <div className=\"card-body\">\n               <p>\n                  Prix d'un litre:{\" \"}\n                  <span className=\"badge badge-info\">\n                    {products[0]?.prixlitre}\n                  </span>\n                </p>\n                <p>\n                  Conditionnement (ML):{\" \"}\n                  <span className=\"badge badge-info\">\n                    {products[0]?.condml}\n                  </span>\n                </p>\n                <p>\n                  Division en flacon:{\" \"}\n                  <span className=\"badge badge-info\">\n                    {products[0]?.condsize}\n                  </span>\n                </p>\n                <p>\n                  Quantit de vente par ML:\n                  <span className=\"badge badge-info\">\n                    {products[0]?.qttccpvente}\n                  </span>\n                </p>\n                <p>\n                  Prix de vente pour {products[0]?.qttccpvente} ML:{\" \"}\n                  <span className=\"badge badge-info\">\n                    {displayMoney(products[0]?.prixqttccvente)}{\" \"}\n                  </span>\n                </p>\n              </div>\n            </div>\n          ))}\n\n        <table className=\"table table-striped\">\n          <tr className=\"bg-thead\">\n            <td >\n              <strong>Nom de l'article:</strong>\n            </td>\n            <td>{products[0]?.name} </td>\n          </tr>\n          <tr>\n            <td>\n              <strong>Fournisseur :</strong>\n            </td>\n            <td>{products[0]?.fournisseur?.name}</td>\n          </tr>\n          <tr>\n            <td>\n              <strong>Categorie :</strong>\n            </td>\n            <td>{products[0]?.category?.name}</td>\n          </tr>\n\n          <tr>\n            <td>\n              <strong>Type:</strong>\n            </td>\n            <td>{products[0]?.type} </td>\n          </tr>\n          <tr>\n            <td>\n              <strong>Dose:</strong>\n            </td>\n            <td>{products[0]?.doseDefault} ML </td>\n          </tr>\n\n          <tr>\n            <td>\n              <strong>Prix unitaire:</strong>\n            </td>\n            <td>{displayMoney(products[0]?.prixFournisseur)}</td>\n          </tr>\n          <tr>\n            <td>\n              <strong>Prix de vente:</strong>\n            </td>\n            <td>{displayMoney(products[0]?.prixVente)}</td>\n          </tr>\n\n          <tr>\n            <td>\n              <strong>Prix pour le vaccinateur:</strong>\n            </td>\n            <td>{displayMoney(products[0]?.prixVaccinateur)}</td>\n          </tr>\n\n          <tr>\n            <td>\n              <strong>Prix par ML:</strong>\n            </td>\n            <td>\n              {products[0]?.qttccpvente != 0\n                ? displayMoney(\n                    products[0]?.prixParCC * products[0]?.qttccpvente\n                  )\n                : displayMoney(products[0]?.prixParCC)}\n            </td>\n          </tr>\n        \n        </table>\n      </Page>\n    </Content>\n  );\n}\n\nexport default DetailProduct;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory, useParams } from \"react-router\";\nimport Content from \"../../../@adminlte/adminlte/Content\";\nimport ActiveLink from \"../../../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../../../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../../../@adminlte/adminlte/Content/Page\";\nimport { PRODUCTS } from \"../../../constants/routes\";\nimport { fetchProductsById } from \"../../../store/actions/products\";\nimport Error from \"../../../utils/admin/Resource/Error\";\nimport Success from \"../../../utils/admin/Resource/Success\";\nimport Form from \"../../../utils/form\";\nimport { action, getData } from \"../../../utils/lib/call\";\nimport { validationSchema } from \"./validation\";\nfunction Edit() {\n  const { id } = useParams();\n  const fournisseurs = useSelector(getData(\"fournisseurs\").value);\n  const categories = useSelector(getData(\"categories\").value);\n  const products = useSelector(getData(\"products\").value);\n  const meta = useSelector(getData(\"products\").meta);\n  const [proda, setProda] = useState({\n    name: '',\n    type: '',\n    doseDefault: '',\n    prixlitre:'',\n    prixVente: '',\n    prixFournisseur: '',\n    prixVaccinateur: '',\n    prixParCC: '',\n    datePer: '',\n    uniteMesure: \"ml\",\n    conditionnement: '',\n    categoryId: '',\n    datePer: '',\n    fournisseurId: '',\n    condml:'',\n    condsize: '',\n    qttccpvente:'',\n    prixqttccvente:'',\n  });\n  const history = useHistory();\n  const [categoryId, setCategoryId] = useState(1);\n  const [cond, setCond] = useState(1);\n  const [qttCcPVente, setQttCcPVente] = useState(0);\n  const [prixQttCcVente, setPrixQttCCVente] = useState(0);\n  const dispatch = useDispatch();\n\n  const [formVal, setFormVal] = useState({});\n  const [flac, setFlac] = useState(proda.type);\n  useEffect(() => {\n    dispatch(action(\"products\").fetch());\n    setFlac(proda.type);\n    setPrixQttCCVente(proda.prixqttccvente);\n    setQttCcPVente(proda.qttccpvente);\n  }, [id]);\n  useEffect(() => {\n    if (!meta.isFetching) {\n      setProda(products?.find((p) => p.id == id));\n      setFormVal({\n        name: proda.name,\n      });\n    }\n  }, [meta]);\n  useEffect(() => {\n    dispatch(action(\"fournisseurs\").fetch());\n    dispatch(action(\"categories\").fetch());\n  }, []);\n  return (\n    <Content>\n      <ContentHeader title=\"Editer un produit\">\n        <ActiveLink title=\"Editer un produit\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n        {meta.success != \"\" && meta.success != null && (\n          <Success message={meta.success} />\n        )}\n        {products.name}\n        {meta.error && <Error error={meta.error} />}\n        <Form\n          id=\"add-form-product\"\n          initialValues={{\n            name: proda.name,\n            type: proda.type,\n            doseDefault: proda.doseDefault,\n            prixlitre:proda.prixlitre,\n            prixVente: proda.prixVente,\n            prixFournisseur: proda?.prixFournisseur,\n            prixVaccinateur: proda.prixVaccinateur,\n            prixParCC: proda.prixParCC,\n            datePer: proda.datePer,\n            uniteMesure: \"ml\",\n            conditionnement: proda.conditionnement,\n            categoryId: proda.categoryId,\n            datePer: proda.datePer,\n            fournisseurId: proda.fournisseurId,\n            condml: proda.condml == null ? 0 : proda.condml,\n            condsize: proda.condsize == null ? 0 : proda.condsize,\n            qttccpvente:\n              proda.qttccpvente == null ? 0 : proda.qttccpvente,\n            prixqttccvente:\n              proda.prixqttccvente == null ? 0 : proda.prixqttccvente,\n              \n          }}\n          validations={validationSchema}\n          onSubmit={(values, form) => {\n            const {\n              name,\n              type,\n              doseDefault,\n              prixlitre,\n              prixVente,\n              prixFournisseur,\n              prixVaccinateur,\n              prixParCC,\n              datePer,\n              fournisseurId,\n              categoryId,\n              condml,\n              condval,\n              qttccpvente,\n              prixqttccvente,\n              conditionnement,\n              condsize\n            } = values;\n            dispatch(\n              action(\"products\").update({\n                id: proda.id,\n                name: name,\n                type: type,\n                doseDefault: doseDefault,\n                prixVente: parseFloat(prixVente),\n                prixFournisseur: parseFloat(prixFournisseur),\n                prixVaccinateur: parseFloat(prixVaccinateur),\n                prixlitre:parseFloat(prixlitre),\n                prixParCC: parseFloat(prixParCC),\n                datePer: new Date(datePer),\n                qttByCC: parseFloat(proda.qttByCC),\n                quantityBrute: parseFloat(proda.quantityBrute),\n                quantityBruteCVA: parseFloat(proda.quantityBruteCVA),\n                quantityCCCVA: parseFloat(proda.quantityCCCVA),\n                quantityCC: parseFloat(proda.quantityCC),\n                uniteMesure: \"ml\",\n                condml: parseFloat(condml),\n                condsize: parseFloat(condsize),\n                qttccpvente: parseFloat(qttccpvente),\n                fournisseurId: parseInt(fournisseurId),\n                categoryId: parseInt(categoryId),\n                conditionnement: parseInt(conditionnement),\n                prixqttccvente: parseInt(prixqttccvente),\n                updatedAt: new Date(),\n                refSortie: \"0\",\n                refQtSortie: 0,\n                qttByCCDepot: 0,\n                condmldepot: 0,\n                condvaldepot: 0,qttyspecificmirror:0,\n                qttccpventedepot: 0,\n                prixqttccventedepot: 0,\n                quantityParProductDepot: 0,\n                condsizedepot: 0,\n                qttbylitre: 0,\n                remise: 0,\n                condval: 0,\n                correction: 0,\n                correctionml: 0,\n                correctionl: 0,\n                correctiontml: 0,\n                correctiontl: 0,\n                correctiontype: 0,\n              })\n            );\n            history.push(PRODUCTS);\n          }}\n          render={({ values }) => (\n            \n            <Form.Element>\n              <div className=\"row\">\n                <div className=\"col-lg-6\">\n                  <div className=\"card\">\n                    <div className=\"card-header bg-dark text-white\">\n                      Information gnrale\n                    </div>\n                    <div className=\"card-body\">\n                      <Form.Field.Select\n                        name=\"categoryId\"\n                        label=\"Categorie\"\n                        valueKey=\"name\"\n                        selectValue={proda.categoryId}\n                        options={categories}\n                      />\n                      <Form.Field.Select\n                        name=\"fournisseurId\"\n                        label=\"Fournisseur\"\n                        valueKey=\"name\"\n                        selectValue={proda.fournisseurId}\n                        options={fournisseurs}\n                      />\n                      <Form.Field.Input\n                        name=\"name\"\n                        value={values?.name}\n                        label=\"Dsignation\"\n                        placeholder={\"Dsignation\"}\n                      />\n                      <Form.Field.Select\n                        name=\"type\"\n                        label=\"Type d'article\"\n                        emptyValue={false}\n                        isNumeric={false}\n                        valueKey=\"name\"\n                        options={[\n                          { id: \"BOLUS\", name: \"BOLUS\" },\n                          { id: \"FLACON\", name: \"FLACON\" },\n                          { id: \"UNITE\", name: \"UNITE\" },\n                          { id: \"SACHET\", name: \"SACHET\" },\n                        ]}\n                      />\n                      {values.type === \"FLACON\" && (\n                        <div className=\"ml-3\">\n                          <Form.Field.Input\n                            name=\"doseDefault\"\n                            label=\"Quantit en ml ou dose ou litre\"\n                            placeholder={\"Quantit en ml ou dose ou litre\"}\n                          />\n                          <Form.Field.Select\n                            name=\"conditionnement\"\n                            label=\"Conditionnement\"\n                            valueKey=\"name\"\n                            \n                            emptyValue={false}\n                            options={[\n                              { id: 1, name: \"Sans conditionnement\" },\n                              { id: 2, name: \"Avec conditionnement\" },\n                            ]}\n                          />\n                          {values.conditionnement == 2 && (\n                            <>\n\n                              <Form.Field.Input\n                                name=\"condml\"\n                                label=\"Conditionnement (ML)\"\n                                placeholder={\"Conditionnement en ML\"}\n                              />\n                              <Form.Field.Input\n                                name=\"condsize\"\n                                label=\"Diviser en combien de flacon\"\n                                placeholder={\"Diviser en combien de flacon\"}\n                              />\n                              <Form.Field.Input\n                                name=\"qttccpvente\"\n                                label=\"Quantit de vente en ML\"\n                                placeholder={\"Quantit de vente en ML\"}\n                              />\n                              <Form.Field.Input\n                                name=\"prixqttccvente\"\n                                value={values?.prixqttccvente}\n                                disabled={\n                                  values.qttccpvente == null ||\n                                  values.qttccpvente == \"\"\n                                }\n                                label={`Prix de vente equivalent  ${values.qttccpvente} ML.`}\n                                placeholder={`Prix de vente equivalent  ${values.qttccpvente} ML.`}\n                              />\n                            </>\n                          )}\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"col-lg-6\">\n                  <div className=\"card\">\n                    <div className=\"card-header bg-dark text-white\">Vente</div>\n                    <div className=\"card-body\">\n                      <Form.Field.Input\n                        name=\"prixFournisseur\"\n                        value={values?.prixFournisseur}\n                        label=\"prix unitaire\"\n                        placeholder={\"prix unitaire\"}\n                      />\n                      {values.conditionnement == 2 && (\n                        <Form.Field.Input\n                           name=\"prixlitre\"\n                           value={values?.prixlitre}\n                           label=\"Prix d'un litre\"\n                            placeholder={\"Prix d'un litre\"}\n                                />)}\n                      <Form.Field.Input\n                        name=\"prixVente\"\n                        label=\"Prix de vente\"\n                        value={values?.prixVente}\n                        placeholder={\"prix de vente\"}\n                      />\n                      {values.type === \"FLACON\" && (\n                        <Form.Field.Input\n                          type={\n                            qttCcPVente == null || qttCcPVente == \"\"\n                              ? \"text\"\n                              : \"text\"\n                          }\n                          data={\n                            qttCcPVente != 0 &&\n                            qttCcPVente != \"\" &&\n                            prixQttCcVente / qttCcPVente != \"Infinity\"\n                              ? prixQttCcVente / qttCcPVente\n                              : 0\n                          }\n                          name=\"prixParCC\"\n                          label={\"Prix de vente ml\"}\n                          placeholder={\"Prix de vente ml\"}\n                        />\n                      )}\n                      <Form.Field.Input\n                        value={values?.prixVaccinateur}\n                        name=\"prixVaccinateur\"\n                        label=\"Prix du vaccinateur\"\n                        placeholder={\"prix du vaccinateur\"}\n                      />\n                    </div>\n                  </div>\n\n                  <button className=\"btn btn-green  btn-sm \" type=\"submit\">\n                    Editer\n                  </button>\n                  <button className=\"btn btn-danger ml-2 btn-sm \" type=\"reset\">\n                    Annuler\n                  </button>\n                </div>\n              </div>\n            </Form.Element>\n          )}\n        />\n      </Page>\n    </Content>\n  );\n}\n\nexport default Edit;\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { action, getData } from \"../../lib/call\";\nimport { useHistory } from 'react-router-dom';\nfunction Drop({ model, entity,attribute }) {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const deleteEntity = () => {\n    dispatch(action(model).destroy(entity));\n  };\n  return (\n    <>\n      <button\n      className=\"btn btn-danger btn-sm\"\n        onClick={(e) => {\n          e.preventDefault();\n          if (window.confirm(`Vous voulez vraiment supprimer \"${entity[attribute]}\" ?`)) {\n            deleteEntity();\n          }\n        }}\n      >\n        Supprimer\n      </button>\n    </>\n  );\n}\n\nexport default Drop;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Flex, Box, Text, Heading,Divider } from \"@chakra-ui/layout\";\nimport {\n  Breadcrumb,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  Button,\n  chakra,\n} from \"@chakra-ui/react\";\nimport {  InfoIcon } from \"@chakra-ui/icons\";\nimport { NavLink } from \"react-router-dom\";\nimport {useDisclosure} from \"@chakra-ui/hooks\";\nimport {\n  Modal,\n  ModalOverlay,\n  ModalContent,\n  ModalHeader,\n  ModalBody,\n  ModalCloseButton,\n} from \"@chakra-ui/react\"\nfunction GuideModal({isOpen,onOpen,onClose,title,guide,tip}){\n  return (\n    <Modal isOpen={isOpen} onClose={onClose} size={\"4xl\"}>\n      <ModalOverlay />\n      <ModalContent>\n        <ModalHeader>\n          <chakra.small size=\"sm\" color=\"gray.400\">\n            Guide d'utilisation\n          </chakra.small>\n          <Heading textTransform=\"uppercase\" color=\"blue.700\" size=\"md\">\n            {title}\n          </Heading>\n          <Divider my={2}/>\n        </ModalHeader>\n        <ModalCloseButton />\n        <ModalBody>\n          <Box\n            width={\"100%\"}\n          >\n            <Heading size=\"md\" my={2}>\n              {tip}\n            </Heading>\n            {guide}\n\n          </Box>\n        </ModalBody>\n      </ModalContent>\n    </Modal>\n  );\n}\nfunction Nav({ title,tip=\"\", list, guide, to,backTo, icon,...props }) {\n  const { isOpen, onOpen, onClose } = useDisclosure()\n  return (\n    <>\n      <Flex\n        p={3}\n        mb={2}\n        borderBottom={\"1px\"}\n        borderColor=\"blue.700\"\n        bg=\"white\"\n        boxShadow=\"lg\"\n        alignItems=\"center\"\n        justifyContent={guide ? \"space-between\":\"flex-end\"}\n      >\n        {guide && <Button size=\"sm\" onClick={onOpen} color=\"white\" on aria-label=\"Cliquer ici pour avoir plus d'information sur la page\">  <InfoIcon mr={1} color={\"white\"} fontSize=\"12px\"  /> Guide d'utilisation </Button>}\n        <GuideModal isOpen={isOpen} onOpen={onOpen} onClose={onClose} title={title} tip={tip} guide={guide}/>\n        <Box>\n          <Breadcrumb spacing=\"8px\">\n           {/** {to != \"/\" && ( */}\n              <>\n                <BreadcrumbItem>\n                  <BreadcrumbLink as={NavLink} to={to}>\n                    Accueil {\" > \"}\n                  </BreadcrumbLink>\n                </BreadcrumbItem>\n                <BreadcrumbItem ml={1} isCurrentPage>\n                  <BreadcrumbLink href=\"#\">{title}</BreadcrumbLink>\n                </BreadcrumbItem>\n              </>\n            {/**)} */}\n          </Breadcrumb>\n        </Box>\n      </Flex>\n      <Flex px={4} mr={2} \n        mt={4} {...props} flexDir=\"column\" justifyContent=\"flex-start\">\n        {backTo &&\n        <Box mt={3}>\n          <Button py={2} mx={1} as={NavLink} colorScheme=\"facebook\" size=\"sm\" color=\"white\" to={backTo}>\n           {\"<<\"} Revenir en arriere\n          </Button>\n        </Box>}\n        {list && \n        <Box  mt={4} mb={1} >\n          <Heading size=\"md\" textTransform=\"uppercase\"  color={\"blue.700\"}>\n            {title || \"Titre de la page\"}\n          </Heading>\n\n        </Box>\n        }\n      </Flex>\n    </>\n  );\n}\n\nexport default Nav;\n","import React from \"react\";\nimport Drop from \"./Drop\";\nimport { Link } from \"react-router-dom\";\nimport Gate from '../../../components/Gate';\nimport { SCOPES } from \"../../../constants/permissions\";\n\nexport const CrudAction = ({\n  route,\n  edit = [],\n  detail = [],\n  remove = [],\n  model,\n  modelKey,\n  data\n}) => {\n  return (\n    <div>\n      <Gate scopes={detail}>\n        <Link\n          className=\"btn btn-sm btn-primary mr-2\"\n          to={`/${route}/detail/${data.row.original.id}`}\n        >\n          Detail\n        </Link>\n      </Gate>\n      <Gate scopes={edit}>\n        <Link\n          className=\"btn btn-sm btn-warning mr-2\"\n          to={`/${route}/edit/${data.row.original.id}`}\n        >\n          Editer\n        </Link>\n      </Gate>\n      <Gate scopes={remove}>\n        <Drop model={model} entity={data.row.original} attribute={modelKey} />\n      </Gate>\n    </div>\n  );\n};\n","import React, { useEffect, useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, NavLink, useHistory } from \"react-router-dom\";\nimport Content from \"../../../@adminlte/adminlte/Content\";\nimport ActiveLink from \"../../../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../../../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../../../@adminlte/adminlte/Content/Page\";\nimport { ADMIN, CREATEPRODUCT, EDITPRODUCT } from \"../../../constants/routes\";\nimport { action, getData } from \"../../../utils/lib/call\";\nimport NumberFormat from \"react-number-format\";\nimport ReactToPrint from \"react-to-print\";\nimport $ from \"jquery\";\nimport { Flex, Button } from \"@chakra-ui/react\";\nimport { FaEdit, FaEye, FaTrash } from \"react-icons/fa\";\nimport Drop from \"../../../utils/admin/Resource/Drop\";\nimport Success from \"../../../utils/admin/Resource/Success\";\nimport Error from \"../../../utils/admin/Resource/Error\";\nimport DataTable from \"../../../utils/admin/DataTable\";\nimport { displayMoney } from \"../../../utils/functions\";\nimport Nav from \"../../../utils/admin/Nav\";\nimport Guide from \"./Guide\";\nimport { CrudAction } from \"../../../utils/admin/Resource/CrudAction\";\nimport { ActionCreators } from \"react-redux-undo\";\nimport { SCOPES } from \"../../../constants/permissions\";\n//initialize datatable\n/*   $(document).ready(function () {\n      $('table').DataTable();\n  });*/\nexport const ProductAll = () => {\n  const products = useSelector(getData(\"products\").value) || [];\n  const meta = useSelector(getData(\"products\").meta);\n  const ref = useRef();\n  const dispatch = useDispatch();\n  const history = useHistory();\n  useEffect(() => {\n    dispatch(action(\"products\").fetch());\n  }, []);\n  const deleteProduct = (prod) => {\n    dispatch(action(\"products\").destroy(prod));\n    dispatch(action(\"products\").fetch());\n  };\n\n  const columns = [\n    {\n      Header: \"Id\",\n      accessor: \"id\",\n    },\n    {\n      Header: \"Produit\",\n      accessor: \"name\",\n    },\n    {\n      Header: \"Fournisseur\",\n      Cell: (data) => {\n        return (\n          <>\n            <span className=\"badge badge-primary\">\n              {data.row.original?.fournisseur != null ? data.row.original?.fournisseur?.name : \"\"}\n            </span>\n          </>\n        );\n      },\n    },\n    {\n      Header: \"Quantit\",\n      accessor: \"quantityBrute\",\n    },\n    {\n      Header: \"Reste en ML\",\n      accessor: \"quantityCC\",\n    },\n    {\n      Header: \"Prix unitaire\",\n      Cell: (data) => {\n        return <div>{displayMoney(data.row.original?.prixFournisseur)}</div>;\n      },\n    },\n    {\n      Header: \"Prix de vente\",\n      Cell: (data) => {\n        return <div>{displayMoney(data.row.original?.prixVente)}</div>;\n      },\n    },\n\n    {\n      Header: \"Prix en ML\",\n      Cell: (data) => {\n        return (\n          <div>\n            {data.row.original?.qttccpvente != 0\n              ? displayMoney(\n                data.row.original?.prixParCC *\n                data.row.original?.qttccpvente\n              )\n              : displayMoney(data.row.original?.prixParCC)}\n          </div>\n        );\n      },\n    },\n\n    {\n      Header: \"Actions\",\n      Cell: (data) => {\n        return (\n          <CrudAction\n            edit={[SCOPES.canShowEditProduit]}\n            detail={[SCOPES.canShowDetailProduit]}\n            remove={[SCOPES.canShowDeleteProduit]}\n            route={\"product\"}\n            model={\"products\"}\n            modelKey={\"name\"}\n            data={data}\n          />\n        );\n      },\n    },\n  ];\n  return (\n    <Content>\n      <ContentHeader title=\"Tous les produits\">\n        <ActiveLink title=\"Tous les produits\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n        <DataTable\n          data={products}\n          scopes={[SCOPES.canShowAddProduit]}\n          meta={meta}\n          columns={columns}\n          addUrl={CREATEPRODUCT}\n          urlName={\"Ajouter un produit\"}\n        />\n      </Page>\n    </Content>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  fetchProductsByCategory,\n  fetchProductsByFournisseur,\n} from \"../../store/actions/products\";\nimport { action, getData } from \"../../utils/lib/call\";\nimport Content from \"../../@adminlte/adminlte/Content\";\nimport ActiveLink from \"../../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../../@adminlte/adminlte/Content/Page\";\nimport { Link } from \"react-router-dom\";\nimport { displayMoney } from \"../../utils/functions\";\nfunction ProductByCategory() {\n  const products = useSelector(getData(\"products\").value);\n\n  const categories = useSelector(getData(\"categories\").value);\n  const dispatch = useDispatch();\n  const [id, setId] = useState(1);\n  useEffect(() => {\n    //recuperer la premiere ligne dans le tableau fournisseur\n    dispatch(fetchProductsByCategory(id));\n    dispatch(action(\"categories\").fetch());\n  }, [id]);\n  return (\n    <Content>\n      <ContentHeader title=\"Liste des articles par categories\">\n        <ActiveLink title=\"Liste des articles par categories\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n        <div className=\"row\">\n          <div className=\"col-lg-8\"></div>\n          <div className=\"col-lg-4\">\n            <div className=\"d-flex align-items-center mb-3\">\n              <label htmlFor=\"\">Categorie:</label>\n              <select\n                className=\"form-control\"\n                onChange={(e) => {\n                  setId(e.target.value);\n                }}\n              >\n                {categories.map((f) => (\n                  <option value={f.id}>{f.name}</option>\n                ))}\n              </select>\n            </div>\n          </div>\n        </div>\n\n        <table className=\"table table-bordered table-striped\">\n          <thead className=\"bg-thead\">\n            <tr>\n              <th>Nom</th>\n              <th>Prix Unitaire</th>\n              <th>Categorie</th>\n              <th>Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {products.map((p) => (\n              <tr>\n              <td>{p?.name}</td>\n              <td>{displayMoney(p?.prixFournisseur)}</td>\n              <td>{p?.category?.name}</td>\n              <td>\n              <Link\n                  className=\"btn btn-sm btn-primary\"\n                  to={`/product/detail/${p.id}`}\n                >\n                  Detail\n                </Link></td>\n            </tr>\n            ))}\n          </tbody>\n        </table>\n      </Page>\n    </Content>\n  );\n}\n\nexport default ProductByCategory;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { fetchProductsByFournisseur } from \"../../store/actions/products\";\nimport { action, getData } from \"../../utils/lib/call\";\nimport Content from \"../../@adminlte/adminlte/Content\";\nimport ActiveLink from \"../../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../../@adminlte/adminlte/Content/Page\";\nimport { Link } from \"react-router-dom\";\nimport { displayMoney } from \"../../utils/functions\";\nfunction ProductByFournisseur() {\n  const products = useSelector(getData(\"products\").value);\n\n  const fournisseurs = useSelector(getData(\"fournisseurs\").value);\n  const dispatch = useDispatch();\n  const [id, setId] = useState(1);\n  useEffect(() => {\n    //recuperer la premiere ligne dans le tableau fournisseur\n    dispatch(fetchProductsByFournisseur(id));\n    dispatch(action(\"fournisseurs\").fetch());\n  }, [id]);\n  return (\n    <Content>\n      <ContentHeader title=\"Liste des articles par fournisseurs\">\n        <ActiveLink title=\"Liste des articles par fournisseurs\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n        <div className=\"row\">\n          <div className=\"col-lg-8\"></div>\n          <div className=\"col-lg-4\">\n            <div className=\"d-flex align-items-center mb-3\">\n              <label htmlFor=\"\">Fournisseur:</label>\n              <select\n                className=\"form-control\"\n                onChange={(e) => {\n                  setId(e.target.value);\n                }}\n              >\n                {fournisseurs.map((f) => (\n                  <option value={f.id}>{f.name}</option>\n                ))}\n              </select>\n            </div>\n          </div>\n        </div>\n        <table className=\"table table-bordered table-striped\">\n          <thead>\n            <tr>\n              <th>Nom</th>\n              <th>Prix</th>\n              <th>Fournisseur</th>\n              <td>Actions</td>\n            </tr>\n          </thead>\n          <tbody>\n            {products.map((p) => (\n              <tr>\n                <td>{p?.name}</td>\n                <td>{displayMoney(p?.prixFournisseur)}</td>\n                <td>{p?.fournisseur?.name}</td>\n                <td>\n                <Link\n                    className=\"btn btn-sm btn-primary\"\n                    to={`/product/detail/${p.id}`}\n                  >\n                    Detail\n                  </Link></td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </Page>\n    </Content>\n  );\n}\n\nexport default ProductByFournisseur;\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { fetchProductsRuptureStock } from \"../../store/actions/products\";\nimport { action, getData } from \"../../utils/lib/call\";\n\nimport Content from \"../../@adminlte/adminlte/Content\";\nimport ActiveLink from \"../../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../../@adminlte/adminlte/Content/Page\";\nimport { displayDate } from \"../../utils/functions\";\nimport DataTable from \"../../utils/admin/DataTable\";\nexport const Rupture = () => {\n  const products = useSelector(getData(\"products\").value);\n  const meta = useSelector(getData(\"products\").meta);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(fetchProductsRuptureStock());\n  }, []);\n  const columns = React.useMemo(\n    () => [\n      {\n        Header: \"Produit\",\n        accessor: \"name\",\n      },\n      {\n        Header: \"Quantit\",\n        accessor: \"quantityBrute\",\n      },\n      {\n        Header: \"Date de peremption\",\n        Cell: (data) => {\n          return (\n            <h3>\n                {displayDate(data.row.original?.datePer)}\n            </h3>\n          );\n        },\n      },\n    ],\n    []\n  );\n  return (\n    <Content>\n      <ContentHeader title=\"Article en rupture de stock\">\n        <ActiveLink title=\"Article en rupture de stock\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n        <DataTable data={products} meta={meta} columns={columns} />\n      </Page>\n    </Content>\n  );\n};\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { getEntree } from \"../store/actions/commandes\";\nimport { action, getData } from \"../utils/lib/call\";\nimport Content from \"../@adminlte/adminlte/Content\";\nimport ActiveLink from \"../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../@adminlte/adminlte/Content/Page\";\nimport NumberFormat from \"react-number-format\";\nfunction Entree() {\n  const [deb, setDeb] = useState(new Date());\n  const [fin, setFin] = useState(new Date());\n  const calculateTotal = (arr) => {\n    if (!arr || arr?.length === 0) return 0;\n    let total = 0;\n    arr.forEach((el) => {\n      total += el.prixVente;\n    });\n    return total;\n  };\n  const quantiteBruteTotal = (arr) => {\n    if (!arr || arr?.length === 0) return 0;\n    let total = 0;\n    arr.forEach((el) => {\n      total += el.quantityBrute;\n    });\n    return total;\n  };\n  const quantiteCCTotal = (arr) => {\n    if (!arr || arr?.length === 0) return 0;\n    let total = 0;\n    arr.forEach((el) => {\n      total += el.quantityCC;\n    });\n    return total;\n  };\n\n  const refDateDeb = useRef(null);\n  const refDateFin = useRef(null);\n  const commandes = useSelector(getData(\"commandes\").value);\n  const dispatch = useDispatch();\n  const getEntreeByDate = () => {\n    setDeb(refDateDeb.current.value);\n    setFin(refDateFin.current.value);\n  };\n  useEffect(() => {\n    dispatch(getEntree(deb, fin));\n  }, [deb, fin]);\n  return (\n    <Content>\n      <ContentHeader title=\"Factures\">\n        <ActiveLink title=\"Factures\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n        <div className=\"row\">\n          <div className=\"col-lg-4 mb-2\">\n\n          <Link to={\"/approv\"} className=\"btn  btn-primary\"> Effectuer un approvisionnement</Link>\n          </div>\n          <div className=\"col-lg-8\">\n          </div>\n        </div>\n        <div className=\"border p-3 bg-white\">\n          <div className=\"row mb-3\">\n            <div className=\"col-lg-7\"></div>\n            <div className=\"col-lg-5\">\n            <div className=\"d-flex justify-content-around\">\n            \n            <input\n              type=\"date\"\n              name=\"datedeb\"\n              className=\"form-control mr-3\"\n              format=\"DD-MM-YYYY\"\n              ref={refDateDeb}\n              placeholder=\"Dbut\"\n              \n            />\n            <input\n              type=\"date\"\n              name=\"datefin\"\n              className=\"form-control mr-3\"\n              ref={refDateFin}\n              placeholder=\"Fin\"\n            />\n\n          <Button onClick={getEntreeByDate}>Filtrer</Button>\n          </div>\n            </div>\n          </div>\n         \n          <table className=\"table table-bordered table-striped\">\n            <thead>\n              <tr>\n                <th>Date</th>\n                <th>Quantite Brute</th>\n                <th>Quantite en CC</th>\n                <th>Montant Total</th>\n                <th>Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {commandes.map((p) => (\n                <tr>\n                  <td>{p?.createdAt}</td>\n                  <td>{quantiteBruteTotal(p?.contenu)}</td>\n                  <td>{quantiteCCTotal(p?.contenu)}</td>\n                  <td>\n                  \n                  <NumberFormat\n                  value={calculateTotal(p?.contenu)}\n                  displayType={\"text\"}\n                  thousandSeparator={true}\n                  suffix={\"Ar\"}\n                  renderText={(value, props) => <div {...props}>{value}</div>}\n                />\n                  </td>\n                  <td className=\"d-flex justify-content-around\">\n                    <Link\n                      className=\"btn btn-sm  btn-success\"\n                      to={`detail/${p.id}`}\n                    >\n                      Afficher le detail\n                    </Link>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </Page>\n    </Content>\n  );\n}\n\nexport default Entree;\n","export const ROLE_VENDEUR = 'ROLE_VENDEUR';\nexport const ROLE_ADMIN = 'ROLE_ADMIN';\nexport const ROLE_SEMI_ADMIN = 'ROLE_SEMI_ADMIN';\n","import { createBrowserHistory } from 'history';\nimport {\n  REGISTER_SUCCESS,\n  REGISTER_FAIL,\n  LOGIN_SUCCESS,\n  LOGIN_FAIL,\n  LOGOUT,\n  REFRESH_TOKEN,\n} from \"../../constants/actions\";\n\nimport axios from \"axios\";\n const history = createBrowserHistory();\nconst SIGNUP_URL = process.env.SIGNUP_URL || \"http://localhost:8100/api/signup\";\nconst SIGNIN_URL = process.env.SIGNIN_URL || \"http://localhost:8100/api/signin\";\n\nexport const register =\n  ({ username, password, role }) =>\n  async (dispatch) => {\n    try {\n      await axios\n        .post(SIGNUP_URL, {\n          username: username,\n          password: password,\n          role: role,\n        })\n        .then(function (response) {\n          if (response.data.token) {\n            localStorage.setItem(\"user-veto\", JSON.stringify(response.data.token));\n          }\n          dispatch({\n            type: REGISTER_SUCCESS,\n            payload: {\n              user: response.data,\n              success: \"success operation\",\n              error: null,\n            },\n          });\n           history.push('/');\n        })\n        .catch(function (error) {\n          dispatch({\n            type: REGISTER_FAIL,\n            payload: {\n              user: null,\n              success: null,\n              error: error,\n            },\n          });\n        });\n    } catch (error) {\n      dispatch({\n        type: REGISTER_FAIL,\n        payload: {\n          user: null,\n          success: null,\n          error: error,\n        },\n      });\n    }\n  };\n\nexport const login =\n  ({ username, password }) =>\n  async (dispatch) => {\n    await axios\n      .post(SIGNIN_URL, {\n        username: username,\n        password: password,\n      })\n      .then(function (response) {\n        if (response.data.token) {\n          localStorage.setItem(\"user-veto\", JSON.stringify(response.data.token));\n        }\n        dispatch({\n          type: LOGIN_SUCCESS,\n          payload: {\n            user: response.data,\n            success: \"success operation\",\n            error: null,\n          },\n        });\n        history.push('/');\n      })\n      .catch(function (error) {\n        dispatch({\n          type: LOGIN_FAIL,\n          payload: {\n            success: null,\n            error: error?.response?.data?.error,\n          },\n        });\n      });\n  };\nexport const refreshToken = (accessToken) => (dispatch) => {\n  dispatch({\n    type: REFRESH_TOKEN,\n    payload: accessToken,\n  });\n};\nexport const logout = () => (dispatch) => {\n  localStorage.removeItem(\"user-veto\");\n  dispatch({\n    type: LOGOUT,\n  });\n};\n","export const SET_APPROV_ITEMS = 'SET_APPROV_ITEMS';\nexport const ADD_TO_APPROV = 'ADD_TO_APPROV';\nexport const REMOVE_FROM_APPROV = 'REMOVE_FROM_APPROV';\nexport const CLEAR_APPROV = 'CLEAR_APPROV';\nexport const ADD_QTY_APPROV_ITEM = 'ADD_QTY_APPROV_ITEM';\nexport const MINUS_QTY_APPROV_ITEM = 'MINUS_QTY_APPROV_ITEM';\nexport const ADD_NUMBER_QTY_ITEM ='ADD_NUMBER_QTY_ITEM';\nexport const ADD_QTY_NUMBER_APPROV_ITEM = 'ADD_QTY_NUMBER_APPROV_ITEM';\nexport const ADD_REMISE_PER_PRODUCT=\"ADD_REMISE_PER_PRODUCT\";\nexport const ADD_REMISE_PER_PRODUCT_PERCENT = \"ADD_REMISE_PER_PRODUCT_PERCENT\";","import React, { useEffect, useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, NavLink, withRouter } from \"react-router-dom\";\nimport {\n  ACCOUNT_URL,\n  HOME,\n  SIGNIN,\n  ENTREE,\n  SIGNUP,\n  CART,\n  PARAMETRES,\n  CREDITVACCINATEUR,\n  DIRECT,\n  PRODUCTBYFOURNISSEUR,\n  PRODUCTBYCATEGORY,\n  SORTIE,\n} from \"../constants/routes\";\nimport { ROLE_ADMIN, ROLE_USER } from \"../constants/roles\";\nimport { logout } from \"../store/actions/user\";\n\nconst Header = () => {\n  return (\n    <React.Fragment>\n      <div className=\"bg-dark m-0  p-2  text-center\">\n        <h3 className=\"m-0 p-2 text-white\">CABINET VETERINAIRE AMBALAVAO</h3>\n      </div>\n      <ul className=\"list-inline d-flex m-0  p-2 justify-content-center\">\n        <li className=\"text-white  m-0  p-2\">\n          <Link className=\"btn  btn-sm bg-success text-white\" to={\"/journal\"}>\n            Journal d'entrees et sorties\n          </Link>\n        </li>\n        <li className=\"text-white  m-0  p-2\">\n          <Link className=\"btn  btn-sm bg-success text-white\" to={ENTREE}>\n            Entree\n          </Link>\n        </li>\n        <li className=\"text-white  m-0  p-2\">\n          <Link className=\"btn  btn-sm bg-success text-white\" to={SORTIE}>\n            Sortie\n          </Link>\n        </li>\n        \n        <li className=\"text-white m-0  p-2\">\n          <Link className=\"btn btn-sm bg-success text-white\" to={\"/products\"}>\n            Articles\n          </Link>\n        </li>\n        \n        <li className=\"text-white m-0  p-2\">\n          <Link className=\"btn bg-success btn-sm text-white\" to={\"/credit\"}>\n            Credit\n          </Link>\n        </li>\n        <li className=\"text-white m-0  p-2\">\n          <Link className=\"btn bg-success btn-sm text-white\" to={CREDITVACCINATEUR}>\n            Credit Vaccinateur\n          </Link>\n        </li>\n        <li className=\"text-white m-0  p-2\">\n          <Link className=\"btn bg-success btn-sm text-white\" to={DIRECT}>\n            Commande direct\n          </Link>\n        </li>\n        <li className=\"text-white m-0  p-2\">\n          <Link className=\"btn bg-success btn-sm text-white\" to={PRODUCTBYFOURNISSEUR}>\n            Produit par fournisseur\n          </Link>\n        </li>\n        <li className=\"text-white m-0  p-2\">\n          <Link className=\"btn bg-success btn-sm text-white\" to={PRODUCTBYCATEGORY}>\n            Produit par category\n          </Link>\n        </li>\n        \n        <li className=\"text-white m-0  p-2\">\n          <Link className=\"btn  btn-sm bg-success text-white\" to={\"/\"}>\n            Bon de sortie\n          </Link>\n        </li>\n        <li className=\"text-white m-0  p-2\">\n          <Link className=\"btn  btn-sm bg-success text-white\" to={\"/approv\"}>\n            Article  approvisionner\n          </Link>\n        </li>\n        <li className=\"text-white m-0  p-2\">\n          <Link className=\"btn  btn-sm bg-success text-white\" to={\"/perimes\"}>\n            Article perim\n          </Link>\n        </li>\n        <li className=\"text-white m-0  p-2\">\n          <Link className=\"btn  btn-sm bg-success text-white\" to={PARAMETRES}>\n            Parametres\n          </Link>\n        </li>\n      </ul>\n    </React.Fragment>\n  );\n};\nexport default withRouter(Header);\n","import {\n  ADD_QTY_APPROV_ITEM,\n  ADD_TO_APPROV,\n  CRETATE_FACTURE,\n  CLEAR_APPROV,\n  MINUS_QTY_APPROV_ITEM,\n  REMOVE_FROM_APPROV,\n  SET_APPROV_ITEMS,\n  ADD_NUMBER_QTY_ITEM,\n  ADD_QTY_NUMBER_APPROV_ITEM,ADD_REMISE_PER_PRODUCT,ADD_REMISE_PER_PRODUCT_PERCENT\n} from \"../constants\";\n\n\n\n\nexport const setApprovItems = (items = []) => ({\n  type: SET_APPROV_ITEMS,\n  payload: items ,\n});\n\nexport const addToApprov = (product) => ({\n  type: ADD_TO_APPROV,\n  payload: product,\n});\n\nexport const removeFromApprov = (id) => ({\n  type: REMOVE_FROM_APPROV,\n  payload: id,\n});\n\nexport const clearApprov = () => ({\n  type: CLEAR_APPROV,\n});\n\nexport const addQtyApprovItem = (id) => ({\n  type: ADD_QTY_APPROV_ITEM,\n  payload: { id: id},\n});\nexport const addNumberQtyItem = (id,qtt) => ({\n  type: ADD_NUMBER_QTY_ITEM,\n  payload: { id: id,qtt:qtt},\n});\n\n\nexport const minusQtyApprovItem = (id) => ({\n  type: MINUS_QTY_APPROV_ITEM,\n  payload: { id: id },\n});\nexport const setQtyApprovItem =(id,value)=>({\n  type : ADD_QTY_NUMBER_APPROV_ITEM,\n  payload:{\n    id:id,\n    value:value\n  }\n}) \nexport const setRemisePerProduct =(id,value)=>({\n  type : ADD_REMISE_PER_PRODUCT,\n  payload:{\n    id:id,\n    value:value\n  }\n}) \nexport const setRemisePercent =(id,value)=>({\n  type : ADD_REMISE_PER_PRODUCT_PERCENT,\n  payload:{\n    id:id,\n    value:value\n  }\n}) \n","import { useDispatch, useSelector } from 'react-redux';\nimport { addToApprov as dispatchAddToApprov, removeFromApprov } from '../store/approvis/actions/approvis';\n\nconst useApprov = (approvisionnement,dispatch) => {\n  const isItemOnApprov = (id) => !!approvisionnement?.find(item => item?.id === id);\n  const addToApprov = (product) => {\n    if (isItemOnApprov(product.id)) {\n      dispatch(removeFromApprov(product.id));\n    } else {\n      dispatch(dispatchAddToApprov(product));\n    }\n  };\n  return { approvisionnement, isItemOnApprov, addToApprov };\n};\n\nexport default useApprov;\n","import React from \"react\";\nimport { Col, ListGroup, Row } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport useApprov from \"../../../hooks/useApprov\";\nimport { displayMoney } from \"../../../utils/functions\";\n\nconst ProductItemApprov = ({\n  key,\n  product,\n  isItemOnApprov,\n  handleAddToApprov,\n}) => {\n  return (\n    <> \n      <ListGroup.Item key={key}>\n        <Row\n          className={`product-card m-2 ${!product.id ? \"product-loading\" : \"\"}`}\n          style={{\n            border:\n              product && isItemOnApprov(product.id) ? \"1px solid #a6a5a5\" : \"\",\n            boxShadow:\n              product && isItemOnApprov(product.id)\n                ? \"0 10px 15px rgba(0, 0, 0, .07)\"\n                : \"none\",\n          }}\n        >\n          <Col xs={9}>\n            <>\n              <p>{product?.name}</p>\n              <div class=\"badge badge-primary\">\n                {product?.fournisseur?.name}\n              </div>\n              <p>\n                <strong> {displayMoney(product?.prixFournisseur)}</strong>\n              </p>\n            </>\n          </Col>\n\n          <Col xs={3}>\n            {product?.id && (\n              <button\n                className={` ${\n                  isItemOnApprov(product.id)\n                    ? \"btn btn-danger btn-sm\"\n                    : \"btn btn-green btn-sm\"\n                }`}\n                onClick={() => handleAddToApprov(product)}\n              >\n                {!isItemOnApprov(product.id) ? \"Ajouter\" : \"Retirer\"}\n              </button>\n            )}\n          </Col>\n        </Row>\n      </ListGroup.Item>\n    </>\n  );\n};\n\nexport default React.memo(ProductItemApprov);\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  addQtyApprovItem,\n  minusQtyApprovItem,\n  setQtyApprovItem,\n} from \"../../../store/approvis/actions/approvis\";\nimport {\n  NumberInput,\n  NumberInputField,\n  NumberInputStepper,\n  NumberIncrementStepper,\n  NumberDecrementStepper,\n} from \"@chakra-ui/react\";\nconst ApprovisionnementItemControl = ({ product }) => {\n  const dispatch = useDispatch();\n  const onAddQty = () => {\n    dispatch(addQtyApprovItem(product.id));\n  };\n  const onAddQtyBrute = (value) => {\n    dispatch(setQtyApprovItem(product.id, value));\n  };\n\n  const onMinusQty = () => {\n    //  if ((product.quantityBrute >= product.quantityParProduct) && product.quantityParProduct !== 0) {\n    dispatch(minusQtyApprovItem(product.id));\n    // }\n  };\n\n  return (\n    <div className=\"basket-item-control\">\n    \n      <NumberInput\n        w={28}\n        bg={\"whitesmoke\"}\n        onChange={(value) => {\n          onAddQtyBrute(Number(value));\n        }}\n        min={0}\n        defaultValue={product.quantityParProduct}\n      >\n        <NumberInputField />\n        <NumberInputStepper>\n          <NumberIncrementStepper />\n          <NumberDecrementStepper />\n        </NumberInputStepper>\n      </NumberInput>\n      {/**    <button\n        className=\"btn btn-dark btn-sm\"\n        onClick={onAddQty}\n        type=\"button\"\n      >\n        +\n      </button>\n      <div className=\"mr-2 ml-1 d-flex\">\n      <span>{product.quantityParProduct}</span>\n      </div>\n      <button\n        className=\"btn btn-dark btn-sm\"\n        disabled={product.quantityParProduct === 0}\n        onClick={onMinusQty}\n        type=\"button\"\n      >\n        -\n      </button>*/}\n    </div>\n  );\n};\nexport default ApprovisionnementItemControl;\n","import React from \"react\";\nimport { Col, Row } from \"react-bootstrap\";\nimport NumberFormat from \"react-number-format\";\nimport { useDispatch } from \"react-redux\";\nimport { displayMoney } from \"../../../utils/functions\";\nimport ApprovisionnementItemControl from \"./ApprovisionnementItemControl\";\nimport ApprovisionnementRemise from \"./ApprovisionnementRemise\";\nconst ApprovisionnementItem = ({ product, isItemOnApprov, addToApprov }) => {\n  const dispatch = useDispatch();\n  const handleAddToApprov = () => {\n    if (addToApprov) addToApprov(product);\n  };\n  const getHt = () => {\n    return product.prixFournisseur * product.quantityParProduct;\n  };\n\n  const itemOnApprov = isItemOnApprov ? isItemOnApprov(product.id) : false;\n  return (\n    <div>\n      <div className=\"d-flex justify-content-between align-items-start border   mb-2 p-2\">\n        <div style={{ width: \"65%\" }}>\n          <table border=\"1\">\n            <tr>\n              <td>Nom du produit : </td>\n              <td>{product?.name}</td>\n            </tr>\n            <tr>\n              <td>Prix unitaire:</td>\n              <td>{displayMoney(product.prixFournisseur)}</td>\n            </tr>\n            <tr>\n              <td>Montant HT:</td>\n              <td>\n                {displayMoney(\n                  product.prixFournisseur * product.quantityParProduct -\n                    product.remise\n                )}\n              </td>\n            </tr>\n          \n          </table>\n        </div>\n        <div className=\"d-flex mt-3\">\n          <ApprovisionnementItemControl product={product} />\n        </div>\n        <div>\n          {itemOnApprov && (\n            <button\n              onClick={handleAddToApprov}\n              className=\"btn btn-danger btn-xs text-right\"\n            >\n              X\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ApprovisionnementItem;\n","// tester l'existance d'une quantit suffisante pour en cc d'un produit dans le cva\nexport const canBuyCCFromCva = (product) => {\n  if (product.quantityBruteCVA > 0) {\n    return true;\n  } else {\n    if (product.quantityCCCVA > 0) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n};\nexport const cantBuyCCFromCva = (product) => {\n  if (product.quantityBruteCVA <= 0) {\n    if (product.quantityCCCVA > 0) {\n      return false;\n    } else {\n      return true;\n    }\n  } else {\n    return false;\n  }\n};\n\nexport const canBuyBruteFromCva = (product) => {\n  if (product.quantityBruteCVA > 0) {\n    return true;\n  } else {\n    return false;\n  }\n};\nexport const cantBuyBruteFromCva = (product) => {\n  if (product.quantityBruteCVA == 0 || product.quantityBruteCVA < 0) {\n    return true;\n  } else {\n    return false;\n  }\n};\nexport const cantBuyBrute = (product) => {\n  return !!product.quantityBrute <= 0;\n};\nexport const canBuyBrute = (product) => {\n  return !!product.quantityBrute > 0;\n};\n\nexport const getRestQuantityCCWhenOrderIsBiggerThanLastQuantityCC = (\n  product\n) => {\n  if (isBiggerThanLastQuantityCC(product))\n    return product.qttByCC - product.quantityCCCVA;\n  else return product.quantityCCCVA - product.qttByCC;\n};\nexport const minusQuantityBruteCvaWhenQttCcIsEmpty = (product) => {\n  if (canBuyCCFromCva(product)) {\n    product.quantityBruteCVA -= 1;\n    reinitQuantityCCCva(\n      product,\n      product.doseDefault -\n        getRestQuantityCCWhenOrderIsBiggerThanLastQuantityCC(product)\n    );\n  }\n  return product;\n};\n\nexport const isBiggerThanLastQuantityCC = (product) => {\n  if (product.qttByCC > product.quantityCCCVA) {\n    return true;\n  } else {\n    return false;\n  }\n};\nexport const isLowerThanLastQuantityCC = (product) => {\n  if (product.qttByCC < product.quantityCCCVA) {\n    return true;\n  } else {\n    return false;\n  }\n};\nexport const isSameOfLastQuantityCC = (product) => {\n  if (product.qttByCC == product.quantityCCCVA) {\n    return true;\n  } else {\n    return false;\n  }\n};\nconst notSatisfaisanteProductCommande = (product) => {\n  return (\n    product.quantityCCCVA - product.qttByCC < 0 &&\n    product.quantityBruteCVA - 1 - product.quantityParProduct * 1 < 0\n  );\n};\nexport const minusQuantityCc = (product) => {\n  if (product.quantityParProduct > 0) {\n    if (product.qttByCC > 0) {\n      if (!notSatisfaisanteProductCommande(product)) {\n        if (product.quantityBruteCVA - product.quantityParProduct < 0) {\n          product.quantityParProduct = product.quantityBruteCVA;\n          product.quantityBruteCVA = 0;\n        } else {\n          product.quantityBruteCVA -= product.quantityParProduct;\n        }\n      }\n      if (product.qttByCC >= product.doseDefault) {\n        product.qttByCC = product.doseDefault;\n      }\n    } else {\n      if (product.quantityBruteCVA - product.quantityParProduct < 0) {\n        product.quantityParProduct = product.quantityBruteCVA;\n        product.quantityBruteCVA = 0;\n      } else {\n        product.quantityBruteCVA -= product.quantityParProduct;\n      }\n    }\n  }\n  if (canBuyCCFromCva(product)) {\n    if (isBiggerThanLastQuantityCC(product)) {\n      if (product.quantityBruteCVA - 1 >= 0) {\n        minusQuantityBruteCvaWhenQttCcIsEmpty(product);\n      } else {\n        product.quantityBruteCVA = 0;\n        reinitQuantityCCCva(product, product.quantityCCCVA);\n      }\n    } else if (isSameOfLastQuantityCC(product)) {\n      reinitQuantityCCCva(product, 0);\n    } else if (isLowerThanLastQuantityCC(product)) {\n      reinitQuantityCCCva(product, product.quantityCCCVA - product.qttByCC);\n    }\n  } else {\n    reinitQuantityCCCva(product, 0);\n  }\n\n  return product;\n};\nexport const reinitQuantityCCCva = (product, value) => {\n  product.quantityCCCVA = value;\n  return product;\n};\n\nexport const soldAllStockCCCva = (product) => {\n  product.quantityCCCVA = 0;\n};\nexport const resetQuantityBruteCva = (product) => {\n  product.quantityBruteCVA = 0;\n};\n\nexport const handleSoldQuantityCC = (product) => {\n  minusQuantityCc(product);\n  return product;\n};\nexport const isSpecialProductHandle = (product) => {\n  return !!(\n    product.condml != 0 &&\n    product.condsize != 0 &&\n    product.qttccpvente != 0 &&\n    product.prixqttccvente != 0\n  );\n};\nexport const isBiggerThanLastCondML = (product) => {\n  return !!(product.qttByCC > product.condml);\n};\nexport const hasCondVal = (product) => {\n  return !!product.condval > 0;\n};\nexport const minusCondValWhenQttCcIsEmpty = (product) => {\n  product.condval -= 1;\n  return product;\n};\n\nexport const reinitConditionnement = (product) => {\n  product.quantityCCCVA =\n    product.condml -\n    getRestQuantityCCWhenOrderIsBiggerThanLastQuantityCC(product);\n  product.condval = product.condval - 1;\n  return product;\n};\nexport const minusQuantityBruteCvaWhenQttCcCondIsEmpty = (product) => {\n  if (canBuyBruteFromCva(product)) {\n    product.quantityBruteCVA -= 1;\n    reinitConditionnement(product);\n  } else product.quantityBruteCVA = 0;\n  return product;\n};\nexport const minusCondML = (product) => {\n  if (hasCondVal(product)) {\n    if (product.qttbylitre > 0) {\n      if (product.quantityParProduct > 0) {\n        if (product.qttByCC > 0) {\n          //  1 1 10\n          if (product.quantityBruteCVA - product.qttbylitre >= 0) {\n            product.quantityBruteCVA =\n              Number(product.quantityBruteCVA) - product.qttbylitre;\n          } else {\n            product.quantityBruteCVA = 0;\n          }\n          if (product.condval - product.quantityParProduct < 0) {\n            let diff = product.quantityParProduct - product.condval;\n            let moins = 0;\n            if (diff > product.condsize) {\n              moins = Math.floor(Number(diff) / Number(product.condsize));\n              let reste = Number(diff) - Number(product.condsize) * moins;\n              product.condval = reste;\n              if (product.condval - reste < 0) {\n                moins += 1;\n              }\n            } else {\n              product.condval = product.condsize - diff;\n              if (product.condval - diff < 0) {\n                moins = 1;\n              }\n            }\n\n            product.quantityBruteCVA -= moins;\n          } else {\n            product.condval -= product.quantityParProduct;\n          }\n          if (product.quantityCCCVA - product.qttByCC > 0) {\n            /** product.quantityCCCVA =\n              Number(product.quantityCCCVA) - product.qttByCC;  */\n          } else if (product.quantityCCCVA - product.qttByCC == 0) {\n            product.quantityCCCVA = 0;\n          } else {\n            console.log(\"ici\");\n            if (product.condval - 1 < 0) {\n              if (product.quantityBruteCVA - 1 > 0) {\n                let difference =\n                  product.qttByCC - Number(product.quantityCCCVA);\n                product.condval = product.condsize - 1;\n                product.quantityBruteCVA -= 1;\n                product.quantityCCCVA = product.condml - difference;\n              } else if (product.condval - 1 == 0) {\n                product.condval = 0;\n                product.quantityCCCVA =\n                  product.condml -\n                  product.qttByCC -\n                  Number(product.quantityCCCVA);\n              }\n            } else {\n              if (Number(product.quantityCCCVA) - product.qttByCC < 0) {\n                let difference =\n                  product.qttByCC - Number(product.quantityCCCVA);\n                product.condval -= 1;\n                product.quantityCCCVA = product.condml - difference;\n              } else if (Number(product.quantityCCCVA) - product.qttByCC > 0) {\n                product.quantityCCCVA -= product.qttByCC;\n              } else if (Number(product.quantityCCCVA) - product.qttByCC == 0) {\n                product.quantityCCCVA = 0;\n              }\n            }\n          }\n        } else {\n          // 1 1 0\n          if (product.condval - product.quantityParProduct < 0) {\n            product.condval =\n              product.condsize - product.quantityParProduct + product.condval;\n            product.quantityBruteCVA -= 1;\n            product.quantityCCCVA =\n              product.condml - Number(product.quantityCCCVA) + product.qttByCC;\n          }\n          if (product.quantityBruteCVA - product.qttbylitre >= 0) {\n            product.quantityBruteCVA =\n              Number(product.quantityBruteCVA) - product.qttbylitre;\n          } else {\n            product.quantityBruteCVA = 0;\n          }\n        }\n      } else {\n        if (product.qttByCC > 0) {\n          // 1 0 10\n          if (product.quantityCCCVA - product.qttByCC > 0) {\n            if (product.quantityBruteCVA - product.qttbylitre >= 0) {\n              product.quantityBruteCVA =\n                Number(product.quantityBruteCVA) - product.qttbylitre;\n            } else {\n              product.quantityBruteCVA = 0;\n            }\n            product.quantityCCCVA =\n              Number(product.quantityCCCVA) - product.qttByCC;\n          } else {\n            if (product.condval - 1 < 0) {\n              if (product.quantityBruteCVA - 1 >= 0) {\n                product.condval = product.condsize - 1;\n                product.quantityBruteCVA -= 1;\n              }\n            } else {\n              if (product.quantityCCCVA - product.qttByCC < 0) {\n                product.condval -= 1;\n                product.quantityCCCVA = 10;\n                product.condml -\n                  Number(product.quantityCCCVA) -\n                  product.qttByCC;\n              } else if (product.quantityCCCVA - product.qttByCC > 0) {\n                product.quantityCCCVA -= product.qttByCC;\n              } else if (product.quantityCCCVA - product.qttByCC == 0) {\n                product.quantityCCCVA = 0;\n              }\n              product.condval -= 1;\n              product.quantityCCCVA =\n                product.condml -\n                Number(product.quantityCCCVA) +\n                product.qttByCC;\n            }\n          }\n        } else {\n          // 1 0 0\n          if (product.quantityBruteCVA - product.qttbylitre >= 0) {\n            product.quantityBruteCVA =\n              Number(product.quantityBruteCVA) - product.qttbylitre;\n          } else {\n            product.quantityBruteCVA = 0;\n          }\n        }\n      }\n    } else {\n      if (product.quantityParProduct > 0) {\n        if (product.qttByCC > 0) {\n          if (product.condval - product.quantityParProduct < 0) {\n            if (product.quantityBruteCVA - 1 >= 0) {\n              product.quantityBruteCVA -= 1;\n              product.condval = product.condsize - 1;\n            } else {\n              product.quantityBruteCVA = 0;\n              product.condval = 0;\n            }\n          }\n          if (product.condval - product.quantityParProduct == 0) {\n            product.condval = 0;\n          } else {\n            product.condval -= product.quantityParProduct;\n          }\n\n          if (Number(product.quantityCCCVA) - product.qttByCC < 0) {\n            let difference = product.qttByCC - Number(product.quantityCCCVA);\n            product.condval -= 1;\n            product.quantityCCCVA = product.condml - difference;\n          } else if (Number(product.quantityCCCVA) - product.qttByCC > 0) {\n            product.quantityCCCVA -= product.qttByCC;\n          } else if (Number(product.quantityCCCVA) - product.qttByCC == 0) {\n            product.quantityCCCVA = 0;\n          }\n        } else {\n          product.condval -= product.quantityParProduct;\n          if (product.condval < 0) {\n            if (canBuyBruteFromCva(product)) {\n              product.quantityBruteCVA -= 1;\n              product.condval = product.condsize - 1;\n            } else {\n              product.condval = 0;\n            }\n          }\n        }\n      } else {\n        if (isBiggerThanLastQuantityCC(product)) {\n          minusCondValWhenQttCcIsEmpty(product);\n          if (product.condval == 0) {\n            if (canBuyBruteFromCva(product)) {\n              if (\n                getRestQuantityCCWhenOrderIsBiggerThanLastQuantityCC(product) >\n                0\n              ) {\n                product.quantityBruteCVA -= 1;\n                reinitQuantityCCCva(\n                  product,\n                  product.condml -\n                    getRestQuantityCCWhenOrderIsBiggerThanLastQuantityCC(\n                      product\n                    )\n                );\n                product.condval = product.condsize - 1;\n              }\n            }\n          } else {\n            reinitQuantityCCCva(\n              product,\n              product.condml -\n                getRestQuantityCCWhenOrderIsBiggerThanLastQuantityCC(product)\n            );\n          }\n        } else {\n          if (isSameOfLastQuantityCC(product)) {\n            return false;\n          } else if (isLowerThanLastQuantityCC(product)) {\n            if (canBuyCCFromCva(product))\n              product.quantityCCCVA -= product.qttByCC;\n            else product.quantityCCCVA = 0;\n          } else {\n          }\n        }\n      }\n    }\n  } else {\n    /** if (canBuyBruteFromCva(product)) {\n      product.quantityBruteCVA -= 1;\n      reinitQuantityCCCva(\n        product,\n        product.condml -\n          getRestQuantityCCWhenOrderIsBiggerThanLastQuantityCC(product)\n      );\n      if (product.condval == 0) product.condval = product.condsize - 1;\n    } else {\n      if (canBuyCCFromCva(product)) {\n        if (isBiggerThanLastQuantityCC(product)) {\n          if (canBuyBruteFromCva(product)) {\n            product.quantityBruteCVA -= 1;\n          } else {\n            reinitQuantityCCCva(product, 0);\n          }\n        } else if (isSameOfLastQuantityCC(product)) {\n          reinitQuantityCCCva(product, 0);\n        } else if (isLowerThanLastQuantityCC(product)) {\n          reinitQuantityCCCva(product, product.quantityCCCVA - product.qttByCC);\n        }\n      } else {\n        reinitQuantityCCCva(product, 0);\n      }\n    } */\n  }\n  return product;\n};\n\nexport const handlePhtyoSpecific = (product) => {\n  minusCondML(product);\n  return product;\n};\nexport const handleMinusProduct = (product) => {\n  if (canBuyBruteFromCva(product)) {\n    product.quantityBruteCVA -= product.quantityParProduct;\n  } else if (cantBuyBruteFromCva(product)) {\n    product.quantityBruteCVA = 0;\n  }\n  return product;\n};\nexport const handleMinusCondML = (product) => {\n  minusCondML(product);\n  return product;\n};\nexport const resetProductData = (product, cloneProduct) => {\n  Object.keys(cloneProduct).forEach(function (key) {\n    if (cloneProduct[key] == 0 || cloneProduct[key] == 0) {\n      cloneProduct[key] = product[key];\n    }\n  });\n};\n\nexport const handleSoldProduct = (product) => {\n  if (canBuyBrute(product)) {\n    product.quantityBrute -= product.quantityParProduct;\n  } else if (cantBuyBrute(product)) {\n    product.quantityBrute = 0;\n  }\n  return product;\n};\n\nexport const canBuy = (product) => {\n  if (isSpecialProductHandle(product)) {\n  }\n  return true;\n};\nexport const buy = (product) => {\n  let isSpecific = false;\n  if (isSpecialProductHandle(product)) {\n    isSpecific = true;\n    let qtt = product.quantityParProduct;\n    let qttcc = product.qttByCC;\n    let qttlitre = product.qttbylitre;\n    let normalQtt = product.condval;\n    let normalQttCC = product.quantityCCCVA;\n    let normalQttLitre = product.quantityBruteCVA;\n    let condsize = product.condsize;\n    let dose = product.doseDefault;\n    let condml = product.condml;\n    let isValid = true;\n    if (qttlitre > 0 && qtt == 0 && qttcc == 0) {\n      if (qttlitre <= normalQttLitre) {\n        product.quantityBruteCVA -= qttlitre;\n      }\n    }\n    if (qttlitre == 0 && qtt > 0 && qttcc == 0) {\n      let moins = 0,\n        reste = 0;\n      if (Number(qtt) > Number(condsize)) {\n        moins = Math.floor(Number(qtt) / Number(condsize));\n        reste = Number(qtt) - Number(condsize) * moins;\n        if (normalQtt - reste < 0) {\n          let diff = Number(reste) - Number(normalQtt);\n          product.condval = Number(condsize) - Number(diff);\n          moins += 1;\n        } else {\n          product.condval = normalQtt - reste;\n        }\n      } else {\n        product.condval -= Number(qtt);\n      }\n      product.quantityBruteCVA -= moins;\n    }\n    if (qttlitre == 0 && qtt == 0 && qttcc > 0) {\n      let moins = 0,\n        moinslitre = 0,\n        restelitre = 0,\n        reste = 0;\n      if (Number(qttcc) > Number(dose)) {\n        moins = Math.floor(Number(qttcc) / Number(dose));\n        reste = Number(qttcc) - Number(dose) * moins;\n        if (normalQttCC - reste < 0) {\n          let diff = Number(reste) - Number(normalQttCC);\n          product.quantityCCCVA = Number(dose) - Number(diff);\n          moins += 1;\n        } else {\n          product.quantityCCCVA = normalQttCC - reste;\n        }\n      } else {\n        product.quantityCCCVA -= Number(qttcc);\n      }\n      if (Number(moins) > Number(condsize)) {\n        moinslitre = Math.floor(Number(moins) / Number(condsize));\n        restelitre = Number(moins) - Number(condsize) * restelitre;\n        if (normalQtt - restelitre < 0) {\n          let diff = Number(restelitre) - Number(normalQtt);\n          product.condval = Number(condsize) - Number(diff);\n          moinslitre += 1;\n        } else {\n          product.condval = normalQtt - restelitre;\n        }\n      } else {\n        product.condval -= Number(qtt);\n      }\n      product.quantityBruteCVA -= moinslitre;\n    }\n  \n    if (qttlitre == 0 && qtt > 0 && qttcc > 0) {\n      let moins = 0,\n        moinslitre = 0,\n        restelitre = 0,\n        reste = 0;\n      if (Number(qttcc) > Number(condml)) {\n        moins = Math.floor(Number(qttcc) / Number(condml));\n        reste = Number(qttcc) - Number(condml) * moins;\n        if (normalQttCC - reste < 0) {\n          let diff = Number(reste) - Number(normalQttCC);\n          product.quantityCCCVA = Number(condml) - Number(diff);\n          moins += 1;\n        } else {\n          product.quantityCCCVA = Number(normalQttCC) - reste;\n        }\n      } else {\n        product.quantityCCCVA -= Number(qttcc);\n      }\n      let mm = Number(qtt) + moins;\n      if (mm > Number(condsize)) {\n        moinslitre = Math.floor(mm / Number(condsize));\n        restelitre = mm - Number(condsize) * moins;\n        if (normalQtt - restelitre < 0) {\n          let diff = Number(restelitre) - Number(normalQtt);\n          product.condval = Number(condsize) - Number(diff);\n          moinslitre += 1;\n        } else {\n          product.condval = normalQtt - restelitre;\n        }\n      } else {\n        product.condval -= mm;\n      }\n      product.quantityBruteCVA -= moinslitre;\n    }\n  \n    if (qttlitre > 0 && qtt > 0 && qttcc == 0) {\n      let moinslitre = 0,\n        restelitre = 0;\n  \n      if (Number(qtt) > Number(condsize)) {\n        moinslitre = Math.floor(Number(qtt) / Number(condsize));\n        restelitre = Number(qtt) - Number(condsize) * moinslitre;\n        if (normalQtt - restelitre < 0) {\n          let diff = Number(restelitre) - Number(normalQtt);\n          product.condval = Number(condsize) - Number(diff);\n          moinslitre += 1;\n        } else {\n          product.condval = normalQtt - restelitre;\n        }\n      } else {\n        product.condval -= Number(qtt);\n      }\n      product.quantityBruteCVA -= moinslitre + qttlitre;\n    }\n  \n    if (qttlitre > 0 && qtt == 0 && qttcc > 0) {\n      let moins = 0,\n        moinslitre = 0,\n        restelitre = 0,\n        reste = 0;\n      if (Number(qttcc) > Number(condml)) {\n        moins = Math.floor(Number(qttcc) / Number(condml));\n        reste = Number(qttcc) - Number(condml) * moins;\n        if (normalQttCC - reste < 0) {\n          let diffcc = Number(reste) - Number(normalQttCC);\n          product.quantityCCCVA = Number(condml) - Number(diffcc);\n          moins += 1;\n        } else {\n          product.quantityCCCVA = normalQttCC - reste;\n        }\n      } else {\n        product.quantityCCCVA -= Number(normalQttCC);\n      }\n  \n      if (Number(moins) > Number(condsize)) {\n        moinslitre = Math.floor(Number(moins) / Number(condsize));\n        restelitre = Number(moins) - Number(condsize) * moinslitre;\n        if (normalQtt - restelitre < 0) {\n          let diff = Number(restelitre) - Number(normalQtt);\n          product.condval = Number(condsize) - Number(diff);\n          moinslitre += 1;\n        } else {\n          product.condval = normalQtt - reste;\n        }\n      } else {\n        product.condval -= Number(normalQtt);\n      }\n  \n      product.quantityBruteCVA -= moinslitre + qttlitre;\n    }\n    if (qttlitre > 0 && qtt > 0 && qttcc > 0) {\n      let moins = 0,\n        moinslitre = 0,\n        restelitre = 0,\n        reste = 0;\n      if (Number(qttcc) > Number(condml)) {\n        moins = Math.floor(Number(qttcc) / Number(condml));\n        reste = Number(qttcc) - Number(condml) * moins;\n        if (normalQttCC - reste < 0) {\n          let diffcc = Number(reste) - Number(normalQttCC);\n          product.quantityCCCVA = Number(condml) - Number(diffcc);\n          moins += 1;\n        } else {\n          product.quantityCCCVA = normalQttCC - reste;\n        }\n      } else {\n        product.quantityCCCVA -= Number(normalQttCC);\n      }\n      let mns = Number(moins) + Number(qtt);\n      if (mns > Number(condsize)) {\n        moinslitre = Math.floor(mns / Number(condsize));\n        restelitre = mns - Number(condsize) * moinslitre;\n        if (normalQtt - restelitre < 0) {\n          let diff = Number(restelitre) - Number(normalQtt);\n          product.condval = Number(condsize) - Number(diff);\n          moinslitre += 1;\n        } else {\n          product.condval = normalQtt - reste;\n        }\n      } else {\n        product.condval -= Number(normalQtt);\n      }\n      product.quantityBruteCVA -= moinslitre + qttlitre;\n    }\n  } else {\n    let qtt = product.quantityParProduct;\n    let qttcc = product.qttByCC;\n    let normalQtt = product.quantityBruteCVA;\n    let normalQttCC = product.quantityCCCVA;\n    let dose = product.doseDefault;\n    isSpecific = false;\n    let isValid = true;\n    if (qtt == 0 && qttcc > 0) {\n      let moins = 0;\n  \n      if (Number(qttcc) > Number(dose)) {\n        moins = Math.floor(Number(qttcc) / Number(dose));\n        reste = Number(qttcc) - Number(dose) * moins;\n        if (normalQttCC - reste < 0) {\n          let diff = Number(reste) - Number(normalQttCC);\n          product.quantityCCCVA = Number(dose) - Number(diff);\n          moins += 1;\n        } else {\n          product.quantityCCCVA = Number(normalQttCC) - reste;\n        }\n      } else {\n        product.quantityCCCVA -= Number(normalQttCC);\n      }\n      product.quantityBruteCVA -= moins;\n    }\n    if (qtt > 0 && qttcc == 0) {\n      product.quantityBruteCVA -= qtt;\n    }\n    if (qtt > 0 && qttcc > 0) {\n      let moins,\n        reste = 0;\n      if (Number(qttcc) > Number(dose)) {\n        moins = Math.floor(Number(qttcc) / Number(dose));\n        reste = Number(qttcc) - Number(dose) * moins;\n        if (normalQttCC - reste < 0) {\n          let diff = Number(reste) - Number(normalQttCC);\n          product.quantityCCCVA = Number(dose) - Number(diff);\n          moins += 1;\n        } else {\n          product.quantityCCCVA = Number(normalQttCC) - reste;\n        }\n      } else {\n        product.quantityCCCVA -= Number(normalQttCC);\n      }\n      product.quantityBruteCVA -= Number(moins) + Number(qtt);\n    }\n  }\n};\n  ","import React, { useEffect, useRef, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\nimport { NumberToLetter } from \"convertir-nombre-lettre\";\n//import useModal from '../../hooks/useModal';\nimport { Card } from \"react-bootstrap\";\nimport { action, getData } from \"../../../utils/lib/call\";\nimport NumberFormat from \"react-number-format\";\nimport { clearApprov } from \"../../../store/approvis/actions/approvis\";\nimport ApprovisionnementItem from \"./ApprovisionnementItem\";\nimport { omit } from \"../../../utils/functions\";\nimport { LISTAPPROV } from \"../../../constants/routes\";\nimport { handleSoldProduct } from \"../../../store/functions/function\";\nimport useApprov from \"../../../hooks/useApprov\";\nconst calculateTotal = (arr) => {\n  if (!arr || arr?.length === 0) return 0;\n\n  const total = arr.reduce((acc, val) => acc + val, 0);\n\n  return total;\n};\n\nfunction copy(object) {\n  var output, value, key;\n  output = Array.isArray(object) ? [] : {};\n  for (key in object) {\n    value = object[key];\n    output[key] = typeof value === \"object\" ? copy(value) : value;\n  }\n  return output;\n}\nconst calculeTotalAvecRemise = (arr, remise) => {\n  return calculateTotal(arr) - remise;\n};\n\nconst Approvisionnement = ({ setRegenerate }) => {\n  const [remise, setRemise] = useState(0);\n  const [dateEcheance, setDateEcheance] = useState(new Date());\n  const [dateApprovis, setDateApprovis] = useState(null);\n  const [remarque, setRemarque] = useState(\"\");\n  const [typePaye, setTypePaye] = useState(\"espece\");\n  const meta = useSelector(getData(\"approvis\").meta);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  useEffect(() => {\n    dispatch(action(\"approvis\").fetch());\n  }, []);\n  const { approvisionnements } = useSelector((state) => ({\n    approvisionnements: state.approvisionnements,\n  }));\n  const { isItemOnApprov, addToApprov } = useApprov(\n    approvisionnements,\n    dispatch\n  );\n  const getContenu = (approvis) => {\n    return copy(approvis).map((element) => {\n      element.quantityBrute += element.quantityParProduct;\n      return element;\n    });\n  };\n\n  const onCheckOut = () => {\n    dispatch(\n      action(\"approvis\").createTransaction(\n        {\n          id: Number(meta.nextId),\n          contenu: getContenu(approvisionnements),\n          totalht: calculateTotal(\n            approvisionnements.map(\n              (product) =>\n                product.prixFournisseur * product.quantityParProduct -\n                product.remise\n            )\n          ),\n          remise: remise,\n          total: calculeTotalAvecRemise(\n            approvisionnements.map(\n              (product) =>\n                product.prixFournisseur * product.quantityParProduct -\n                product.remise\n            ),\n            remise\n          ),\n          dateApprov: dateApprovis == null ? new Date() : dateApprovis,\n          dateEcheance: dateEcheance,\n          remarque: remarque,\n          typePaye: typePaye,\n          approvisionnements: approvisionnements,\n        },\n        \"create-facture\"\n      )\n    );\n    {\n    approvisionnements.forEach((element) => {\n      dispatch(\n        action(\"products\").update({\n          ...element,\n          quantityBrute: element.quantityBrute + element.quantityParProduct,\n          quantityParProduct: 0,\n        })\n      );\n    })\n    }\n    dispatch(clearApprov());\n    //setRegenerate(true);\n    history.push(LISTAPPROV);\n    console.log(approvisionnements);\n  };\n\n  const onClearApprov = () => {\n    if (approvisionnements.length !== 0) {\n      dispatch(clearApprov());\n    }\n  };\n\n  return (\n    <>\n      <Card>\n        <Card.Header className=\"d-flex justify-content-between align-items-center bg-dark text-white\">\n          <div>\n            Factures (\n            {` ${approvisionnements.length} ${\n              approvisionnements.length > 1 ? \"produits\" : \"produit\"\n            }`}\n            )\n          </div>\n        </Card.Header>\n        <Card.Body>\n          <div class=\"form-group\">\n            <label>Date du facture :</label>\n            <div>\n              <input\n                type=\"date\"\n                onChange={(e) => setDateApprovis(e.target.value)}\n                value={dateApprovis}\n                className=\"form-control\"\n              />\n            </div>\n          </div>\n          {approvisionnements.length <= 0 && (\n            <div class=\"alert alert-success \">Aucune produit !!!</div>\n          )}\n\n          {approvisionnements?.map((product, i) => (\n            <ApprovisionnementItem\n              key={`${product?.id}_${i}`}\n              product={product}\n              isItemOnApprov={isItemOnApprov}\n              addToApprov={addToApprov}\n              approvisionnement={approvisionnements}\n              dispatch={dispatch}\n            />\n          ))}\n          {approvisionnements.length > 0 && (\n            <>\n              <div className=\"d-flex justify-content-end align-items-center my-3 \">\n                <table>\n                  <tr>\n                    <td>REMISE : (en Ariary)</td>\n                    <td>\n                      <input\n                        type=\"number\"\n                        className=\"form-control\"\n                        placeholder=\"Remise\"\n                        min={0}\n                        value={remise}\n                        max={100}\n                        onChange={(e) => {\n                          setRemise(e.target.value);\n                        }}\n                      />\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>PAIEMENT LE :</td>\n                    <td>\n                      <input\n                        type=\"date\"\n                        onChange={(e) => setDateEcheance(e.target.value)}\n                        value={dateEcheance}\n                        className=\"form-control\"\n                      />\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>TYPE DE PAIEMENT:</td>\n                    <td>\n                      <select\n                        className=\"form-control\"\n                        onChange={(e) => {\n                          setTypePaye(e.target.value);\n                        }}\n                      >\n                        <option value=\"espece\" selected>\n                          ESPECE\n                        </option>\n                        <option value=\"boa\">CHEQUE - BOA</option>\n                        <option value=\"bni\">CHEQUE - BNI</option>\n                        <option value=\"MVola\">VIREMENT - MVola</option>\n                        <option value=\"OrangeMoney\">\n                          VIREMENT - ORANGE MONEY\n                        </option>\n                      </select>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>REMARQUE :</td>\n                    <td>\n                      <textarea\n                        className=\"form-control\"\n                        onChange={(e) => {\n                          setRemarque(e.target.value);\n                        }}\n                        placeholder=\"Ecriver ici quelque chose d'autre  savoir sur l'approvisionnement\"\n                      ></textarea>\n                    </td>\n                  </tr>\n                </table>\n              </div>\n              <div className=\"d-flex flex-column  my-3 \">\n                {\" \"}\n                <p className=\"approvisionnement-total-amount\">\n                  Total HT:\n                  <strong>\n                    <NumberFormat\n                      value={calculateTotal(\n                        approvisionnements.map(\n                          (product) =>\n                            product.prixFournisseur * product.quantityParProduct\n                        )\n                      )}\n                      displayType={\"text\"}\n                      thousandSeparator={true}\n                      suffix={\"Ar\"}\n                      renderText={(value, props) => (\n                        <div {...props}>{value}</div>\n                      )}\n                    />\n                  </strong>\n                </p>\n                <p className=\"approvisionnement-total-amount\">\n                  Remise:\n                  <strong>\n                    <NumberFormat\n                      value={calculateTotal(\n                        approvisionnements.map(\n                          (product) =>\n                            product.prixFournisseur * product.quantityParProduct - product.remise\n                        ),\n                        remise\n                      )}\n                      displayType={\"text\"}\n                      thousandSeparator={true}\n                      suffix={\"Ar\"}\n                      renderText={(value, props) => (\n                        <div {...props}>{value}</div>\n                      )}\n                    />\n                  </strong>\n                </p>\n                <p className=\"approvisionnement-total-amount\">\n                  Total avec remise :\n                  <strong>\n                    <NumberFormat\n                      value={calculeTotalAvecRemise(\n                        approvisionnements.map(\n                          (product) =>\n                            product.prixFournisseur * product.quantityParProduct\n                        ),\n                        remise\n                      )}\n                      displayType={\"text\"}\n                      thousandSeparator={true}\n                      suffix={\"Ar\"}\n                      renderText={(value, props) => (\n                        <div {...props}>{value}</div>\n                      )}\n                    />\n                  </strong>\n                </p>\n                <p>Arrt  la somme de </p>\n                <p className=\"text-uppercase\">\n                  <strong>\n                    {NumberToLetter(\n                      calculeTotalAvecRemise(\n                        approvisionnements.map(\n                          (product) =>\n                            product.prixFournisseur * product.quantityParProduct\n                        ),\n                        remise\n                      )\n                    )}{\" \"}\n                    ARIARY\n                  </strong>\n                </p>\n              </div>\n              <div className=\"d-flex justify-content-end\">\n                <button\n                  className=\"btn btn-green btn-sm mr-2\"\n                  disabled={approvisionnements.length === 0}\n                  onClick={onCheckOut}\n                  type=\"button\"\n                >\n                  Valider l'operation\n                </button>\n                <button\n                  className=\"btn btn-danger btn-sm\"\n                  onClick={onClearApprov}\n                  type=\"button\"\n                >\n                  <span>Annuler</span>\n                </button>\n              </div>\n            </>\n          )}\n        </Card.Body>\n        {approvisionnements.length > 0 && (\n          <Card.Footer className=\"d-flex flex-column\"></Card.Footer>\n        )}\n      </Card>\n    </>\n  );\n};\n\nexport default Approvisionnement;\n","function strOp(str) {\n  return str.toString().replace(/\\s/g, \"\").toLowerCase();\n}\nfunction copy(object) {\n  var output, value, key;\n  output = Array.isArray(object) ? [] : {};\n  for (key in object) {\n    value = object[key];\n    output[key] = typeof value === \"object\" ? copy(value) : value;\n  }\n  return output;\n}\nconst searchByFournisseur = (data, query) => {\n  return copy(data).filter((el) => {\n    return query !=\"\" ? el.fournisseurId == query : true;\n  });\n};\nexport default searchByFournisseur;\n","function strOp(str) {\n  return str.toString().replace(/\\s/g, \"\").toLowerCase();\n}\nfunction copy(object) {\n  var output, value, key;\n  output = Array.isArray(object) ? [] : {};\n  for (key in object) {\n    value = object[key];\n    output[key] = typeof value === \"object\" ? copy(value) : value;\n  }\n  return output;\n}\nconst searchByNameAndFournisseur = (data, query, id) => {\n  return copy(data).filter((el) => {\n    return (\n      (query != \"\" ? strOp(el.name).includes(strOp(query)) : true) &&\n      (id != \"\" ? el.fournisseurId == id : true)\n    );\n  });\n};\nexport default searchByNameAndFournisseur;\n","import React from \"react\";\nimport { action, getData } from \"../utils/lib/call\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport ProductItemApprov from \"./composants/Approvis/ProductItemApprov\";\nimport { reactFastCompare } from \"react-fast-compare\";\nimport searchByName from \"../filters/searchByName\";\nimport debouce from \"lodash.debounce\";\nimport useApprov from '../hooks/useApprov';\n\nconst FactureProduct = () => {\n  const approvisionnements = useSelector((state) => state.approvisionnements);\n  const products = useSelector(getData(\"products\").value);\n  const meta = useSelector(getData(\"products\").meta);\n  const dispatch = useDispatch();\n  const { isItemOnApprov, addToApprov } = useApprov(\n    approvisionnements,\n    dispatch\n  );\n  const [productData, setProductData] = React.useState([]);\n  const [regenerate, setRegenerate] = React.useState(false);\n  React.useEffect(() => {\n    if (regenerate == true) {\n      dispatch(action(\"products\").fetch());\n      setRegenerate(false);\n    }\n    return () => {\n      setRegenerate(false);\n    };\n  }, [regenerate]);\n\n  React.useEffect(() => {\n    dispatch(action(\"products\").fetch());\n  }, []);\n  React.useEffect(() => {\n    if (!meta.isFetching) {\n      setProductData(products);\n    }\n  }, [meta]);\n  const handleAddToApprov = React.useCallback((product) => {\n    if (addToApprov) addToApprov(product);\n  }, [addToApprov]);\n  const renderProduct = React.useMemo(\n    () => productData.map((p) => <ProductItemApprov key={p.id} product={p} isItemOnApprov={isItemOnApprov} handleAddToApprov={handleAddToApprov} />),\n    [productData]\n  );\n  const handleChange = (e) => {\n    if (e.target != null) {\n      setProductData(searchByName(products, e.target.value));\n    }\n  };\n  const debouncedResults = React.useMemo(() => {\n    return debouce(handleChange, 300);\n  }, [handleChange]);\n\n  return (\n    <div>\n      <input\n        type=\"text\"\n        onKeyDown={(e) => {\n          if (e.keyCode == 13) {\n            handleChange(e);\n          }\n        }}\n        placeholder=\"Taper sur entrer pour valider votre recherche\"\n        className=\"form-control mb-2\"\n      />\n      <div\n        style={{\n          overflowY: \"auto\",\n          height: \"350px\",\n          maxHeight: \"350px\",\n          overflowX: \"hidden\",\n        }}\n      >\n        <>\n          {renderProduct}\n          {productData.length == 0 && \"Aucun produit trouv\"}\n        </>{\" \"}\n      </div>\n    </div>\n  );\n};\nexport default React.memo(FactureProduct, reactFastCompare);\n","import React, { useEffect, useState,useRef, useCallback } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Container, Row, Col, ListGroup, Card } from \"react-bootstrap\";\nimport Content from \"../@adminlte/adminlte/Content\";\nimport ActiveLink from \"../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../@adminlte/adminlte/Content/Page\";\nimport ProductItemApprov from \"../components/composants/Approvis/ProductItemApprov\";\nimport { action, getData } from \"../utils/lib/call\";\nimport Approvisionnement from \"./composants/Approvis/Approvisionnement\";\nimport { Data, GetAll } from \"../context\";\nimport { fetchProductsByFournisseur } from \"../store/actions/products\";\nimport searchByName from \"../filters/searchByName\";\nimport searchByFournisseur from \"../filters/searchByFournisseur\";\nimport searchByNameAndFournisseur from \"../filters/searchByNameAndFournisseur\";\nimport { debounce } from \"lodash\";\nimport FactureProduct from './FactureProduct';\nconst request = debounce((value) => {\n  console.log(`request: ${value}`);\n}, 1000);\nconst useShadowState = (init) => {\n  const [state, setState] = useState(init);\n  const shadow = useRef(state);\n  const setShadowAndState = useCallback((nextVal) => {\n    if (typeof nextVal === \"function\") {\n      setState((s) => {\n        shadow.current = nextVal(s);\n        return shadow.current;\n      });\n    } else {\n      shadow.current = nextVal;\n      setState(nextVal);\n    }\n  }, []);\n  return [state, setShadowAndState, shadow];\n};\nconst NouvelleFacture = () => {\n \n  {\n    /**useEffect(() => {\n    if (value != \"\") {\n      dispatch(\n        action(\"products\").fetch(\n          { replace: true },\n          {\n            filter: parameterizeObjectQuery(\"q\", value),\n          }\n        )\n      );\n    }\n  }, [value]);*/\n  }\n  {\n    /** useEffect(() => {\n    //recuperer la premiere ligne dans le tableau fournisseur\n    dispatch(fetchProductsByFournisseur(id));\n  }, [id]); */\n  }\n  return (\n    <Content>\n      <ContentHeader title=\"Nouvelle facture\">\n        <ActiveLink title=\"Nouvelle Facture\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n        <Container>\n          <Row>\n            <Col xs={5}>\n              <ListGroup>\n                <Card>\n                  <Card.Header className=\"d-flex justify-content-between align-items-center bg-dark text-white\">\n                    Produits\n                  </Card.Header>\n                  <Card.Body>\n                    <FactureProduct/>\n                  </Card.Body>\n                </Card>\n              </ListGroup>\n            </Col>\n            <Col xs={7}>\n              <Approvisionnement setRegenerate={[]} />\n            </Col>\n          </Row>\n        </Container>\n      </Page>\n    </Content>\n  );\n};\n\nexport default React.memo(NouvelleFacture);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport DataTable from \"../../../utils/admin/DataTable\";\nimport { action, getData } from \"../../../utils/lib/call\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Content from \"../../../@adminlte/adminlte/Content\";\nimport ContentHeader from \"../../../@adminlte/adminlte/Content/ContentHeader\";\nimport ActiveLink from \"../../../@adminlte/adminlte/Content/ActiveLink\";\nimport Page from \"../../../@adminlte/adminlte/Content/Page\";\nimport { ADD_CATEGORIES } from '../../../constants/routes';\nimport { CrudAction } from \"../../../utils/admin/Resource/CrudAction\";\nimport { SCOPES } from \"../../../constants/permissions\";\n\nfunction Categories() {\n  const categories = useSelector(getData(\"categories\").value);\n  const meta = useSelector(getData(\"categories\").meta);\n  const dispatch = useDispatch();\n  React.useEffect(() => {\n    dispatch(action(\"categories\").fetch());\n  }, []);\n\n  const columns = [\n    {\n      Header: \"Nom\",\n      accessor: \"name\",\n    },      {\n      Header: \"Actions\",\n      Cell: (data) => {\n        return (\n          \n          <CrudAction\n            edit={[SCOPES.canEditCategory]}\n            detail={[SCOPES.canViewCategory]}\n            remove={[SCOPES.canDeleteCategory]}\n            route={\"categories\"}\n            model={\"categories\"}\n            modelKey={\"name\"}\n            data={data}\n          />\n        );\n      }}\n  \n  ];\n\n  return (\n    <Content>\n      <ContentHeader title=\"Categories\">\n        <ActiveLink title=\"Categories\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n        <DataTable\n          scopes={[SCOPES.canCreateCategory]}\n          data={categories.sort((low, high) => high.id - low.id)}\n          meta={meta}\n          columns={columns}\n          addUrl={ADD_CATEGORIES}\n          urlName={\"Ajouter une categorie\"}\n        />\n      </Page>\n    </Content>\n  );\n}\n\nexport default Categories;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport DataTable from \"../../../utils/admin/DataTable\";\nimport { action, getData } from \"../../../utils/lib/call\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Content from \"../../../@adminlte/adminlte/Content\";\nimport ContentHeader from \"../../../@adminlte/adminlte/Content/ContentHeader\";\nimport ActiveLink from \"../../../@adminlte/adminlte/Content/ActiveLink\";\nimport Page from \"../../../@adminlte/adminlte/Content/Page\";\nimport { ADD_FOURNISSEUR } from '../../../constants/routes';\nimport { CrudAction } from \"../../../utils/admin/Resource/CrudAction\";\nimport { SCOPES } from \"../../../constants/permissions\";\nfunction Fournisseurs() {\n  const fournisseurs = useSelector(getData(\"fournisseurs\").value);\n  const meta = useSelector(getData(\"fournisseurs\").meta);\n  const dispatch = useDispatch();\n  React.useEffect(() => {\n    dispatch(action(\"fournisseurs\").fetch());\n  }, []);\n\n  const columns = [\n    {\n      Header: \"Nom\",\n      accessor: \"name\",\n    }, {\n      Header: \"Actions\",\n      Cell: (data) => {\n        return (\n\n          <CrudAction\n            edit={[SCOPES.canEditFournisseurs]}\n            detail={[SCOPES.canViewFournisseurs]}\n            remove={[SCOPES.canDeleteFournisseurs]}\n            route={\"fournisseurs\"}\n            model={\"fournisseurs\"}\n            modelKey={\"name\"}\n            data={data}\n          />\n        );\n      }\n    }\n\n  ];\n\n  return (\n    <Content>\n      <ContentHeader title=\"Fournisseurs\">\n        <ActiveLink title=\"Fournisseurs\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n        <DataTable\n          scopes={[SCOPES.canCreateFournisseurs]}\n          data={fournisseurs.sort((low, high) => high.id - low.id)}\n          meta={meta}\n          columns={columns}\n          addUrl={ADD_FOURNISSEUR}\n          urlName={\"Ajouter un fournisseur\"}\n        />\n      </Page>\n    </Content>\n  );\n}\n\nFournisseurs.propTypes = {};\n\nexport default Fournisseurs;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport DataTable from \"../../../utils/admin/DataTable\";\nimport { action, getData } from \"../../../utils/lib/call\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Content from \"../../../@adminlte/adminlte/Content\";\nimport ContentHeader from \"../../../@adminlte/adminlte/Content/ContentHeader\";\nimport ActiveLink from \"../../../@adminlte/adminlte/Content/ActiveLink\";\nimport Page from \"../../../@adminlte/adminlte/Content/Page\";\nimport { ADD_VACCINATEUR } from \"../../../constants/routes\";\nimport { CrudAction } from \"../../../utils/admin/Resource/CrudAction\";\nimport { SCOPES } from \"../../../constants/permissions\";\n\nfunction Vaccinateurs() {\n  const vaccinateurs = useSelector(getData(\"vaccinateurs\").value);\n  const meta = useSelector(getData(\"vaccinateurs\").meta);\n  const dispatch = useDispatch();\n  React.useEffect(() => {\n    dispatch(action(\"vaccinateurs\").fetch());\n  }, []);\n\n  const columns = [\n    {\n      Header: \"Nom\",\n      accessor: \"name\",\n    },\n    {\n      Header: \"Tlphone\",\n      accessor: \"contact\",\n    },\n    {\n      Header: \"Actions\",\n      Cell: (data) => {\n        return (\n          <CrudAction\n            edit={[SCOPES.canEditVaccinateur]}\n            detail={[SCOPES.canViewVaccinateur]}\n            remove={[SCOPES.canDeleteVaccinateur]}\n            route={\"vaccinateurs\"}\n            model={\"vaccinateurs\"}\n            modelKey={\"name\"}\n            data={data}\n          />\n        );\n      },\n    },\n  ];\n\n  return (\n    <Content>\n      <ContentHeader title=\"Vaccinateurs\">\n        <ActiveLink title=\"Vaccinateurs\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n        <DataTable\n          scopes={[SCOPES.canCreateVaccinateur]}\n          data={vaccinateurs.sort((low, high) => high.id - low.id)}\n          meta={meta}\n          columns={columns}\n          addUrl={ADD_VACCINATEUR}\n          urlName={\"Ajouter un vaccinateur\"}\n        />\n      </Page>\n    </Content>\n  );\n}\n\nexport default Vaccinateurs;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport DataTable from \"../../../utils/admin/DataTable\";\nimport { action, getData } from \"../../../utils/lib/call\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Content from \"../../../@adminlte/adminlte/Content\";\nimport ContentHeader from \"../../../@adminlte/adminlte/Content/ContentHeader\";\nimport ActiveLink from \"../../../@adminlte/adminlte/Content/ActiveLink\";\nimport Page from \"../../../@adminlte/adminlte/Content/Page\";\nimport { ADD_EMPRUNTEUR, ADD_VACCINATEUR } from \"../../../constants/routes\";\nimport { CrudAction } from \"../../../utils/admin/Resource/CrudAction\";\nimport { SCOPES } from \"../../../constants/permissions\";\nfunction Emprunters() {\n  const emprunteurs = useSelector(getData(\"emprunters\").value);\n  const meta = useSelector(getData(\"emprunters\").meta);\n  const dispatch = useDispatch();\n  React.useEffect(() => {\n    dispatch(action(\"emprunters\").fetch());\n  }, []);\n\n  const columns = [\n    {\n      Header: \"Nom\",\n      accessor: \"name\",\n    },{\n      Header: \"Tlphone\",\n      accessor: \"contact\",\n    },\n    {\n      Header: \"Actions\",\n      Cell: (data) => {\n        return (\n          <CrudAction\n            edit={[SCOPES.canEditEmprunter]}\n            detail={[SCOPES.canViewEmprunter]}\n            remove={[SCOPES.canDeleteEmprunter]}\n            route={\"emprunters\"}\n            model={\"emprunters\"}\n            modelKey={\"name\"}\n            data={data}\n          />\n        );\n      },\n    },\n  ];\n\n  return (\n    <Content>\n      <ContentHeader title=\"Dmandeurs de crdit\">\n        <ActiveLink title=\"Dmandeurs de crdit\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n        <DataTable\n          scopes={[SCOPES.canCreateEmprunter]}\n          data={emprunteurs.sort((low, high) => high.id - low.id)}\n          meta={meta}\n          columns={columns}\n          addUrl={ADD_EMPRUNTEUR}\n          urlName={\"Ajouter une personne\"}\n        />\n      </Page>\n    </Content>\n  );\n}\n\nexport default Emprunters;\n","import React, { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Tab, Row, Col, Nav } from \"react-bootstrap\";\nimport Categories from \"./parametres/category/Categories\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { action, getData } from \"../utils/lib/call\";\nimport Fournisseurs from \"./parametres/fournisseurs/Fournisseurs\";\nimport Vaccinateurs from \"./parametres/vaccinateur/Vaccinateurs\";\nimport Emprunters from \"./parametres/emprunter/Emprunters\";\nimport ParametrageSuppl from \"./composants/ParametrageSuppl\";\nimport ApprovItem from \"../components/ApprovItem\";import Content from \"../@adminlte/adminlte/Content\";\nimport ActiveLink from \"../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../@adminlte/adminlte/Content/Page\";\nfunction Parametres(props) {\n  const dispatch = useDispatch();\n  const categories = useSelector(getData(\"categories\").value);\n  const fournisseurs = useSelector(getData(\"fournisseurs\").value);\n  const vaccinateurs = useSelector(getData(\"vaccinateurs\").value);\n  const emprunters = useSelector(getData(\"emprunters\").value);\n  const categoriesMeta = useSelector(getData(\"categories\").meta);\n  const fournisseursMeta = useSelector(getData(\"fournisseurs\").meta);\n  const vaccinateursMeta = useSelector(getData(\"vaccinateurs\").meta);\n  const empruntersMeta = useSelector(getData(\"emprunters\").meta);\n\n  useEffect(() => {\n    dispatch(action(\"fournisseurs\").fetch());\n    dispatch(action(\"categories\").fetch());\n    dispatch(action(\"vaccinateurs\").fetch());\n    dispatch(action(\"emprunters\").fetch());\n  }, []);\n  return (\n      <Content>\n      <ContentHeader title=\"Parametres gnrales\">\n        <ActiveLink title=\"Parametres gnrales\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n      <Tab.Container id=\"left-tabs-example\" defaultActiveKey=\"first\">\n        <Row>\n         \n            <Nav variant=\"pills\" className=\"flex-row justify-content-center\">\n              <Nav.Item className=\"border ml-2\">\n                <Nav.Link eventKey=\"first\" className=\"py-2 px-3 text-uppercase bg-white\" >Categories de produits</Nav.Link>\n              </Nav.Item>\n              <Nav.Item className=\"border  ml-2\">\n                <Nav.Link eventKey=\"second\"  className=\"py-2 px-3 text-uppercase  bg-white\">Fournisseurs</Nav.Link>\n              </Nav.Item>\n              <Nav.Item className=\"border  ml-2\">\n                <Nav.Link eventKey=\"three\"  className=\"py-2 px-3 text-uppercase  bg-white\">Vaccinateurs</Nav.Link>\n              </Nav.Item>\n              <Nav.Item className=\"border  ml-2\">\n                <Nav.Link eventKey=\"four\"  className=\"py-2 px-3 text-uppercase  bg-white\">Demandeur de credit</Nav.Link>\n              </Nav.Item>\n            \n              \n            </Nav>\n          <Col sm={12}>\n            <Tab.Content>\n              <Tab.Pane eventKey=\"first\">\n                <Categories categories={categories}  meta={categoriesMeta} />\n              </Tab.Pane>\n              <Tab.Pane eventKey=\"second\">\n                <Fournisseurs fournisseurs={fournisseurs} meta={fournisseursMeta} />\n              </Tab.Pane>\n              <Tab.Pane eventKey=\"three\">\n                <Vaccinateurs vaccinateurs={vaccinateurs} meta={vaccinateursMeta}  />\n              </Tab.Pane>\n              <Tab.Pane eventKey=\"four\">\n                <Emprunters emprunters={emprunters} meta={empruntersMeta}  />\n              </Tab.Pane>\n            </Tab.Content>\n          </Col>\n        </Row>\n      </Tab.Container>\n      </Page>\n    </Content>\n  );\n}\n\nParametres.propTypes = {};\n\nexport default Parametres;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { getEntree, getSortie } from \"../store/actions/commandes\";\nimport { action, getData } from \"../utils/lib/call\";\nimport DateRangePicker from \"@wojtekmaj/react-daterange-picker\";\n\nimport Content from \"../@adminlte/adminlte/Content\";\nimport ActiveLink from \"../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../@adminlte/adminlte/Content/Page\";\nimport NumberFormat from \"react-number-format\";\nimport moment from \"moment\";\nimport { displayDate, displayMoney } from \"../utils/functions\";\nimport DataTable from \"../utils/admin/DataTable\";\nimport DeleteFromDepot from \"./fromDepot/DeleteFromDepot\";\nimport Gate from \"./Gate\";\nimport { SCOPES } from \"../constants/permissions\";\nfunction Sortie() {\n  var start = moment().isoWeekday(1).startOf(\"week\");\n  var end = moment().endOf(\"week\");\n  const [deb, setDeb] = useState(start);\n  const [fin, setFin] = useState(end);\n  const [dateRange, onChangeDateRange] = useState([start, end]);\n  useEffect(() => {\n    if (dateRange !== null) {\n      if (dateRange[0]) {\n        setDeb(dateRange[0]);\n      }\n      if (dateRange[1]) {\n        setFin(dateRange[1]);\n      }\n    } else {\n      setDeb(start);\n      setFin(end);\n    }\n  }, [dateRange]);\n\n  const calculateTotal = (arr) => {\n    if (!arr || arr?.length === 0) return 0;\n    let total = 0;\n    arr.forEach((el) => {\n      total += el.prixVente * el.quantityParProductDepot;\n    });\n    return total;\n  };\n  const quantiteBruteTotal = (arr) => {\n    if (!arr || arr?.length === 0) return 0;\n    let total = 0;\n    arr.forEach((el) => {\n      total += el.quantityParProductDepot * 1;\n    });\n    return total;\n  };\n  const quantiteCCTotal = (arr) => {\n    if (!arr || arr?.length === 0) return 0;\n    let total = 0;\n    arr.forEach((el) => {\n      total += el.qttByCCDepot * 1;\n    });\n    return total;\n  };\n\n  const commandes = useSelector(getData(\"commandes\").value);\n  const meta = useSelector(getData(\"commandes\").meta);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getSortie(deb, fin));\n  }, [deb, fin]);\n  const columns = React.useMemo(\n    () => [\n      {\n        Header: \"Date de commande\",\n        Cell: (data) => {\n          return <>{displayDate(data.row.original?.dateCom)}</>;\n        },\n      },\n      {\n        Header: \"Produits\",\n        Cell: (data) => {\n          return (\n            <div style={{ width: \"350px\" }}>\n              {data.row.original?.isdeleted == true && (\n                <>\n                  <div className=\"badge badge-danger\">Supprim</div>\n                  <div className=\"text text-danger\">\n                    Date de suppression :{\" \"}\n                    {displayDate(data.row.original?.deletedat)}\n                  </div>\n                </>\n              )}\n              {data.row.original?.contenu?.map((d) => (\n                <span>\n                  <span\n                    style={{\n                      background: \"white\",\n                      color:\n                        data.row.original?.isdeleted == true\n                          ? \"red\"\n                          : \"inherit\",\n                      padding: 2,\n                    }}\n                  >\n                    {d.name}\n                  </span>\n                  <span\n                    style={{\n                      color:\n                        data.row.original?.isdeleted == true\n                          ? \"red\"\n                          : \"inherit\",\n                    }}\n                  >\n                    {\" \"}\n                    {\" || \"}\n                  </span>\n                </span>\n              ))}\n            </div>\n          );\n        },\n      },\n      {\n        Header: \"Quantit\",\n        Cell: (data) => {\n          return <div>{quantiteBruteTotal(data.row.original?.contenu)}</div>;\n        },\n      },\n      {\n        Header: \"Total\",\n        Cell: (data) => {\n          return (\n            <div>\n              {displayMoney(calculateTotal(data.row.original?.contenu))}\n            </div>\n          );\n        },\n      },\n      {\n        Header: \"Actions\",\n        Cell: (data) => {\n          const isDisabled =\n            data.row.original?.isdeleted == true ? true : false;\n          return !isDisabled ? (\n            <>\n              <Gate scopes={[SCOPES.canShowDeleteHistoricDeSortieDepot]}>\n                <Link\n                  to={`/depot/detail/${data.row.original?.id}`}\n                  className=\"btn btn-green btn-sm mr-2\"\n                >\n                  Dtails\n                </Link>\n              </Gate>\n              <Gate scopes={[SCOPES.canShowEditHistoricDeSortieDepot]}>\n                <Link\n                  to={`/editer/commande/${data.row.original?.id}`}\n                  className=\"btn btn-warning btn-sm mr-2\"\n                >\n                  Editer\n                </Link>\n              </Gate>\n              <Gate scopes={[SCOPES.canShowDeleteHistoricDeSortieDepot]}>\n                <DeleteFromDepot\n                  model=\"fromdepots\"\n                  entity={data.row.original}\n                />\n              </Gate>\n            </>\n          ) : null;\n        },\n      },\n    ],\n    []\n  );\n\n  return (\n    <Content>\n      <ContentHeader title=\"Historique de sortie\">\n        <ActiveLink title=\"Historique de sortie\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n        {\" \"}\n        <div className=\"row\">\n          <div className=\"col-lg-6\">\n            <div>\n              <h3 className=\"text-uppercase\">Historique de sortie</h3>\n              <p>{`${displayDate(deb)} ->  ${displayDate(fin)}`}</p>\n            </div>\n          </div>\n          <div className=\"col-lg-6 text-right\">\n            <DateRangePicker\n              locale=\"fr-FR\"\n              onChange={onChangeDateRange}\n              value={dateRange}\n            />\n          </div>{\" \"}\n        </div>\n        <DataTable\n          filter={false}\n          data={commandes.sort((low, high) => high.id - low.id)}\n          meta={meta}\n          columns={columns}\n          //  addUrl={NOUVELLEFACTURE}\n          //  urlName={\"Ajouter un facture\"}\n        />\n      </Page>\n    </Content>\n  );\n}\n\nexport default Sortie;\n","import React from \"react\";\nimport { Box } from \"@chakra-ui/layout\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { action, getData } from \"../lib/call\";\nimport { useParams } from \"react-router\";\nconst GetDataContext = React.createContext();\n\nfunction GetOne({ model, children }) {\n  const { id } = useParams();\n  const [regenerate, setRegenerate] = React.useState(true);\n  const data = useSelector(getData(model).value);\n  const meta = useSelector(getData(model).meta);\n  const dispatch = useDispatch();\n  React.useEffect(() => {\n    dispatch(action(model).get(id));\n  }, [id]);\n  React.useEffect(() => {\n    if (regenerate == true) {\n      dispatch(action(model).get(id));\n      setRegenerate(false);\n    }\n    return () => {\n      setRegenerate(false);\n    };\n  }, [regenerate]);\n  const value = { data: data[0], meta, setRegenerate };\n  return (\n    <GetDataContext.Provider value={value}>{children}</GetDataContext.Provider>\n  );\n}\n\nfunction GetOneById({ model, id, children }) {\n  const [regenerate, setRegenerate] = React.useState(false);\n  const data = useSelector(getData(model).value);\n  const meta = useSelector(getData(model).meta);\n  const dispatch = useDispatch();\n  React.useEffect(() => {\n    dispatch(action(model).get(id));\n  }, [id]);\n  React.useEffect(() => {\n    if (regenerate == true) {\n      dispatch(action(model).get(id));\n      setRegenerate(false);\n    }\n    return () => {\n      setRegenerate(false);\n    };\n  }, [regenerate]);\n  const value = { data: data[0], meta, setRegenerate };\n  return (\n    <GetDataContext.Provider value={value}>{children}</GetDataContext.Provider>\n  );\n}\nfunction GetAll({ model, options, children }) {\n  const data = useSelector(getData(model).value);\n  const meta = useSelector(getData(model).meta);\n  const dispatch = useDispatch();\n  React.useEffect(() => {\n    dispatch(action(model).fetch(options));\n  }, [options]);\n  const value = { data, meta };\n  return (\n    <GetDataContext.Provider value={value}>{children}</GetDataContext.Provider>\n  );\n}\nfunction Data({ children }) {\n  return (\n    <GetDataContext.Consumer>\n      {(context) => {\n        if (context === undefined) {\n          throw new Error(\"Data  must be used within a GetDataContext\");\n        }\n        return children(context);\n      }}\n    </GetDataContext.Consumer>\n  );\n}\nfunction GetByAction({ model, operationClass, children }) {\n    const [regenerate, setRegenerate] = React.useState(false);\n    const data = useSelector(getData(model).value);\n    const meta = useSelector(getData(model).meta);\n    const dispatch = useDispatch();\n    React.useEffect(() => {\n      dispatch(operationClass());\n    }, []);\n    React.useEffect(() => {\n      if (regenerate === true) {\n        dispatch(operationClass());\n        setRegenerate(false);\n      }\n      return () => {\n        setRegenerate(false);\n      };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [regenerate]);\n    const value = { data: data[0], meta, setRegenerate };\n    return (\n      <GetDataContext.Provider value={value}>{children}</GetDataContext.Provider>\n    );\n  }\n\n\nexport { GetAll,GetOneById, GetOne, Data,GetByAction };\n","export const SET_FROM_DEPOT_ITEMS = 'SET_FROM_DEPOT_ITEMS';\nexport const ADD_FROM_DEPOT = 'ADD_FROM_DEPOT';\nexport const REMOVE_FROM_TO_DEPOT = 'REMOVE_FROM_TO_DEPOT';\nexport const CLEAR_FROM_DEPOT = 'CLEAR_FROM_DEPOT';\nexport const ADD_QTY_FROM_DEPOT_ITEM = 'ADD_QTY_FROM_DEPOT_ITEM';\nexport const MINUS_QTY_FROM_DEPOT_ITEM = 'MINUS_QTY_FROM_DEPOT_ITEM';\nexport const ADD_NUMBER_QTY_DEPOT_ITEM ='ADD_NUMBER_QTY_DEPOT_ITEM';\nexport const ADD_QTY_PORTION_FROM_DEPOT_ITEM = \"ADD_QTY_PORTION_FROM_DEPOT_ITEM\";\nexport const MINUS_QTY_PORTION_FROM_DEPOT_ITEM = \"MINUS_QTY_PORTION_FROM_DEPOT_ITEM\";\nexport const ADD_QTY_NUMBER_FROM_DEPOT_ITEM = \"ADD_QTY_NUMBER_FROM_DEPOT_ITEM\";\nexport const  MINUS_QTY_PORTION__DOSE_ITA_NEW_FROM_DEPOT_ITEM = \"MINUS_QTY_PORTION_DOSE_ITA_NEW_FROM_DEPOT_ITEM\";\nexport const ADD_QTY_PORTION_DOSE_UTA_NEW_FROM_DEPOT_ITEM = \"ADD_QTY_PORTION_DOSE_ITA_NEW_FROM_DEPOT_ITEM\";\nexport const ADD_QTY_PORTION_DOSE_SOVAX_FROM_DEPOT_ITEM = \"ADD_QTY_PORTION_DOSE_SOVAX_FROM_DEPOT_ITEM\";\nexport const MINUS_QTY_PORTION__DOSE_SOVAX_FROM_DEPOT_ITEM=\"MINUS_QTY_PORTION__DOSE_SOVAX_FROM_DEPOT_ITEM\";\nexport const ADD_QTY_PORTION_PHYTO_COND_FROM_DEPOT_ITEM=\"ADD_QTY_PORTION_PHYTO_COND_FROM_DEPOT_ITEM\";\nexport const MINUS_QTY_PORTION_PHYTO_COND_FROM_DEPOT_ITEM=\"MINUS_QTY_PORTION_PHYTO_COND_FROM_DEPOT_ITEM\";","import {\n  ADD_QTY_FROM_DEPOT_ITEM,\n  ADD_FROM_DEPOT,\n  CLEAR_FROM_DEPOT,\n  MINUS_QTY_FROM_DEPOT_ITEM,\n  REMOVE_FROM_TO_DEPOT,\n  SET_FROM_DEPOT_ITEMS,\n  ADD_QTY_PORTION_FROM_DEPOT_ITEM,\n  MINUS_QTY_PORTION_FROM_DEPOT_ITEM,\n  ADD_QTY_NUMBER_FROM_DEPOT_ITEM,\n} from \"../constants\";\n\nexport const setFromDepotItems = (items = []) => ({\n  type: SET_FROM_DEPOT_ITEMS,\n  payload: items,\n});\n\nexport const addFromDepot = (product) => ({\n  type: ADD_FROM_DEPOT,\n  payload: product,\n});\n\nexport const removeFromDepot = (id) => ({\n  type: REMOVE_FROM_TO_DEPOT,\n  payload: id,\n});\n\nexport const clearFromDepot = () => ({\n  type: CLEAR_FROM_DEPOT,\n});\n\nexport const addQtyFromDepotItem = (id, qtt) => ({\n  type: ADD_QTY_FROM_DEPOT_ITEM,\n  payload: { id: id, qtt: qtt },\n});\n\nexport const setQtyFromDepotItem = (id, value) => ({\n  type: ADD_QTY_NUMBER_FROM_DEPOT_ITEM,\n  payload: {\n    id: id,\n    value: value,\n  },\n});\nexport const minusQtyFromDepotItem = (id) => ({\n  type: MINUS_QTY_FROM_DEPOT_ITEM,\n  payload: { id: id },\n});\n\nexport const addQtyFromDepotPortionItem = (id, value) => ({\n  type: ADD_QTY_PORTION_FROM_DEPOT_ITEM,\n  payload: { id: id, value: value },\n});\n\nexport const minusQtyFromDepotPortionItem = (id) => ({\n  type: MINUS_QTY_PORTION_FROM_DEPOT_ITEM,\n  payload: { id: id },\n});\n","import React, { useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  NumberInput,\n  NumberInputField,\n  NumberInputStepper,\n  NumberIncrementStepper,\n  NumberDecrementStepper,\n} from \"@chakra-ui/react\";\nimport { setQtyFromDepotItem } from \"../../store/fromdepot/actions/fromdepot\";\n\nconst FromDepotItemControl = ({\n  product,\n  setRealQttCC,\n  setRealQtt,\n  realQtt,\n  realQttCC,\n}) => {\n  const dispatch = useDispatch();\n  const onAddQtyBrute = (value) => {\n    dispatch(setQtyFromDepotItem(product.id, value));\n  };\n\n  const getValue = () => {\n    return isEnough() == true\n      ? product?.quantityBrute * 1 \n      : product?.quantityBrute * 1;\n  };\n  const isEnough = () => {\n    return product.quantityBrute - 1 - product.quantityParProductDepot * 1 < 0;\n  };\n  return (\n    <div className=\"basket-item-control\">\n      <NumberInput\n        inputMode={\"numeric\"}\n        w={28}\n        disabled={product?.condmldepot != 0 && product?.qttccpventedepot != 0}\n        step={1}\n        bg={\"whitesmoke\"}\n        onChange={(value) => {\n          onAddQtyBrute(Number(value));\n          setRealQtt(Number(value));\n          if (isEnough() == true) {\n            alert(\n              \"Le reste du stock est : \" +\n                product.quantityBrute +\n                \" < \" +\n                value +\n                \" demand\"\n            );\n          }\n        }}\n        min={0}\n        defaultValue={product?.quantityParProductDepot}\n        max={getValue()}\n      >\n        <NumberInputField />\n        <NumberInputStepper>\n          <NumberIncrementStepper />\n          <NumberDecrementStepper />\n        </NumberInputStepper>\n      </NumberInput>\n    </div>\n  );\n};\nexport default FromDepotItemControl;\n","export const SET_FROM_MAGASIN_ITEMS = 'SET_FROM_MAGASIN_ITEMS';\nexport const ADD_FROM_MAGASIN = 'ADD_FROM_MAGASIN';\nexport const REMOVE_FROM_TO_MAGASIN = 'REMOVE_FROM_TO_MAGASIN';\nexport const CLEAR_FROM_MAGASIN = 'CLEAR_FROM_MAGASIN';\nexport const ADD_QTY_FROM_MAGASIN_ITEM = 'ADD_QTY_FROM_MAGASIN_ITEM';\nexport const MINUS_QTY_FROM_MAGASIN_ITEM = 'MINUS_QTY_FROM_MAGASIN_ITEM';\nexport const ADD_NUMBER_QTY_ITEM ='ADD_NUMBER_QTY_ITEM';\nexport const ADD_QTY_PORTION_FROM_MAGASIN_ITEM = \"ADD_QTY_PORTION_FROM_MAGASIN_ITEM\";\nexport const MINUS_QTY_PORTION_FROM_MAGASIN_ITEM = \"MINUS_QTY_PORTION_FROM_MAGASIN_ITEM\";\nexport const ADD_QTY_NUMBER_FROM_MAGASIN_ITEM = \"ADD_QTY_NUMBER_FROM_MAGASIN_ITEM\";\nexport const  MINUS_QTY_PORTION__DOSE_ITA_NEW_FROM_MAGASIN_ITEM = \"MINUS_QTY_PORTION_DOSE_ITA_NEW_FROM_MAGASIN_ITEM\";\nexport const ADD_QTY_PORTION_DOSE_UTA_NEW_FROM_MAGASIN_ITEM = \"ADD_QTY_PORTION_DOSE_ITA_NEW_FROM_MAGASIN_ITEM\";\nexport const ADD_QTY_PORTION_DOSE_SOVAX_FROM_MAGASIN_ITEM = \"ADD_QTY_PORTION_DOSE_SOVAX_FROM_MAGASIN_ITEM\";\nexport const MINUS_QTY_PORTION__DOSE_SOVAX_FROM_MAGASIN_ITEM=\"MINUS_QTY_PORTION__DOSE_SOVAX_FROM_MAGASIN_ITEM\";\nexport const ADD_QTY_PORTION_PHYTO_COND_FROM_MAGASIN_ITEM=\"ADD_QTY_PORTION_PHYTO_COND_FROM_MAGASIN_ITEM\";\nexport const MINUS_QTY_PORTION_PHYTO_COND_FROM_MAGASIN_ITEM=\"MINUS_QTY_PORTION_PHYTO_COND_FROM_MAGASIN_ITEM\";\n\nexport const ADD_QTY_LITRE_NUMBER_FROM_MAGASIN_ITEM = \"ADD_QTY_LITRE_NUMBER_FROM_MAGASIN_ITEM\";\nexport const MINUS_QTY_LITRE_NUMBER_FROM_MAGASIN_ITEM = \"MINUS_QTY_LITRE_NUMBER_FROM_MAGASIN_ITEM\";\nexport const ADD_TO_QTT_BRUTE = \"ADD_TO_QTT_BRUTE\";","import {\n  MINUS_QTY_PORTION__DOSE_ITA_NEW_FROM_MAGASIN_ITEM,\n  ADD_QTY_PORTION_DOSE_UTA_NEW_FROM_MAGASIN_ITEM,\n  ADD_QTY_PORTION_DOSE_SOVAX_FROM_MAGASIN_ITEM,\n  MINUS_QTY_PORTION__DOSE_SOVAX_FROM_MAGASIN_ITEM,\n  ADD_QTY_PORTION_PHYTO_COND_FROM_MAGASIN_ITEM,\n  MINUS_QTY_PORTION_PHYTO_COND_FROM_MAGASIN_ITEM,\n} from \"../constants\";\n\nexport const addQtyFromMagasinDoseItem = (id, value) => ({\n  type: ADD_QTY_PORTION_DOSE_UTA_NEW_FROM_MAGASIN_ITEM,\n  payload: { id: id, value: value },\n});\n\nexport const addQtyFromMagasinSovaxItem = (id, value) => ({\n  type: ADD_QTY_PORTION_DOSE_SOVAX_FROM_MAGASIN_ITEM,\n  payload: { id: id, value: value },\n});\n\nexport const addQtyFromMagasinPhytoCondItem = (id, value) => ({\n  type: ADD_QTY_PORTION_PHYTO_COND_FROM_MAGASIN_ITEM,\n  payload: {\n    id: id,\n    value: value,\n  },\n});\n","import {\n  addFromDepot as dispatchAddFromDepot,\n  removeFromDepot,\n} from \"../store/fromdepot/actions/fromdepot\";\n\nconst useFromDepot = (fromdepot, dispatch) => {\n  const isItemFromDepot = (id) => !!fromdepot?.find((item) => item?.id === id);\n  const addFromDepot = (product) => {\n    if (isItemFromDepot(product.id)) {\n      dispatch(removeFromDepot(product.id));\n    } else {\n      dispatch(dispatchAddFromDepot(product));\n    }\n  };\n  return { fromdepot, isItemFromDepot, addFromDepot };\n};\n\nexport default useFromDepot;\n","import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport FromDepotItemControl from \"./FromDepotItemControl\";\nimport FromDepotItemPartial from \"./FromDepotItemPartial\";\nimport { displayMoney, checkHasExistText } from \"../../utils/functions\";\nimport { ItaNewInputDose } from \"./ItaNewInputDose\";\nimport { PhytoConditionnementInput } from \"./PhytoConditionnementInput\";\nimport { SovaxInputDose } from \"./SovaxInputDose\";\nimport useFromDepot from \"../../hooks/useFromDepot\";\nimport { isSpecialProductHandle } from '../../store/functions/function';\nconst FromDepotItem = ({ product }) => {\n  const [realQttCC, setRealQttCC] = useState(null);\n  const [realQtt, setRealQtt] = useState(null);\n  const fromdepots = useSelector((state) => state.fromdepots);\n  const dispatch = useDispatch();\n  const { isItemFromDepot, addFromDepot } = useFromDepot(fromdepots, dispatch);\n\n  const itemOnBasket = isItemFromDepot ? isItemFromDepot(product.id) : false;\n\n  const handleAddToBasket = () => {\n    if (addFromDepot) addFromDepot(product);\n  };\n\n  return (\n    <div>\n      <div className=\"d-flex justify-content-between align-items-center border   mb-2 p-2\">\n        <div style={{ width: \"45%\" }}>\n          <p className=\"text-blue\">{product.name}</p>\n          <span className=\"text-lowercase\">\n            <strong>\n              {product.quantityParProductDepot != 0 &&\n                displayMoney(isSpecialProductHandle(product) ? product.prixlitre * product.quantityParProductDepot : product.prixVente * product.quantityParProductDepot)}\n              {product.quantityParProductDepot == 0 &&\n                product.prixParCC != 0 && (\n                  <>\n                    {product.prixqttccventedepot != null &&\n                    product.prixqttccventedepot != 0\n                      ? displayMoney(product.prixqttccventedepot)\n                      : displayMoney(product.prixParCC)}\n                  </>\n                )}\n              {product.quantityParProductDepot != 0 &&\n                \" x \" +\n                  product.quantityParProductDepot +\n                  \" \" +\n                  product.type}{\" \"}\n              {product.prixqttccventedepot == null &&\n                product.prixqttccventedepot == 0 && (\n                  <>\n                    {product.qttByCCDepot != 0 &&\n                      (product.quantityParProductDepot == 0 ? \" x \" : \"+\") +\n                        product.qttByCCDepot +\n                        \"ML\"}\n                  </>\n                )}\n            </strong>\n          </span>\n        </div>\n        <div className=\"text-inline text-center\">\n          <h5 className=\"mb-1\">{product.type}</h5>\n          <FromDepotItemControl\n            product={product}\n            setRealQttCC={setRealQttCC}\n            setRealQtt={setRealQtt}\n            realQtt={realQtt}\n            realQttCC={realQttCC}\n          />\n          \n        </div>\n        <div>\n            {itemOnBasket && (\n              <button\n                onClick={handleAddToBasket}\n                className=\"btn btn-danger btn-xs text-right\"\n              >\n                X\n              </button>\n            )}\n          </div> \n          {/**{product.type === \"FLACON\" && (\n          <div>\n          <div className=\"text-inline text-center\">\n            <h5 className=\"mb-1\">{product.categoryId == 3 ? \"DOSE\" : \"ML\"}</h5>\n            {checkHasExistText(product.name, \"ita new\") && (\n              <ItaNewInputDose\n                product={product}\n                setRealQttCC={setRealQttCC}\n                setRealQtt={setRealQtt}\n                realQtt={realQtt}\n                realQttCC={realQttCC}\n              />\n            )}\n            {checkHasExistText(product.name, \"sovax\") && (\n              <SovaxInputDose\n                setRealQttCC={setRealQttCC}\n                setRealQtt={setRealQtt}\n                realQtt={realQtt}\n                realQttCC={realQttCC}\n                product={product}\n              />\n            )}\n            {product.condmldepot == 0 &&\n              product.qttccpventedepot == 0 &&\n              !checkHasExistText(product.name, \"sovax\") &&\n              !checkHasExistText(product.name, \"ita new\") && (\n                <FromDepotItemPartial\n                  setRealQttCC={setRealQttCC}\n                  setRealQtt={setRealQtt}\n                  realQtt={realQtt}\n                  realQttCC={realQttCC}\n                  product={product}\n                />\n              )}\n            {product.condmldepot !== 0 && product.qttccpventedepot !== 0 && (\n              <PhytoConditionnementInput product={product} />\n            )}\n            <div>\n              {itemOnBasket && (\n                <button\n                  onClick={handleAddToBasket}\n                  className=\"btn btn-danger btn-xs text-right\"\n                >\n                  X\n                </button>\n              )}\n            </div> \n            </div>\n          </div>\n          \n        )}*/}\n      </div>\n    </div>\n  );\n};\n\nexport default FromDepotItem;\n","// tester l'existance d'une quantit suffisante pour en cc d'un produit dans le cva\nexport const canBuyCCFromDepot = (product) => {\n  return !!product.quantityCC > 0;\n};\nexport const canBuyBruteFromDepot = (product) => {\n  return !!product.quantityBrute > 0;\n};\nexport const cantBuyBruteFromDepot = (product) => {\n  return !!product.quantityBrute < 0;\n};\n\nexport const isBiggerThanLastQuantityCCDepot = (product) => {\n  return !!(product.qttByCCDepot > product.quantityCC);\n};\nexport const isLowerThanLastQuantityCCDepot = (product) => {\n  return !!(product.qttByCCDepot < product.quantityCCCVA);\n};\nexport const isSameOfLastQuantityCCDepot = (product) => {\n  return !!(product.qttByCCDepot == product.quantityCC);\n};\nexport const getRestQuantityCCWhenOrderIsBiggerThanLastQuantityCCDepot = (\n  product\n) => {\n  if (isBiggerThanLastQuantityCCDepot(product))\n    return product.qttByCCDepot - product.quantityCC;\n  else return product.quantityCC - product.qttByCCDepot;\n};\nexport const minusQuantityBruteWhenQttCcIsEmptyDepot = (product) => {\n  if (canBuyBruteFromDepot(product)) product.quantityBrute -= 1;\n  else product.quantityBrute = 0;\n  return product;\n};\nexport const minusQuantityCcDepot = (product) => {\n\n\n  if (canBuyBruteFromDepot(product)) {\n    console.log('hello ici');\n    if (isBiggerThanLastQuantityCCDepot(product)) {\n\n      minusQuantityBruteWhenQttCcIsEmptyDepot(product);\n      reinitQuantityCCDepot(\n        product,\n        product.doseDefault -\n          getRestQuantityCCWhenOrderIsBiggerThanLastQuantityCCDepot(product)\n      );\n    } else if (isSameOfLastQuantityCCDepot(product)) {\n      reinitQuantityCCDepot(product, 0);\n    } else {\n      reinitQuantityCCDepot(product, product.quantityCC - product.qttByCCDepot);\n    }\n  } else {\n    if (product.quantityCC > 0)\n      reinitQuantityCCDepot(product, product.quantityCC - product.qttByCCDepot);\n    else {\n      reinitQuantityCCDepot(product, 0);\n    }\n  }\n  return product;\n};\nexport const reinitQuantityCCDepot = (product, value) => {\n  product.quantityCC = value;\n  return product;\n};\n\nexport const soldAllStockCCDepot = (product) => {\n  product.quantityCC = 0;\n};\nexport const resetQuantityBrute = (product) => {\n  product.quantityBrute = 0;\n};\n\nexport const handleSoldQuantityCCDepot = (product) => {\n  minusQuantityCcDepot(product);\n  return product;\n};\nexport const isSpecialProductHandleDepot = (product) => {\n  return !!(\n    product.condmldepot != null &&\n    product.condvaldepot != null &&\n    product.qttccpventedepot != null &&\n    product.prixqttccventedepot != null\n  );\n};\nexport const isBiggerThanLastCondML = (product) => {\n  return !!(product.qttByCCDepot > product.condmldepot);\n};\nexport const hasCondValDepot = (product) => {\n  return !!product.condvaldepot >= 0;\n};\nexport const minusCondValWhenQttCcIsEmptyDepot = (product) => {\n  if (product.condvaldepot > 0) {\n    product.condvaldepot -= 1;\n  } else {\n    if (product.quantityBrute> 0) {\n      minusQuantityBruteWhenQttCcIsEmptyDepot(product);\n      product.condvaldepot = product.condsizedepot - 1;\n    } else {\n      product.condvaldepot = 0;\n    }\n  }\n  return product;\n};\n\nexport const reinitConditionnementDepot = (product) => {\n  product.quantityCC =\n    product.condmldepot -\n    getRestQuantityCCWhenOrderIsBiggerThanLastQuantityCCDepot(product);\n  product.condvaldepot = product.condvaldepot - 1;\n  return product;\n};\nexport const minusQuantityBruteWhenQttCcCondIsEmptyDepot = (product) => {\n  if (canBuyBruteFromDepot(product)) {\n    product.quantityBrute -= 1;\n    reinitConditionnementDepot(product);\n  } else product.quantityBrute = 0;\n  return product;\n};\nexport const minusCondMLDepot = (product) => {\n  if (hasCondValDepot(product)) {\n    if (isBiggerThanLastQuantityCCDepot(product)) {\n      minusCondValWhenQttCcIsEmptyDepot(product);\n      reinitQuantityCCDepot(\n        product,\n        product.condmldepot -\n          getRestQuantityCCWhenOrderIsBiggerThanLastQuantityCCDepot(product)\n      );\n    } else {\n      if (canBuyCCFromDepot(product)) product.quantityCC -= product.qttByCCDepot;\n      else product.quantityCC= 0;\n    }\n  } else {\n    if (canBuyBruteFromDepot(product)) {\n      minusQuantityBruteWhenQttCcIsEmptyDepot(product);\n      reinitQuantityCCDepot(\n        product,\n        product.condmldepot -\n          getRestQuantityCCWhenOrderIsBiggerThanLastQuantityCCDepot(product)\n      );\n      if (product.condvaldepot == 0) product.condvaldepot = product.condsizedepot - 1;\n    } else {\n      product.quantityCC -= product.qttByCCDepot;\n    }\n  }\n  return product;\n};\n\nexport const handlePhtyoSpecificDepot = (product) => {\n  minusCondMLDepot(product);\n  return product;\n};\nexport const handleMinusProductDepot = (product) => {\n  if (canBuyBruteFromDepot(product)) {\n    product.quantityBrute -= product.quantityParProductDepot;\n  } else if (cantBuyBruteFromDepot(product)) {\n    product.quantityBrute = 0;\n  }\n  return product;\n};\nexport const resetProductDataDepot = (product, cloneProduct) => {\n  Object.keys(cloneProduct).forEach(function (key) {\n    if (cloneProduct[key] == null || cloneProduct[key] == 0) {\n      cloneProduct[key] = product[key];\n    }\n  });\n};\n\nexport const handleSoldProductDepot = (product) => {\n  if (canBuyBruteFromDepot(product)) {\n    product.quantityBrute -= product.quantityParProductDepot;\n  } else if (cantBuyBruteFromDepot(product)) {\n    product.quantityBrute = 0;\n  }\n  return product;\n};\n","import React, { useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  NumberInput,\n  NumberInputField,\n  NumberInputStepper,\n  NumberIncrementStepper,\n  NumberDecrementStepper,\n} from \"@chakra-ui/react\";\nimport { setQtyFromDepotItem } from \"../../store/fromdepot/actions/fromdepot\";\n\nconst EditFromDepotItemControl = ({\n  product,\n  index,\n  state,\n  setState,\n  setRealQttCC,\n  setRealQtt,\n  realQtt,\n  realQttCC,\n}) => {\n  const dispatch = useDispatch();\n\n  const updateObjectValue = (index, key, value) => {\n    let temp_state = [...state];\n    temp_state[index] = { ...temp_state[index], [key]: value };\n    setState(temp_state);\n  };\n  const onAddQtyBrute = (value) => {\n    updateObjectValue(index, \"quantityParProductDepot\", value);\n  };\n\n  const getValue = () => {\n    return isEnough() == true\n      ? product?.quantityBrute * 1 - 1\n      : product?.quantityBrute * 1;\n  };\n  const isEnough = () => {\n    return (\n      product.quantityCC - product.qttByCCDepot < 0 &&\n      product.quantityBrute - 1 - product.quantityParProductDepot * 1 < 0\n    );\n  };\n  return (\n    <div className=\"basket-item-control\">\n      <NumberInput\n        inputMode={\"numeric\"}\n        w={28}\n        disabled={product?.condmldepot != 0 && product?.qttccpventedepot != 0}\n        step={1}\n        bg={\"whitesmoke\"}\n        onChange={(value) => {\n          onAddQtyBrute(Number(value));\n          setRealQtt(Number(value));\n          if (isEnough()) {\n            alert(\"Le stock ne satisfait pas votre commande\");\n          }\n        }}\n        min={0}\n        defaultValue={product?.quantityParProductDepot}\n        max={getValue()}\n      >\n        <NumberInputField />\n        <NumberInputStepper>\n          <NumberIncrementStepper />\n          <NumberDecrementStepper />\n        </NumberInputStepper>\n      </NumberInput>\n    </div>\n  );\n};\nexport default EditFromDepotItemControl;\n","import React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport FromDepotItemControl from \"./FromDepotItemControl\";\nimport FromDepotItemPartial from \"./FromDepotItemPartial\";\nimport { displayMoney, checkHasExistText } from \"../../utils/functions\";\nimport { ItaNewInputDose } from \"./ItaNewInputDose\";\nimport { PhytoConditionnementInput } from \"./PhytoConditionnementInput\";\nimport { SovaxInputDose } from \"./SovaxInputDose\";\nimport EditFromDepotItemControl from \"./EditFromDepotItemControl\";\nimport { isSpecialProductHandle } from '../../store/functions/function';\nconst EditFromDepotItem = ({ state, index, setState, product }) => {\n  const [realQttCC, setRealQttCC] = useState(null);\n  const [realQtt, setRealQtt] = useState(null);\n  return (\n    <div>\n      <div className=\"d-flex justify-content-between align-items-center border   mb-2 p-2\">\n        <div style={{ width: \"45%\" }}>\n          <p className=\"text-blue\">{product.name}</p>\n          <span className=\"text-lowercase\">\n            <strong>\n              {product.quantityParProductDepot != 0 &&\n                displayMoney(\n                  isSpecialProductHandle(product) ? product.prixlitre : product.prixVente\n                )}\n              {product.quantityParProductDepot == 0 &&\n                product.prixParCC != 0 && (\n                  <>\n                    {product.prixqttccventedepot != null &&\n                    product.prixqttccventedepot != 0\n                      ? displayMoney(product.prixqttccventedepot)\n                      : displayMoney(product.prixParCC)}\n                  </>\n                )}\n              {product.quantityParProductDepot != 0 &&\n                \" x \" +\n                  product.quantityParProductDepot +\n                  \" \" +\n                  product.type}{\" \"}\n              {product.prixqttccventedepot == null &&\n                product.prixqttccventedepot == 0 && (\n                  <>\n                    {product.qttByCCDepot != 0 &&\n                      (product.quantityParProductDepot == 0 ? \" x \" : \"+\") +\n                        product.qttByCCDepot +\n                        \"ML\"}\n                  </>\n                )}\n            </strong>\n          </span>\n        </div>\n        <div className=\"text-inline text-center\">\n          <h5 className=\"mb-1\">{product.type}</h5>\n          <EditFromDepotItemControl\n            index={index}\n            state={state}\n            setState={setState}\n            product={product}\n            setRealQttCC={setRealQttCC}\n            setRealQtt={setRealQtt}\n            realQtt={realQtt}\n            realQttCC={realQttCC}\n          />\n        </div>\n        {/** {product.type === \"FLACON\" && (\n          <div className=\"text-inline text-center\">\n            <h5 className=\"mb-1\">{product.categoryId == 3 ? \"DOSE\" : \"ML\"}</h5>\n            {checkHasExistText(product.name, \"ita new\") && (\n              <ItaNewInputDose\n                product={product}\n                setRealQttCC={setRealQttCC}\n                setRealQtt={setRealQtt}\n                realQtt={realQtt}\n                realQttCC={realQttCC}\n              />\n            )}\n            {checkHasExistText(product.name, \"sovax\") && (\n              <SovaxInputDose\n                setRealQttCC={setRealQttCC}\n                setRealQtt={setRealQtt}\n                realQtt={realQtt}\n                realQttCC={realQttCC}\n                product={product}\n              />\n            )}\n            {product.condmldepot == 0 &&\n              product.qttccpventedepot == 0 &&\n              !checkHasExistText(product.name, \"sovax\") &&\n              !checkHasExistText(product.name, \"ita new\") && (\n                <FromDepotItemPartial\n                  setRealQttCC={setRealQttCC}\n                  setRealQtt={setRealQtt}\n                  realQtt={realQtt}\n                  realQttCC={realQttCC}\n                  product={product}\n                />\n              )}\n            {product.condmldepot !== 0 && product.qttccpventedepot !== 0 && (\n              <PhytoConditionnementInput product={product} />\n            )}\n          </div>\n        )} */}\n      </div>\n    </div>\n  );\n};\n\nexport default EditFromDepotItem;\n","export const isSpecialProductHandle = (product) => {\n  return !!(\n    product.condml != 0 &&\n    product.condsize != 0 &&\n    product.qttccpvente != 0 &&\n    product.prixqttccvente != 0\n  );\n};\n\nconst incrementIncrement = (realproduct, qttcc, qtt = 0) => {\n  let moins = 0;\n  let reste = 0;\n  let dose = realproduct.doseDefault;\n  let add = Number(realproduct.quantityCCCVA) + Number(qttcc);\n  if (Number(add) >= Number(dose)) {\n    moins = Math.floor(add / Number(dose));\n    reste = Number(qttcc) - Number(dose) * moins;\n    if (realproduct.quantityCCCVA + reste >= Number(dose)) {\n      let diff = realproduct.quantityCCCVA + reste - Number(dose);\n      realproduct.quantityCCCVA += Number(diff);\n      moins += 1;\n    } else {\n      realproduct.quantityCCCVA = realproduct.quantityCCCVA + reste;\n    }\n  } else {\n    if (realproduct.quantityCCCVA + reste >= Number(dose)) {\n      let diff = realproduct.quantityCCCVA + reste - Number(dose);\n      realproduct.quantityCCCVA += Number(diff);\n      moins += 1;\n    } else {\n      realproduct.quantityCCCVA = realproduct.quantityCCCVA + Number(qttcc);\n    }\n  }\n  let x = moins + Number(qtt);\n  realproduct.quantityBruteCVA += x;\n};\nconst correctionValue = (product, diff, diffcc, diffl) => {\n  product.quantityParProduct = diff;\n  product.qttByCC = diffcc;\n  product.qttbylitre = diffl;\n};\nconst decrementDecrement = (realproduct, qttcc, qtt = 0) => {\n  let moins = 0;\n  let reste = 0;\n  let dose = realproduct.doseDefault;\n  let isValid = true;\n  if (Number(qttcc) >= Number(dose)) {\n    moins = Math.floor(Number(qttcc) / Number(dose));\n    reste = Number(qttcc) - Number(dose) * moins;\n    if (realproduct.quantityCCCVA - reste < 0) {\n      moins += 1;\n    } else {\n    }\n  } else {\n    if (realproduct.quantityCCCVA - Number(qttcc) < 0) {\n      moins += 1;\n    } else {\n    }\n  }\n  let x = moins + Number(qtt);\n  if (realproduct.quantityBruteCVA - x < 0) isValid = false;\n  return isValid;\n};\nconst incrementX = (realproduct, qttcc, qtt = 0, qttlitre, type = \"inc\") => {\n  let moins = 0,\n    moinscond = 0,\n    moinslitre = 0;\n  let reste = 0,\n    restelitre = 0,\n    restecond = 0,\n    isValid = true;\n  let dose = realproduct.condml;\n  let condsize = realproduct.condsize;\n  console.log(qttcc);\n  if (type == \"mcinc\") {\n    let add = Number(realproduct.quantityCCCVA) + Number(qttcc);\n    if (Number(add) >= Number(dose)) {\n      moins = Math.floor(add / Number(dose));\n      reste = Number(qttcc) - Number(dose) * moins;\n      if (realproduct.quantityCCCVA + reste >= Number(dose)) {\n        moins += 1;\n      } else {\n      }\n    } else {\n      if (realproduct.quantityCCCVA + Number(qttcc) >= Number(dose)) {\n        moins += 1;\n      } else {\n      }\n    }\n\n    let mm = Number(moins) + Number(qtt);\n    if (Number(mm) >= Number(condsize)) {\n      moinscond = Math.floor(mm / Number(condsize));\n      restecond = Number(mm) - Number(condsize) * moinscond;\n      if (realproduct.condval + restecond >= Number(condsize)) {\n        moinscond += 1;\n      } else {\n      }\n    } else {\n      if (realproduct.condval + Number(mm) >= Number(condsize)) {\n        moinscond += 1;\n      } else {\n      }\n    }\n    if (realproduct.quantityBruteCVA + moinscond - qttlitre < 0)\n      isValid = false;\n  } else if (type == \"mdecinc\") {\n    if (Number(qttcc) >= Number(dose)) {\n      moins = Math.floor(Number(qttcc) / Number(dose));\n      reste = Number(qttcc) - Number(dose) * moins;\n      if (realproduct.quantityCCCVA - reste < 0) {\n        moins += 1;\n      } else {\n      }\n    } else {\n      if (realproduct.quantityCCCVA - Number(qttcc) < 0) {\n        moins += 1;\n      } else {\n      }\n    }\n\n    let mn = Number(moins);\n    if (Number(mn) >= Number(condsize)) {\n      moinslitre = Math.floor(Number(mn) / Number(condsize));\n      restelitre = Number(mn) - Number(condsize) * moinslitre;\n      if (realproduct.condval - restelitre < 0) {\n        moinslitre += 1;\n      } else {\n      }\n    } else {\n      if (realproduct.condval - Number(mn) < 0) {\n        moinslitre += 1;\n      } else {\n      }\n    }\n    let mma = Number(qtt);\n    if (Number(mma) >= Number(condsize)) {\n      moinscond = Math.floor(mma / Number(condsize));\n      restecond = Number(mma) - Number(condsize) * moinscond;\n      if (realproduct.condval + restecond >= Number(condsize)) {\n        moinscond += 1;\n      } else {\n        realproduct.condval = Number(realproduct.condval) + restecond;\n      }\n    } else {\n      if (realproduct.condval + Number(mma) >= Number(condsize)) {\n        moinscond += 1;\n      } else {\n      }\n    }\n    let x1 = realproduct.quantityBruteCVA + qttlitre + moinscond;\n    if (x1 - moinslitre < 0) {\n      isValid = false;\n    }\n  } else if (type == \"decinc\") {\n    if (Number(qttcc) >= Number(dose)) {\n      moins = Math.floor(Number(qttcc) / Number(dose));\n      reste = Number(qttcc) - Number(dose) * moins;\n      if (realproduct.quantityCCCVA - reste < 0) {\n        moins += 1;\n      } else {\n      }\n    } else {\n      if (realproduct.quantityCCCVA - Number(qttcc) < 0) {\n        moins += 1;\n      } else {\n      }\n    }\n\n    let mn = Number(moins);\n    if (Number(mn) >= Number(condsize)) {\n      moinslitre = Math.floor(Number(mn) / Number(condsize));\n      restelitre = Number(mn) - Number(condsize) * moinslitre;\n      if (realproduct.condval - restelitre < 0) {\n        moinslitre += 1;\n      } else {\n      }\n    } else {\n      if (realproduct.condval - Number(mn) < 0) {\n        moinslitre += 1;\n      } else {\n      }\n    }\n\n    let mma = Number(qtt);\n    if (Number(mma) >= Number(condsize)) {\n      moinscond = Math.floor(mma / Number(condsize));\n      restecond = Number(mma) - Number(condsize) * moinscond;\n      if (realproduct.condval + restecond >= Number(condsize)) {\n        moinscond += 1;\n      } else {\n      }\n    } else {\n      if (realproduct.condval + Number(mma) >= Number(condsize)) {\n        moinscond += 1;\n      } else {\n      }\n    }\n    if (\n      realproduct.quantityBruteCVA + moinscond - (qttlitre + moinslitre) <\n      0\n    ) {\n      isValid = false;\n    }\n  } else {\n    let add = Number(realproduct.quantityCCCVA) + Number(qttcc);\n\n    if (Number(add) >= Number(dose)) {\n      moins = Math.floor(add / Number(dose));\n      reste = Number(qttcc) - Number(dose) * moins;\n      if (realproduct.quantityCCCVA + reste >= Number(dose)) {\n        moins += 1;\n      } else {\n      }\n    } else {\n      if (realproduct.quantityCCCVA + Number(qttcc) >= Number(dose)) {\n        moins += 1;\n      } else {\n      }\n      isValid = true;\n    }\n  }\n  return isValid;\n};\nconst decrementX = (realproduct, qttcc, qtt = 0, qttlitre, type = \"dec\") => {\n  let moins = 0,\n    moinslitre = 0,\n    moinscond = 0,\n    reste = 0,\n    restelitre = 0,\n    isValid = true,\n    restecond;\n  let dose = realproduct.condml;\n  let condsize = realproduct.condsize;\n  if (type == \"pcdec\") {\n    if (Number(qttcc) >= Number(dose)) {\n      moins = Math.floor(Number(qttcc) / Number(dose));\n      reste = Number(qttcc) - Number(dose) * moins;\n      if (realproduct.quantityCCCVA - reste < 0) {\n        moins += 1;\n      } else {\n      }\n    } else {\n      if (realproduct.quantityCCCVA - Number(qttcc) < 0) {\n        moins += 1;\n      } else {\n      }\n    }\n\n    let mn = Number(moins) + Number(qtt);\n    if (Number(mn) >= Number(condsize)) {\n      moinslitre = Math.floor(Number(mn) / Number(condsize));\n      restelitre = Number(mn) - Number(condsize) * moinslitre;\n      if (realproduct.condval - restelitre < 0) {\n        moinslitre += 1;\n      } else {\n      }\n    } else {\n      if (realproduct.condval - Number(mn) < 0) {\n        moinslitre += 1;\n      } else {\n      }\n    }\n    if (realproduct.quantityBruteCVA + qttlitre - moinslitre < 0) {\n      isValid = false;\n    }\n  } else if (type == \"mincdec\") {\n    let moins = 0,\n      moinscond = 0;\n    let reste = 0,\n      restecond = 0;\n    let dose = realproduct.condml;\n    let condsize = realproduct.condsize;\n\n    let add = Number(realproduct.quantityCCCVA) + Number(qttcc);\n    if (Number(add) >= Number(dose)) {\n      moins = Math.floor(add / Number(dose));\n      reste = Number(qttcc) - Number(dose) * moins;\n      if (realproduct.quantityCCCVA + reste >= Number(dose)) {\n        moins += 1;\n      } else {\n      }\n    } else {\n      if (realproduct.quantityCCCVA + Number(qttcc) >= Number(dose)) {\n        moins += 1;\n      } else {\n      }\n    }\n    let mm = Number(moins);\n    if (Number(mm) >= Number(condsize)) {\n      moinscond = Math.floor(mm / Number(condsize));\n      restecond = Number(mm) - Number(condsize) * moinscond;\n      if (realproduct.condval + restecond >= Number(condsize)) {\n        moinscond += 1;\n      } else {\n      }\n    } else {\n      if (realproduct.condval + Number(mm) >= Number(condsize)) {\n        moinscond += 1;\n      } else {\n      }\n    }\n\n    let mna = Number(qtt);\n    if (Number(mna) >= Number(condsize)) {\n      moinslitre = Math.floor(Number(mna) / Number(condsize));\n      restelitre = Number(mna) - Number(condsize) * moins;\n      if (realproduct.condval - restelitre < 0) {\n        moinslitre += 1;\n      } else {\n      }\n    } else {\n      if (realproduct.condval - Number(mna) < 0) {\n        moinslitre += 1;\n      } else {\n        realproduct.condval = realproduct.condval - Number(mna);\n      }\n    }\n    let x1 = realproduct.quantityBruteCVA + moinscond + qttlitre;\n    if (x1 - moinslitre) isValid = false;\n  } else if (type == \"incdec\") {\n    // mis erreur ici:\n    let moins = 0,\n      moinscond = 0;\n    let reste = 0,\n      restecond = 0;\n    let dose = realproduct.condml;\n    let condsize = realproduct.condsize;\n\n    let add = Number(realproduct.quantityCCCVA) + Number(qttcc);\n    if (Number(add) >= Number(dose)) {\n      moins = Math.floor(add / Number(dose));\n      reste = Number(qttcc) - Number(dose) * moins;\n      if (realproduct.quantityCCCVA + reste >= Number(dose)) {\n        moins += 1;\n      } else {\n      }\n    } else {\n      if (realproduct.quantityCCCVA + Number(qttcc) >= Number(dose)) {\n        moins += 1;\n      } else {\n      }\n    }\n    let mm = Number(moins);\n    if (Number(mm) >= Number(condsize)) {\n      moinscond = Math.floor(mm / Number(condsize));\n      restecond = Number(mm) - Number(condsize) * moinscond;\n      if (realproduct.condval + restecond >= Number(condsize)) {\n        moinscond += 1;\n      } else {\n      }\n    } else {\n      if (realproduct.condval + Number(mm) >= Number(condsize)) {\n        moinscond += 1;\n      } else {\n      }\n    }\n\n    let mna = Number(qtt);\n    if (Number(mna) >= Number(condsize)) {\n      moinslitre = Math.floor(Number(mna) / Number(condsize));\n      restelitre = Number(mna) - Number(condsize) * moins;\n      if (realproduct.condval - restelitre < 0) {\n        moinslitre += 1;\n      } else {\n      }\n    } else {\n      if (realproduct.condval - Number(mna) < 0) {\n        moinslitre += 1;\n      } else {\n      }\n    }\n    let x1 = realproduct.quantityBruteCVA + moinscond;\n    let x2 = moinslitre + qttlitre;\n    if (x1 - x2 < 0) isValid = false;\n  } else {\n    if (Number(qttcc) >= Number(dose)) {\n      moins = Math.floor(Number(qttcc) / Number(dose));\n      reste = Number(qttcc) - Number(dose) * moins;\n      if (realproduct.quantityCCCVA - reste < 0) {\n        moins += 1;\n      }\n    } else {\n      if (realproduct.quantityCCCVA - Number(qttcc) < 0) {\n        moins += 1;\n      }\n    }\n\n    let mn = Number(moins) + Number(qtt);\n    if (Number(mn) >= Number(condsize)) {\n      moinslitre = Math.floor(Number(mn) / Number(condsize));\n      restelitre = Number(mn) - Number(condsize) * moinslitre;\n      if (realproduct.condval - restelitre < 0) {\n        moinslitre += 1;\n      }\n    } else {\n      if (realproduct.condval - Number(mn) < 0) {\n        moinslitre += 1;\n      }\n    }\n    let mns = moinslitre + qttlitre;\n    if (realproduct.quantityBruteCVA - mns < 0) isValid = false;\n  }\n  return isValid;\n};\nconst decrement = (realproduct, qttcc, qtt = 0, type = \"dec\") => {\n  let moins = 0,\n    reste = 0;\n  let dose = realproduct.doseDefault;\n  let isValid = true;\n\n  if (type != \"incdec\") {\n    if (Number(qttcc) >= Number(dose)) {\n      moins = Math.floor(Number(qttcc) / Number(dose));\n      reste = Number(qttcc) - Number(dose) * moins;\n      if (realproduct.quantityCCCVA - reste < 0) {\n        moins += 1;\n      } else {\n      }\n    } else {\n      if (realproduct.quantityCCCVA - Number(qttcc) < 0) {\n        moins += 1;\n      } else {\n      }\n    }\n    let mn = moins + qtt;\n    if (realproduct.quantityBruteCVA - mn < 0) isValid = false;\n  } else {\n    let add = Number(realproduct.quantityCCCVA) + Number(qttcc);\n    if (Number(add) >= Number(dose)) {\n      moins = Math.floor(add / Number(dose));\n      reste = Number(qttcc) - Number(dose) * moins;\n      if (realproduct.quantityCCCVA + reste >= Number(dose)) {\n        moins += 1;\n      }\n    } else {\n      if (realproduct.quantityCCCVA + Number(qttcc) >= Number(dose)) {\n        moins += 1;\n      }\n    }\n    if (realproduct.quantityBruteCVA + moins - qtt < 0) {\n      isValid = false;\n    }\n  }\n\n  return isValid;\n};\nexport const blockItOnSold = (realQtt, realQttCC, realQttLitre, product) => {\n  let isSpecific = false;\n  if (isSpecialProductHandle(product)) {\n    isSpecific = true;\n    let qtt = realQtt;\n    let qttcc = realQttCC;\n    let qttlitre = realQttLitre;\n    let normalQtt = product.condval;\n    let normalQttCC = product.quantityCCCVA;\n    let normalQttLitre = product.quantityBruteCVA;\n    let condsize = product.condsize;\n    let dose = product.doseDefault;\n    let condml = product.condml;\n    let isValid = true;\n    if (qttlitre > 0 && qtt == 0 && qttcc == 0) {\n      if (qttlitre > normalQttLitre) {\n        isValid = false;\n        normalQtt = qtt;\n        normalQttCC = qttcc;\n      }\n    }\n    if (qttlitre == 0 && qtt > 0 && qttcc == 0) {\n      let moins = 0,\n        reste = 0;\n      if (Number(qtt) > Number(condsize)) {\n        moins = Math.floor(Number(qtt) / Number(condsize));\n        reste = Number(qtt) - Number(condsize) * moins;\n        if (normalQtt - reste < 0) {\n          moins += 1;\n        }\n      }\n      if (normalQttLitre - moins < 0) {\n        isValid = false;\n        normalQttLitre = qttlitre;\n        normalQttCC = qttcc;\n      }\n    }\n    if (qttlitre == 0 && qtt == 0 && qttcc > 0) {\n      if (normalQttCC - qttcc < 0) {\n        let moins = 0,\n          moinslitre = 0,\n          restelitre = 0,\n          reste = 0;\n        if (Number(qttcc) > Number(dose)) {\n          moins = Math.floor(Number(qttcc) / Number(dose));\n          reste = Number(qttcc) - Number(dose) * moins;\n          if (normalQttCC - reste < 0) {\n            moins += 1;\n          }\n        }\n        if (Number(moins) > Number(condsize)) {\n          moinslitre = Math.floor(Number(moins) / Number(condsize));\n          restelitre = Number(moins) - Number(condsize) * moins;\n          if (normalQtt - restelitre < 0) {\n            moinslitre += 1;\n          }\n        }\n        if (normalQttLitre - moinslitre < 0) {\n          isValid = false;\n          normalQttLitre = qttlitre;\n          normalQtt = qtt;\n        }\n      }\n    }\n\n    if (qttlitre == 0 && qtt > 0 && qttcc > 0) {\n      let moins = 0,\n        moinslitre = 0,\n        restelitre = 0,\n        reste = 0;\n      if (Number(qttcc) > Number(condml)) {\n        moins = Math.floor(Number(qttcc) / Number(condml));\n        reste = Number(qttcc) - Number(condml) * moins;\n        if (normalQttCC - reste < 0) {\n          moins += 1;\n        }\n      } else {\n        if (normalQttCC - Number(qttcc) < 0) {\n          moins = 1;\n        }\n      }\n      let mm = Number(qtt) + moins;\n      if (mm > Number(condsize)) {\n        moinslitre = Math.floor(mm / Number(condsize));\n        restelitre = mm - Number(condsize) * moinslitre;\n        if (normalQtt - restelitre < 0) {\n          moinslitre += 1;\n        }\n      } else {\n        if (normalQtt - mm < 0) {\n          moinslitre = 1;\n        }\n      }\n      if (normalQttLitre - moinslitre < 0) {\n        isValid = false;\n        normalQttLitre = qttlitre;\n        normalQtt = qtt;\n      }\n    }\n    if (qttlitre > 0 && qtt > 0 && qttcc == 0) {\n      let moins = 0,\n        moinslitre = 0,\n        restelitre = 0,\n        reste = 0;\n\n      if (Number(qtt) > Number(condsize)) {\n        moinslitre = Math.floor(Number(qtt) / Number(condsize));\n        restelitre = Number(qtt) - Number(condsize) * moinslitre;\n        if (normalQtt - (restelitre + qtt) < 0) {\n          moinslitre += 1;\n        }\n      } else {\n        if (normalQtt - Number(qtt) < 0) {\n          moinslitre = 1;\n        }\n      }\n\n      if (normalQttLitre - (moinslitre + qttlitre) < 0) {\n        isValid = false;\n        normalQttLitre = qttlitre;\n        normalQtt = qtt;\n      }\n    }\n    if (qttlitre > 0 && qtt == 0 && qttcc > 0) {\n      let moins = 0,\n        moinslitre = 0,\n        restelitre = 0,\n        reste = 0;\n      if (Number(qttcc) > Number(condml)) {\n        moins = Math.floor(Number(qttcc) / Number(condml));\n        reste = Number(qttcc) - Number(condml) * moins;\n        if (normalQttCC - reste < 0) {\n          moins += 1;\n        }\n      } else {\n        if (normalQttCC - Number(qttcc) < 0) {\n          moins = 1;\n        }\n      }\n\n      if (Number(moins) > Number(condsize)) {\n        moinslitre = Math.floor(Number(moins) / Number(condsize));\n        restelitre = Number(moins) - Number(condsize) * moinslitre;\n        if (normalQtt - restelitre < 0) {\n          moinslitre += 1;\n        }\n      } else {\n        if (normalQtt - moins < 0) {\n          moinslitre = 1;\n        }\n      }\n      if (normalQttLitre - (moinslitre + qttlitre) < 0) {\n        isValid = false;\n        normalQtt = qtt;\n      }\n    }\n    if (qttlitre > 0 && qtt > 0 && qttcc > 0) {\n      let moins = 0,\n        moinslitre = 0,\n        restelitre = 0,\n        reste = 0;\n      if (Number(qttcc) > Number(condml)) {\n        moins = Math.floor(Number(qttcc) / Number(condml));\n        reste = Number(qttcc) - Number(condml) * moins;\n        if (normalQttCC - reste < 0) {\n          moins += 1;\n        }\n      } else {\n        if (normalQttCC - Number(qttcc) < 0) {\n          moins = 1;\n        }\n      }\n      let mns = Number(moins) + Number(qtt);\n      if (mns > Number(condsize)) {\n        moinslitre = Math.floor(mns / Number(condsize));\n        restelitre = mns - Number(condsize) * moinslitre;\n        if (normalQtt - restelitre < 0) {\n          moinslitre += 1;\n        }\n      } else {\n        if (normalQtt - mns < 0) {\n          moinslitre = 1;\n        }\n      }\n      if (normalQttLitre - (moinslitre + qttlitre) < 0) {\n        isValid = false;\n      }\n    }\n\n    return {\n      normalQtt,\n      normalQttCC,\n      normalQttLitre,\n      isSpecific,\n      isValid,\n    };\n  } else {\n    let qtt = realQtt;\n    let qttcc = realQttCC;\n    let normalQtt = product.quantityBruteCVA;\n    let normalQttCC = product.quantityCCCVA;\n    let dose = product.doseDefault;\n    let normalQttLitre = product.quantityBruteCVA;\n    isSpecific = false;\n    let isValid = true;\n    if (qtt == 0 && qttcc > 0) {\n      let moins = 0,\n        reste = 0;\n      if (Number(qttcc) > Number(dose)) {\n        moins = Math.floor(Number(qttcc) / Number(dose));\n        reste = Number(qttcc) - Number(dose) * moins;\n        console.log(reste);\n        if (normalQttCC - reste < 0) {\n          moins += 1;\n        }\n      } else {\n        if (normalQttCC - Number(qttcc) < 0) {\n          moins = 1;\n        }\n      }\n\n      if (qttcc > normalQttCC) {\n        if (normalQtt - moins < 0) {\n          isValid = false;\n          normalQtt = qtt;\n        }\n      }\n    }\n    if (qtt > 0 && qttcc == 0) {\n      if (qtt > normalQtt) {\n        isValid = false;\n        normalQttCC = qttcc;\n      }\n    }\n    if (qtt > 0 && qttcc > 0) {\n      let moins,\n        reste = 0;\n      if (Number(qttcc) > Number(dose)) {\n        moins = Math.floor(Number(qttcc) / Number(dose));\n        reste = Number(qttcc) - Number(dose) * moins;\n        console.log(reste);\n        if (normalQttCC - reste < 0) {\n          moins += 1;\n        }\n      } else {\n        if (normalQttCC - Number(qttcc) < 0) {\n          moins = 1;\n        }\n      }\n\n      if (Number(normalQtt) - (Number(moins) + Number(qtt)) < 0) {\n        isValid = false;\n      }\n      if (qtt > normalQtt) {\n        isValid = false;\n        normalQttCC = qttcc;\n      }\n    }\n    return {\n      normalQtt,\n      normalQttCC,\n      normalQttLitre,\n      isValid,\n      isSpecific,\n    };\n  }\n};\n\nexport const blockItis = (product, minitial, initial) => {\n  const initialCom = minitial.contenu.find((e) => e.id == product.id);\n  console.log(\"minitial\", minitial);\n  let isSpecific = false;\n  let diff = 0,\n    diffcc = 0,\n    diffl = 0,\n    isValid = true;\n  let etat = \"none\";\n\n  let normalQtt = initial.quantityParProduct;\n  let normalQttCC = initial.qttByCC;\n  let normalQttLitre = initial.qttbylitre;\n\n  if (isSpecialProductHandle(product)) {\n    isSpecific = true;\n    isSpecific = false;\n    // commande actuel\n    let qtt = initial.quantityParProduct;\n    let qttcc = initial.qttByCC;\n    let qttlitre = initial.qttbylitre;\n    // commande initial\n    console.log(qtt, qttcc);\n    let cmdqtt = initialCom!=undefined\n      ? initialCom?.quantityParProduct\n      : initial.condval;\n    let cmdqttcc = initialCom!=undefined\n      ? initialCom?.qttByCC\n      : initial.quantityCCCVA;\n    let cmdqttlitre = initialCom!=undefined\n      ? initialCom?.qttbylitre\n      : initial.quantityBruteCVA;\n    console.log(cmdqtt, cmdqttcc, cmdqttlitre);\n    if (qttlitre == cmdqttlitre && qtt == cmdqtt && qttcc == cmdqttcc) {\n      etat = \"qttlitre == cmdqttlitre && qtt == cmdqtt && qttcc == cmdqttcc\";\n    }\n    if (qttlitre == cmdqttlitre && qtt == cmdqtt && qttcc > cmdqttcc) {\n      etat = \"qttlitre == cmdqttlitre && qtt == cmdqtt && qttcc > cmdqttcc\";\n      diffcc = qttcc - cmdqttcc;\n      isValid = decrementX(product, diffcc, diff, diffl);\n      if (isValid == false) {\n        normalQttCC = cmdqttcc;\n      }\n    }\n    if (qttlitre == cmdqttlitre && qtt == cmdqtt && qttcc < cmdqttcc) {\n      etat = \"qttlitre == cmdqttlitre && qtt == cmdqtt && qttcc < cmdqttcc\";\n      diffcc = cmdqttcc - qttcc;\n      //incrementX(product, diffcc, diff, diffl);\n      isValid = true;\n    }\n    if (qttlitre == cmdqttlitre && qtt > cmdqtt && qttcc == cmdqttcc) {\n      etat = \"qttlitre == cmdqttlitre && qtt > cmdqtt && qttcc == cmdqttcc\";\n      diff = qtt - cmdqtt;\n      isValid = decrementX(product, diffcc, diff, diffl);\n      if (isValid == false) {\n        normalQtt = cmdqtt;\n      }\n    }\n    if (qttlitre == cmdqttlitre && qtt < cmdqtt && qttcc == cmdqttcc) {\n      etat = \"qttlitre == cmdqttlitre && qtt < cmdqtt && qttcc == cmdqttcc\";\n      diff = cmdqtt - qtt;\n      //incrementX(product, diffcc, diff, diffl);\n      isValid = true;\n    }\n    if (qttlitre == cmdqttlitre && qtt > cmdqtt && qttcc > cmdqttcc) {\n      etat = \"qttlitre == cmdqttlitre && qtt > cmdqtt && qttcc > cmdqttcc\";\n      diff = qtt - cmdqtt;\n      diffcc = qttcc - cmdqttcc;\n      isValid = decrementX(product, diffcc, diff, diffl);\n      if (isValid == false) {\n        normalQttCC = cmdqttcc;\n        normalQtt = cmdqtt;\n      }\n    }\n    if (qttlitre == cmdqttlitre && qtt < cmdqtt && qttcc < cmdqttcc) {\n      etat = \"qttlitre == cmdqttlitre && qtt < cmdqtt && qttcc < cmdqttcc\";\n      diff = cmdqtt - qtt;\n      diffcc = cmdqttcc - qttcc;\n      //incrementX(product, diffcc, diff, diffl);\n      isValid = true;\n    }\n    if (qttlitre == cmdqttlitre && qtt > cmdqtt && qttcc < cmdqttcc) {\n      etat = \"qttlitre == cmdqttlitre && qtt > cmdqtt && qttcc < cmdqttcc\";\n      diff = qtt - cmdqtt;\n      diffcc = cmdqttcc - qttcc;\n      isValid = decrementX(product, diffcc, diff, diffl, \"incdec\");\n      if (isValid == false) {\n        normalQttCC = cmdqttcc;\n        normalQtt = cmdqtt;\n      }\n    }\n    if (qttlitre == cmdqttlitre && qtt < cmdqtt && qttcc > cmdqttcc) {\n      etat = \"qttlitre == cmdqttlitre && qtt < cmdqtt && qttcc > cmdqttcc\";\n      diff = cmdqtt - qtt;\n      diffcc = qttcc - cmdqttcc;\n      isValid = incrementX(product, diffcc, diff, diffl, \"decinc\");\n      if (isValid == false) {\n        normalQttCC = cmdqttcc;\n        normalQtt = cmdqtt;\n      }\n    }\n    if (qttlitre > cmdqttlitre && qtt == cmdqtt && qttcc == cmdqttcc) {\n      etat = \"qttlitre > cmdqttlitre && qtt == cmdqtt && qttcc == cmdqttcc\";\n      diffl = qttlitre - cmdqttlitre;\n      isValid = decrementX(product, diffcc, diff, diffl);\n      if (isValid == false) {\n        normalQttLitre = cmdqttlitre;\n      }\n    }\n    if (qttlitre < cmdqttlitre && qtt == cmdqtt && qttcc == cmdqttcc) {\n      etat = \"qttlitre < cmdqttlitre && qtt == cmdqtt && qttcc == cmdqttcc\";\n      diffl = cmdqttlitre - qttlitre;\n      //incrementX(product, diffcc, diff, diffl);\n      isValid = true;\n    }\n    if (qttlitre > cmdqttlitre && qtt > cmdqtt && qttcc > cmdqttcc) {\n      etat = \"qttlitre > cmdqttlitre && qtt > cmdqtt && qttcc > cmdqttcc\";\n      diff = qtt - cmdqtt;\n      diffcc = qttcc - cmdqttcc;\n      diffl = qttlitre - cmdqttlitre;\n      isValid = decrementX(product, diffcc, diff, diffl);\n      if (isValid == false) {\n        normalQttCC = cmdqttcc;\n        normalQtt = cmdqtt;\n        normalQttLitre = cmdqttlitre;\n      }\n    }\n    if (qttlitre > cmdqttlitre && qtt > cmdqtt && qttcc < cmdqttcc) {\n      etat = \"qttlitre > cmdqttlitre && qtt > cmdqtt && qttcc < cmdqttcc\";\n      diff = qtt - cmdqtt;\n      diffcc = cmdqttcc - qttcc;\n      diffl = qttlitre - cmdqttlitre;\n      isValid = decrementX(product, diffcc, diff, diffl, \"incdec\");\n      if (isValid == false) {\n        normalQttCC = cmdqttcc;\n        normalQtt = cmdqtt;\n        normalQttLitre = cmdqttlitre;\n      }\n    }\n    if (qttlitre > cmdqttlitre && qtt < cmdqtt && qttcc > cmdqttcc) {\n      etat = \"qttlitre > cmdqttlitre && qtt < cmdqtt && qttcc > cmdqttcc\";\n      diff = cmdqtt - qtt;\n      diffcc = qttcc - cmdqttcc;\n      diffl = qttlitre - cmdqttlitre;\n      isValid = incrementX(product, diffcc, diff, diffl, \"decinc\");\n      if (isValid == false) {\n        normalQttCC = cmdqttcc;\n        normalQtt = cmdqtt;\n        normalQttLitre = cmdqttlitre;\n      }\n    }\n    if (qttlitre > cmdqttlitre && qtt < cmdqtt && qttcc < cmdqttcc) {\n      etat = \"qttlitre > cmdqttlitre && qtt < cmdqtt && qttcc < cmdqttcc\";\n      diff = cmdqtt - qtt;\n      diffcc = cmdqttcc - qttcc;\n      diffl = qttlitre - cmdqttlitre;\n      isValid = incrementX(product, diffcc, diff, diffl, \"mcinc\");\n      if (isValid == false) {\n        normalQttCC = cmdqttcc;\n        normalQtt = cmdqtt;\n        normalQttLitre = cmdqttlitre;\n      }\n    }\n    if (qttlitre < cmdqttlitre && qtt > cmdqtt && qttcc > cmdqttcc) {\n      etat = \"qttlitre < cmdqttlitre && qtt > cmdqtt && qttcc > cmdqttcc\";\n      diff = qtt - cmdqtt;\n      diffcc = qttcc - cmdqttcc;\n      diffl = cmdqttlitre - qttlitre;\n      isValid = decrementX(product, diffcc, diff, diffl, \"pcdec\");\n      if (isValid == false) {\n        normalQttCC = cmdqttcc;\n        normalQtt = cmdqtt;\n        normalQttLitre = cmdqttlitre;\n      }\n    }\n    if (qttlitre < cmdqttlitre && qtt > cmdqtt && qttcc < cmdqttcc) {\n      etat = \"qttlitre < cmdqttlitre && qtt > cmdqtt && qttcc < cmdqttcc\";\n      diff = qtt - cmdqtt;\n      diffcc = cmdqttcc - qttcc;\n      diffl = cmdqttlitre - qttlitre;\n      isValid = decrementX(product, diffcc, diff, diffl, \"mincdec\");\n      if (isValid == false) {\n        normalQttCC = cmdqttcc;\n        normalQtt = cmdqtt;\n        normalQttLitre = cmdqttlitre;\n      }\n    }\n    if (qttlitre < cmdqttlitre && qtt < cmdqtt && qttcc > cmdqttcc) {\n      etat = \"qttlitre < cmdqttlitre && qtt < cmdqtt && qttcc > cmdqttcc\";\n      diff = cmdqtt - qtt;\n      diffcc = qttcc - cmdqttcc;\n      diffl = cmdqttlitre - qttlitre;\n      isValid = incrementX(product, diffcc, diff, diffl, \"mdecinc\");\n      if (isValid == false) {\n        normalQttCC = cmdqttcc;\n        normalQtt = cmdqtt;\n        normalQttLitre = cmdqttlitre;\n      }\n    }\n    if (qttlitre < cmdqttlitre && qtt < cmdqtt && qttcc < cmdqttcc) {\n      etat = \"qttlitre < cmdqttlitre && qtt < cmdqtt && qttcc < cmdqttcc\";\n      diff = cmdqtt - qtt;\n      diffcc = cmdqttcc - qttcc;\n      diffl = cmdqttlitre - qttlitre;\n      isValid = true;\n      //incrementX(product, diffcc, diff, diffl);\n    }\n  } else {\n    isSpecific = false;\n    // commande actuel\n    let qtt = initial.quantityParProduct;\n    let qttcc = initial.qttByCC;\n    // commande initial\n    console.log(qtt, qttcc);\n    let cmdqtt = initialCom!=undefined\n      ? initialCom?.quantityParProduct\n      : initial.quantityBruteCVA;\n    let cmdqttcc =  initialCom!=undefined\n      ? initialCom?.qttByCC\n      : initial.quantityCCCVA;\n    console.log(cmdqtt, cmdqttcc);\n    if (qtt > cmdqtt && qttcc == cmdqttcc) {\n      etat = \"qtt > cmdqtt && qttcc == cmdqttcc\";\n      diff = qtt - cmdqtt;\n      console.log(product.quantityBruteCVA, diff);\n      if (product.quantityBruteCVA - diff >= 0) {\n        isValid = true;\n      } else {\n        isValid = false;\n        normalQtt = cmdqtt;\n      }\n    }\n    if (qtt < cmdqtt && qttcc == cmdqttcc) {\n      etat = \"qtt < cmdqtt && qttcc == cmdqttcc\";\n      diff = cmdqtt - qtt;\n      isValid = true;\n    }\n    if (qtt == cmdqtt && qttcc == cmdqttcc) {\n      etat = \"qtt == cmdqtt && qttcc == cmdqttcc\";\n      isValid = true;\n    }\n\n    if (qtt == cmdqtt && qttcc > cmdqttcc) {\n      etat = \"qtt == cmdqtt && qttcc > cmdqttcc\";\n      diffcc = qttcc - cmdqttcc;\n      isValid = decrement(product, diffcc);\n      normalQttCC = cmdqttcc;\n    }\n    if (qtt == cmdqtt && qttcc < cmdqttcc) {\n      etat = \"qtt == cmdqtt && qttcc < cmdqttcc\";\n      diffcc = cmdqttcc - qttcc;\n      isValid = true;\n    }\n    if (qtt > cmdqtt && qttcc < cmdqttcc) {\n      // ok\n      etat = \"qtt > cmdqtt && qttcc < cmdqttcc\";\n      diff = qtt - cmdqtt;\n      diffcc = cmdqttcc - qttcc;\n      isValid = decrement(product, diffcc, diff, \"incdec\");\n      normalQtt = cmdqtt;\n      normalQttCC = cmdqttcc;\n    }\n    if (qtt < cmdqtt && qttcc > cmdqttcc) {\n      // ok - il faut tester derniere fois si le cc restant est insuffisant\n      etat = \"qtt < cmdqtt && qttcc > cmdqttcc\";\n      diff = cmdqtt - qtt;\n      diffcc = qttcc - cmdqttcc;\n      isValid = true;\n    }\n    if (qtt < cmdqtt && qttcc < cmdqttcc) {\n      diff = cmdqtt - qtt;\n      diffcc = cmdqttcc - qttcc;\n      etat = \"qtt < cmdqtt && qttcc < cmdqttcc\";\n      isValid = true;\n    }\n    if (qtt > cmdqtt && qttcc > cmdqttcc) {\n      diff = qtt - cmdqtt;\n      diffcc = qttcc - cmdqttcc;\n      etat = \"qtt > cmdqtt && qttcc > cmdqttcc\";\n      isValid = decrementDecrement(product, diffcc, diff);\n      normalQtt = cmdqtt;\n      normalQttCC = cmdqttcc;\n    }\n  }\n\n  console.log(\"--------\" + etat + \"---------\");\n\n  return { normalQtt, normalQttCC, normalQttLitre, isSpecific, isValid };\n};\n\nexport const blockItOnEdit = (\n  realQtt,\n  realQttCC,\n  realQttLitre,\n  product,\n  initialCommande\n) => {\n  let isSpecific = false;\n  if (isSpecialProductHandle(product)) {\n    isSpecific = true;\n    let qtt = realQtt;\n    let qttcc = realQttCC;\n    let qttlitre = realQttLitre;\n    let normalQtt = product?.condval;\n    let normalQttCC = product?.quantityCCCVA;\n    let normalQttLitre = product?.quantityBruteCVA;\n    let condsize = product?.condsize;\n    let dose = product?.doseDefault;\n    let condml = product?.condml;\n    let initialCQtt = initialCommande.quantityParProduct;\n    let initialCQttCC = initialCommande.qttByCC;\n    let initialCQttLitre = initialCommande.qttbylitre;\n\n    let isValid = true;\n    let diff = 0,\n      diffcc = 0,\n      diffl = 0;\n\n    if (qttlitre > initialCQttLitre && qtt == 0 && qttcc == 0) {\n      diffl = qttlitre - initialCQttLitre;\n      if (normalQttLitre - diffl < 0) {\n        isValid = false;\n        normalQttLitre = initialCQttLitre;\n        normalQtt = qtt;\n        normalQttCC = qttcc;\n      }\n    }\n    if (qttlitre == 0 && qtt > 0 && qttcc == 0) {\n      let moins = 0,\n        reste = 0;\n      diff = qtt - initialCQtt;\n\n      if (Number(diff) >= Number(condsize)) {\n        moins = Math.floor(Number(diff) / Number(condsize));\n        reste = Number(diff) - Number(condsize) * moins;\n        if (normalQtt - reste < 0) {\n          moins += 1;\n        }\n      } else {\n        if (normalQtt - diff < 0) {\n          moins = 1;\n        }\n      }\n      if (normalQttLitre - moins < 0) {\n        isValid = false;\n        normalQttLitre = qttlitre;\n        normalQtt = initialCQtt;\n        normalQttCC = qttcc;\n      }\n    }\n    if (qttlitre == 0 && qtt == 0 && qttcc > 0) {\n      let moins = 0,\n        reste = 0,\n        moinslitre = 0,\n        restelitre = 0;\n      diffcc = qttcc - initialCQttCC;\n      if (Number(diffcc) >= Number(condml)) {\n        moins = Math.floor(Number(diffcc) / Number(condml));\n        reste = Number(diffcc) - Number(condml) * moins;\n        if (normalQttCC - reste < 0) {\n          moins += 1;\n        }\n      } else if (normalQttCC - diffcc < 0) {\n        moins = 1;\n      }\n\n      if (Number(moins) >= Number(condsize)) {\n        moinslitre = Math.floor(Number(moins) / Number(condsize));\n        restelitre = Number(moins) - Number(condsize) * moinslitre;\n        if (normalQtt - restelitre < 0) {\n          moinslitre += 1;\n        }\n      } else {\n        if (normalQtt - moins < 0) {\n          moinslitre = 1;\n        }\n      }\n      if (normalQttLitre - moinslitre < 0) {\n        isValid = false;\n        normalQttLitre = qttlitre;\n        normalQtt = qtt;\n        normalQttCC = initialCQttCC;\n      }\n    }\n\n    if (qttlitre == 0 && qtt > 0 && qttcc > 0) {\n      let moins = 0,\n        reste = 0,\n        moinslitre = 0,\n        restelitre = 0;\n      diff = qtt - initialCQtt;\n      diffcc = qttcc - initialCQttCC;\n      if (Number(diffcc) >= Number(condml)) {\n        moins = Math.floor(Number(diffcc) / Number(condml));\n        reste = Number(diffcc) - Number(condml) * moins;\n        if (normalQttCC - reste < 0) {\n          moins += 1;\n        }\n      } else if (normalQttCC - diffcc < 0) {\n        moins = 1;\n      }\n      let mmm = Number(moins) + diff;\n      if (Number(mmm) >= Number(condsize)) {\n        moinslitre = Math.floor(Number(mmm) / Number(condsize));\n        restelitre = Number(mmm) - Number(condsize) * moinslitre;\n        if (normalQtt - restelitre < 0) {\n          moinslitre += 1;\n        }\n      } else {\n        if (normalQtt - mmm < 0) {\n          moinslitre = 1;\n        }\n      }\n\n      if (normalQttLitre - moinslitre < 0) {\n        isValid = false;\n        normalQttLitre = qttlitre;\n        normalQtt = initialCQtt;\n        normalQttCC = initialCQttCC;\n      }\n    }\n    if (qttlitre > 0 && qtt > 0 && qttcc == 0) {\n      let moins = 0;\n      diff = qtt - initialCQtt;\n      diffl = qttlitre - initialCQttLitre;\n\n      if (Number(diff) >= Number(condsize)) {\n        moins = Math.floor(Number(diff) / Number(condsize));\n        reste = Number(diff) - Number(condsize) * moins;\n        if (normalQttCC - reste < 0) {\n          moins += 1;\n        }\n      } else if (normalQtt - diff < 0) {\n        moins = 1;\n      }\n      if (normalQttLitre - (moins + diffl) < 0) {\n        isValid = false;\n        normalQttLitre = qttlitre;\n        normalQtt = qtt;\n        normalQttCC = initialCQttCC;\n      }\n    }\n\n    if (qttlitre > 0 && qtt == 0 && qttcc > 0) {\n      let moins = 0,\n        reste = 0;\n      let moinsl = 0,\n        restel = 0;\n      diff = qtt - initialCQtt;\n      diffl = qttlitre - initialCQttLitre;\n\n      if (Number(diffcc) >= Number(condml)) {\n        moins = Math.floor(Number(diffcc) / Number(condml));\n        reste = Number(diffcc) - Number(condml) * moins;\n        if (normalQttCC - reste < 0) {\n          moins += 1;\n        }\n      } else if (normalQttCC - diffcc < 0) {\n        moins = 1;\n      }\n\n      if (Number(moins) >= Number(condsize)) {\n        moinsl = Math.floor(Number(diff) / Number(condsize));\n        restel = Number(diff) - Number(condsize) * moinsl;\n        if (normalQtt - reste < 0) {\n          moinsl += 1;\n        }\n      } else if (normalQtt - moins < 0) {\n        moinsl = 1;\n      }\n      if (normalQttLitre - (moinsl + diffl) < 0) {\n        isValid = false;\n        normalQttLitre = initialCQttLitre;\n        normalQtt = qtt;\n        normalQttCC = initialCQttCC;\n      }\n    }\n    if (qttlitre > 0 && qtt > 0 && qttcc > 0) {\n      diff = qtt - initialCQtt;\n      diffl = qttlitre - initialCQttLitre;\n      diffcc = qttcc - initialCQttCC;\n\n      let moins = 0,\n        reste = 0;\n      let moinsl = 0,\n        restel = 0;\n\n      if (Number(diffcc) >= Number(condml)) {\n        moins = Math.floor(Number(diffcc) / Number(condml));\n        reste = Number(diffcc) - Number(condml) * moins;\n        if (normalQttCC - reste < 0) {\n          moins += 1;\n        }\n      } else if (normalQttCC - diffcc < 0) {\n        moins = 1;\n      }\n      let mmm = Number(moins) + diff;\n      if (mmm > Number(condsize)) {\n        moinsl = Math.floor(Number(diff) / Number(condsize));\n        restel = Number(diff) - Number(condsize) * moinsl;\n        if (normalQtt - reste < 0) {\n          moinsl += 1;\n        }\n      } else if (normalQtt - mmm < 0) {\n        moinsl = 1;\n      }\n      if (normalQttLitre - (moinsl + diffl) < 0) {\n        isValid = false;\n        normalQttLitre = initialCQttLitre;\n        normalQtt = initialCQtt;\n        normalQttCC = initialCQttCC;\n      }\n    }\n\n    return {\n      normalQtt,\n      normalQttCC,\n      normalQttLitre,\n      isValid,\n      isSpecific,\n    };\n  } else {\n    let qtt = realQtt;\n    let qttcc = realQttCC;\n    let normalQtt = product[0]?.quantityBruteCVA;\n    let normalQttCC = product[0]?.quantityCCCVA;\n    let normalQttLitre = product[0]?.quantityBruteCVA;\n    let initialCQtt = initialCommande.quantityParProduct;\n    let initialCQttCC = initialCommande.qttByCC;\n    let initialCQttLitre = initialCommande.qttbylitre;\n    let dose = product.condml;\n    let isValid = true;\n    isSpecific = false;\n    let diff = 0,\n      diffcc = 0,\n      diffl = 0;\n\n    if (qtt > initialCQtt && (qttcc == 0 || qttcc == null)) {\n      let moins = 0,\n        reste = 0;\n      diff = qtt - initialCQtt;\n\n      if (normalQtt - diff < 0) {\n        isValid = false;\n        normalQtt = initialCQtt;\n      }\n    }\n    if (qtt == 0 && qttcc > initialCQttCC) {\n      let moins = 0,\n        reste = 0;\n      diffcc = qttcc - initialCQttCC;\n\n      if (Number(diffcc) > Number(dose)) {\n        moins = Math.floor(Number(diffcc) / Number(dose));\n        reste = Number(diffcc) - Number(dose) * moins;\n        console.log(reste);\n        if (normalQttCC - reste < 0) {\n          moins += 1;\n        }\n      } else {\n        if (normalQttCC - Number(diffcc) < 0) {\n          moins = 1;\n        }\n      }\n\n      if (normalQtt - moins < 0) {\n        isValid = false;\n        normalQttCC = initialCQttCC;\n      }\n    }\n\n    if (qtt > 0 && qttcc > 0) {\n      let moins = 0,\n        reste = 0;\n      diff = qtt - initialCQtt;\n      diffcc = qttcc - initialCQttCC;\n      if (Number(diffcc) > Number(dose)) {\n        moins = Math.floor(Number(diffcc) / Number(dose));\n        reste = Number(diffcc) - Number(dose) * moins;\n        console.log(reste);\n        if (normalQttCC - reste < 0) {\n          moins += 1;\n        }\n      } else {\n        if (normalQttCC - Number(diffcc) < 0) {\n          moins = 1;\n        }\n      }\n\n      if (normalQtt - (moins + diff) < 0) {\n        isValid = false;\n        normalQtt = initialCQtt;\n        normalQttCC = initialCQttCC;\n      }\n    }\n\n    return {\n      normalQtt,\n      normalQttCC,\n      normalQttLitre,\n      isValid,\n      isSpecific,\n    };\n  }\n};\nexport const blockItOnMinus = (productItem, commandeItem) => {\n  let isValid = true;\n  let isSpecific = false;\n  if (isSpecialProductHandle(productItem)) {\n    isSpecific = true;\n  } else {\n    let normalQtt = productItem.quantityBruteCVA;\n    let normalQttCC = productItem.quantityCCCVA;\n    let normalQttLitre = productItem.quantityBruteCVA;\n    let initialCQtt = commandeItem.quantityParProduct;\n    let initialCQttCC = commandeItem.qttByCC;\n    let initialCQttLitre = commandeItem.qttbylitre;\n    isSpecific = false;\n    if (initialCQtt > 0 && (initialCQttCC == 0 || initialCQttCC == null)) {\n      if (normalQtt - initialCQtt < 0) {\n        isValid = false;\n      }\n    }\n    if (initialCQtt == 0 && initialCQttCC > 0) {\n      if (normalQttCC - initialCQttCC < 0) {\n        isValid = false;\n      }\n    }\n\n    if (initialCQtt > 0 && initialCQttCC > 0) {\n    }\n  }\n\n  return { isValid, isSpecific };\n};\nexport const blockItOnDelete = () => {};\nexport const isBlocked = (productItem) => {\n  if (isSpecialProductHandle(productItem)) {\n    if (\n      productItem.quantityBruteCVA == 0 &&\n      productItem.quantityCCCVA == 0 &&\n      productItem.condval == 0\n    )\n      return true;\n    else return false;\n  } else {\n    if (productItem.quantityBruteCVA == 0 && productItem.quantityCCCVA == 0)\n      return true;\n    else return false;\n  }\n};\nexport const isLocked = (productItem) => {\n  if (isSpecialProductHandle(productItem)) {\n    if (\n      productItem.quantityParProduct == 0 &&\n      productItem.qttByCC == 0 &&\n      productItem.qttbylitre == 0\n    )\n      return true;\n    else return false;\n  } else {\n    if (productItem.quantityParProduct == 0 && productItem.qttByCC == 0)\n      return true;\n    else return false;\n  }\n};\nexport const locked = (elements) => {\n  return elements.filter((el) => isLocked(el)).length > 0 ? true : false;\n};\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport FromDepotItem from \"./FromDepotItem\";\nimport { Card } from \"react-bootstrap\";\nimport { action, getData } from \"../../utils/lib/call\";\nimport { displayMoney, checkHasExistText } from \"../../utils/functions\";\nimport { useHistory } from \"react-router-dom\";\nimport {\n  handleMinusProductDepot,\n  handlePhtyoSpecificDepot,\n  handleSoldQuantityCCDepot,\n} from \"../../store/functions/function-depot\";\nimport { clearFromDepot } from \"../../store/fromdepot/actions/fromdepot\";\nimport { SORTIE } from \"../../constants/routes\";\nimport EditFromDepotItem from \"./EditFromDepotItem\";\nimport { isSpecialProductHandle } from '../composants/vendeur/fromMagasin/block-it';\nconst calculateTotal = (arr) => {\n  if (!arr || arr?.length === 0) return 0;\n  const total = arr.reduce((acc, val) => acc + val, 0);\n  return total;\n};\nfunction copy(object) {\n  var output, value, key;\n  output = Array.isArray(object) ? [] : {};\n  for (key in object) {\n    value = object[key];\n    output[key] = typeof value === \"object\" ? copy(value) : value;\n  }\n  return output;\n}\nconst EditFromDepot = ({\n  state,\n  meta,\n  setState,\n  products,\n  commandes,\n  disabled,\n}) => {\n  const [type, setType] = useState(\"vente-depot\");\n  const [idFournisseur, setIdFournisseur] = useState(1);\n  const [vaccinateurId, setVaccinateurId] = useState(null);\n  const [emprunter, setEmprunter] = useState(null);\n  const history = useHistory();\n  const [realContent, setRealContent] = useState([]);\n\n  const { fromdepots } = useSelector((state) => ({\n    fromdepots: state.fromdepots,\n  }));\n  useEffect(() => {\n    setRealContent(commandes?.contenu);\n  }, [commandes]);\n  const dispatch = useDispatch();\n  const emprunters = useSelector(getData(\"emprunters\").value);\n  const vaccinateurs = useSelector(getData(\"vaccinateurs\").value);\n  //const meta = useSelector(getData(\"commandes\").meta);\n  //const commandes = useSelector(getData(\"commandes\").value);\n  const date = new Date();\n  const [dateCom, setDateCom] = useState(date);\n  useEffect(() => {\n    //  dispatch(action(\"commandes\").fetch());\n    dispatch(action(\"emprunters\").fetch());\n  }, []);\n  function inArray(value, values) {\n    for (var i = 0; i < values.length; i++) {\n      if (value === values[i]) return true;\n    }\n    return false;\n  }\n\n  function isInArray(value, array) {\n    return array.find((a) => value.id === a.id);\n  }\n  const getContenu = () => {\n    // console.log(missing);\n    const missing = copy(realContent).filter(\n      (e) => !state.find((a) => e.id === a.id)\n    );\n    /* missing.forEach((element) => {\n\n      action(\"products\").update({\n        id: element.id,\n        quantityBrute: element.quantityBrute - element.quantityParProduct,\n        quantityParProduct: 0,\n      });\n    });*/\n    const added = copy(realContent).filter(\n      (e) => !state.find((a) => e.id === a.id)\n    );\n\n    const exist = copy(realContent).map((element) => state.find((p) => p.id == element.id));\n\n     /* if (commandeLast != null || commandeLast != undefined) {\n        // if(element.quantityParProduct){}\n        let qtt = 0;\n        if (\n          element.quantityParProductDepot * 1 >\n          commandeLast.quantityParProductDepot * 1\n        ) {\n          qtt =\n            element.quantityParProductDepot * 1 -\n            commandeLast.quantityParProductDepot * 1;\n          element.quantityBrute = commandeLast.quantityBrute - qtt;\n        }\n        if (\n          commandeLast.quantityParProductDepot * 1 >\n          element.quantityParProductDepot * 1\n        ) {\n          qtt =\n            commandeLast.quantityParProductDepot * 1 -\n            element.quantityParProductDepot * 1;\n          element.quantityBrute = commandeLast.quantityBrute + qtt;\n        }\n        if (\n          element.quantityParProductDepot * 1 ==\n          commandeLast.quantityParProductDepot * 1\n        ) {\n          element.quantityBrute = commandeLast.quantityBrute;\n        }\n        return element;\n      } else {\n        return null;\n      }*/\n    return {\n      exist: exist.filter((e) => e != null),\n      added,\n      missing,\n    };\n  };\n\n  const onCheckOut = () => {\n    const { exist, added, missing } = getContenu();\n    dispatch(\n      action(\"commandes\").updateTransaction(\n        {\n          id: commandes?.id,\n          contenu: state,\n          type: \"vente-depot\",\n          sorte: \"sortie\",\n          vaccinateurId: vaccinateurId,\n          status: type === \"direct\" ? true : false,\n          emprunterId: emprunter,\n          dateCom: dateCom != null ? dateCom : date,\n          exist: exist,\n          added: added,\n          missing: missing,\n        },\n        \"update-from-depot\"\n      )\n    );\n\n    history.push(SORTIE);\n  };\n\n  /* const onCheckOut = () => {\n    const { exist, added, missing } = getContenu();\n    console.log(\"state\", state.length);\n    console.log(\"realcont\", realContent.length);\n    console.log(\"exist\", JSON.stringify(exist));\n    console.log(\"added\", JSON.stringify(added));\n    console.log(\"missing\", JSON.stringify(missing));\n     fromdepots.forEach((element) => {\n      delete element.busy;\n      delete element.pendingCreate;\n      handleMinusProductDepot(element);\n      if (element.condmldepot != 0 && element.qttccpventedepot != 0) {\n        handlePhtyoSpecificDepot(element);\n      } else {\n        handleSoldQuantityCCDepot(element);\n      }\n      console.log(element);\n    });*/\n  //console.log(fromdepots);\n  /*  dispatch(\n      action(\"commandes\").create({\n        id: Math.floor(Date.now() / 1000),\n        contenu: state?.state,\n        type: \"vente-depot\",\n        sorte: \"sortie\",\n        qtteBrute: 1,\n        qtteCC: 1,\n        vaccinateurId: vaccinateurId,\n        status: type === \"direct\" ? true : false,\n        emprunterId: emprunter,\n        dateCom: dateCom != null ? dateCom : date,\n      })\n    );*/\n  /*if (!meta.error) {\n      state?.state?.forEach((element) => {\n        let idElement = element.id;\n        element.quantityParProductDepot = 0;\n        element.qttByCCDepot = 0;\n        element.qttyspecificmirrordepot = 0;\n        element.id = idElement;\n        dispatch(action(\"products\").update(element));\n      });\n    }\n    //dispatch(clearFromDepot());\n    //   history.push(SORTIE);\n  };*/\n\n  const onClearBasket = () => {\n    state?.forEach((element) => {\n      element.quantityParProductDepot = 0;\n      element.qttByCCDepot = 0;\n    });\n\n    dispatch(clearFromDepot());\n  };\n  return (\n    <>\n      <Card>\n        <Card.Header className=\" bg-dark py-2 text-white d-flex justify-content-between align-items-center\">\n          <div style={{ width: \"60%\" }}>BON DE SORTIE</div>\n          <div style={{ width: \"30%\" }} className=\"text-right\">\n            <select\n              disabled={disabled}\n              className=\"form-control input-sm\"\n              onChange={(e) => {\n                setType(e.target.value);\n              }}\n            >\n              <option value=\"vente-depot\">Comptant</option>\n              <option value=\"vente-depot-credit\">Credit</option>\n              <option value=\"vente-depot-vaccinateur\">Vaccinateur</option>\n            </select>\n          </div>\n        </Card.Header>\n        <div className=\"commande-vente\">\n          <Card.Body\n            style={{ padding: 12, marginTop: 3, marginRight: 2, marginLeft: 2 }}\n          >\n            <div\n              style={{\n                overflowY: \"auto\",\n                height: \"350px\",\n                maxHeight: \"350px\",\n                overflowX: \"hidden\",\n              }}\n            >\n              <div class=\"form-group\">\n                <label>Date de sortie :</label>\n                <div>\n                  <input\n                    disabled={disabled}\n                    type=\"date\"\n                    onChange={(e) => setDateCom(e.target.value)}\n                    value={dateCom}\n                    className=\"form-control\"\n                  />\n                </div>\n              </div>\n              {type === \"vente-depot-credit\" && (\n                <>\n                  <label>Crediteur:</label>\n                  <select\n                    disabled={disabled}\n                    className=\"form-control\"\n                    onChange={(e) => {\n                      setEmprunter(e.target.value);\n                    }}\n                  >\n                    <option value=\"\"></option>\n                    {emprunters.map((v) => (\n                      <option value={v.id}>{v.name}</option>\n                    ))}\n                  </select>\n                </>\n              )}\n              {type === \"vente-depot-vaccinateur\" && (\n                <>\n                  <label>Vaccinateur:</label>\n                  <select\n                    className=\"form-control\"\n                    onChange={(e) => {\n                      setVaccinateurId(e.target.value);\n                    }}\n                  >\n                    <option>Selectionner un vaccinateur</option>\n                    {vaccinateurs.map((v) => (\n                      <option value={v.id}>{v.name}</option>\n                    ))}\n                  </select>\n                </>\n              )}\n              {state?.length <= 0 && (\n                <div className=\"alert alert-success \">\n                  Aucune enregistrement trouv\n                </div>\n              )}\n              {state?.map((product, i) => (\n                <EditFromDepotItem\n                  key={`${product?.id}_${i}`}\n                  product={product}\n                  state={state}\n                  index={i}\n                  setState={setState}\n                  basket={fromdepots}\n                  dispatch={dispatch}\n                />\n              ))}\n            </div>\n          </Card.Body>\n\n          {state?.length > 0 && (\n            <Card.Footer className=\"d-flex align-items-center justify-content-between\">\n              <div style={{ width: \"30%\" }}>\n                <h2 className=\"p-2 text-uppercase bg-primary\">\n                  <strong data-test-id=\"total-price-orders\">\n                    Total:\n                    {displayMoney(\n                      calculateTotal(\n                        state?.map((product) => {\n                          return (\n                            isSpecialProductHandle(product) ? product.prixlitre * product.quantityParProductDepot : product.prixVente * product.quantityParProductDepot\n                          );\n                        })\n                      ) +\n                        calculateTotal(\n                          state?.state?.map((product) => {\n                            return product.prixParCC * product.qttByCCDepot;\n                          })\n                        )\n                    )}\n                  </strong>\n                </h2>\n              </div>\n              <div style={{ width: \"70%\" }}>\n                {state?.length > 0 && (\n                  <div className=\"d-flex text-right align-items-end justify-content-end\">\n                    <button\n                      disabled={disabled}\n                      className=\"btn btn-green btn-sm mr-2\"\n                      disabled={state?.length === 0}\n                      onClick={onCheckOut}\n                      type=\"button\"\n                    >\n                      Valider l'operation\n                    </button>\n                    <button\n                      disabled={disabled}\n                      className=\"btn btn-danger btn-sm\"\n                      onClick={onClearBasket}\n                      type=\"button\"\n                    >\n                      <span>Annuler</span>\n                    </button>\n                  </div>\n                )}\n              </div>\n            </Card.Footer>\n          )}\n        </div>\n      </Card>\n    </>\n  );\n};\n\nexport default EditFromDepot;\n","import React, { useEffect } from \"react\";\nimport { Col, ListGroup, Row } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport useFromDepot from \"../../hooks/useFromDepot\";\nimport { displayMoney } from \"../../utils/functions\";\nconst EditProductItemDepot = ({ state, setState, product }) => {\n  const fromdepots = useSelector((state) => state.fromdepots);\n  const dispatch = useDispatch();\n\n  const itemOnBasket = !!state?.find((item) => item?.id === product.id);\n\n  const removeProduct = (id) => {\n    setState(state.filter((t) => t.id !== id));\n  };\n  const handleAddToBasket = () => {\n    setState(\n      state.some((p) => p.id === product.id) ? state : [product, ...state]\n    );\n  };\n\n  return (\n    <>\n      <ListGroup.Item\n        className=\"mb-2 mr-3\"\n        style={{ border: \"1px solid gray\" }}\n      >\n        <div className=\" d-flex justify-content-between align-items-center\">\n          <div\n            className={` ${!product.id ? \"product-loading\" : \"\"}`}\n            style={{\n              boxShadow:\n                product && itemOnBasket\n                  ? \"15px 10px 15px rgba(0, 0, 0, .07)\"\n                  : \"none\",\n            }}\n          >\n            <div>\n              {product.name}{\" \"}\n              <div class=\"badge badge-primary\">\n                {product?.fournisseur?.name}\n              </div>\n              <br />\n              {/**    <strong>\n              {product.type}:{product.quantityBruteCVA}\n\n             \n            </strong>\n            <br />\n            {product.type == \"FLACON\" && (\n              <>\n                <strong>ML: {product.quantityCCCVA} ml</strong>\n                <br />\n                \n              </>           disabled={ \n              product.quantityBruteCVA === 0 && (product.quantityCCCVA == 0 || product.quantityCCCVA == null) && product.condval==0\n            }\n            )}\n            <strong>CondML: {product.condml}- Condval:{product.condval}</strong> */}\n            </div>{\" \"}\n            <div>\n              {product?.id && (\n                <>\n                  {!itemOnBasket ? (\n                    <button\n                      disabled={\n                        product.quantityBrute === 0 &&\n                        (product.quantityCC == 0 || product.quantityCC == null)\n                      }\n                      className={\"btn btn-green btn-sm\"}\n                      onClick={handleAddToBasket}\n                    >\n                      Ajouter\n                    </button>\n                  ) : (\n                    <button\n                      disabled={\n                        product.quantityBrute === 0 &&\n                        (product.quantityCC == 0 || product.quantityCC == null)\n                      }\n                      className={\"btn btn-danger btn-sm\"}\n                      onClick={() => removeProduct(product?.id)}\n                    >\n                      Retirer\n                    </button>\n                  )}\n                </>\n              )}\n            </div>\n          </div>\n        </div>\n      </ListGroup.Item>\n    </>\n  );\n};\n\nexport default EditProductItemDepot;\n","import React, { useState } from \"react\";\nimport ContentHeader from \"../../@adminlte/adminlte/Content/ContentHeader\";\nimport ActiveLink from \"../../@adminlte/adminlte/Content/ActiveLink\";\nimport Page from \"../../@adminlte/adminlte/Content/Page\";\nimport Content from \"../../@adminlte/adminlte/Content/index\";\nimport { Row, Col } from \"react-bootstrap\";\nimport { Container } from \"react-bootstrap\";\nimport { ListGroup } from \"react-bootstrap\";\nimport { Card } from \"react-bootstrap\";\nimport { useParams } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { useSelector } from \"react-redux\";\nimport { action, getData } from \"../../utils/lib/call\";\nimport searchByNameAndFournisseur from \"../../filters/searchByNameAndFournisseur\";\nimport searchByName from \"../../filters/searchByName\";\nimport searchByFournisseur from \"../../filters/searchByFournisseur\";\nimport { GetAll,Data } from \"../../utils/context/data-context\";\nimport EditFromDepot from './EditFromDepot';\nimport EditFromDepotItem from './EditFromDepotItem';\nimport EditProductItemDepot from \"./edit-item\";\n\nconst EditSortie = () => {\n  \n  const { id } = useParams();\n  const [regenerate, setRegenerate] = useState(false);\n  const dispatch = useDispatch();\n  const commandes = useSelector(getData(\"commandes\").value);\n  const metacommandes = useSelector(getData(\"commandes\").meta);\n  const products = useSelector(getData(\"products\").value);\n  const metaproducts = useSelector(getData(\"products\").meta);\n  const [productData, setProductData] = useState([]);\n  React.useEffect(() => {\n    dispatch(action(\"commandes\").get(id));\n  }, [id]);\n  const [value, setValue] = useState(\"\");\n\n  const [state, setState] = useState([]);\n  React.useEffect(() => {\n    if (regenerate == true) {\n      dispatch(action(\"products\").fetch());\n      setRegenerate(false);\n    }\n    return () => {\n      setRegenerate(false);\n    };\n  }, [regenerate]);\n\n  React.useEffect(() => {setProductData(searchByName(products, value));\n  }, [value]);\n\n  React.useEffect(() => {\n    dispatch(action(\"products\").fetch());\n  }, []);\n  \n  React.useEffect(() => {\n    if (!metacommandes.isFetching) {\n      setState(commandes[0]?.contenu);\n    }\n  }, [metacommandes]);\n  React.useEffect(() => {\n    if (!metaproducts.isFetching) {\n      setProductData(products);\n    }\n  }, [metaproducts]);\n  const setValueOf = (val)=> {\n    setState(val)\n  }\n  return (\n    <Content>\n      <ContentHeader title=\"Editer un bon de commande\">\n        <ActiveLink title=\"Editer un bon de commande\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n        <Container>\n          <Row>\n            <Col xs={6}>\n              <ListGroup>\n                <Card>\n                  <Card.Header className=\"d-flex justify-content-between align-items-center bg-dark text-white\">\n                    Produits\n                  </Card.Header>\n                  <Card.Body>\n                  <input\n                      type=\"text\"\n                      onChange={(e) => {\n                        setValue(e.target.value);\n                      }}\n                      placeholder=\"Rechercher un produit\"\n                      className=\"form-control mb-2\"\n                    />\n                    \n                    <div\n                      style={{\n                        overflowY: \"auto\",\n                        height: \"350px\",\n                        maxHeight: \"350px\",\n                        overflowX: \"hidden\",\n                      }}\n                    >\n                      <>\n                        {productData.map((p) => (\n                          <EditProductItemDepot\n                          state={state}\n                          setState={setState}\n                          product={p}\n                        />\n                        ))}\n                        {productData.length == 0 && \"Aucune enregistrement trouv\"}\n                      </>{\" \"}\n                    </div>\n                  </Card.Body>\n                </Card>\n              </ListGroup>\n            </Col>\n            <Col xs={6}>\n                <EditFromDepot\n                disabled={metaproducts.isFetching}\n                  state={state}\n                  meta={metacommandes}\n                  setState={setState}\n                  products={products}\n                  commandes={commandes[0]}\n                />\n            </Col>\n          </Row>\n        </Container>\n      </Page>\n    </Content>\n  );\n};\n\nexport default EditSortie;\n","export const SET_SEARCH_BY_DATE = \"SET_SEARCH_BY_DATE\";\nexport const RESET_SEARCH_BY_DATE = \"RESET_SEARCH_BY_DATE\";","import { RESET_SEARCH_BY_DATE, SET_SEARCH_BY_DATE } from \"../../constants\";\nexport const setSearchByDate = (deb, fin) => ({\n  type: SET_SEARCH_BY_DATE,\n  payload: {\n    deb: deb,\n    fin: fin,\n  },\n});\n\nexport const resetSearchByDate = (deb, fin) => ({\n  type: RESET_SEARCH_BY_DATE,\n});\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  addQtyFromMagasinDoseItem,\n  minusQtyFromMagasinDoseItem,\n} from \"../../../../store/frommagasin/actions/itanewMagasin\";\nimport {\n  NumberInput,\n  NumberInputField,\n  NumberInputStepper,\n  NumberIncrementStepper,\n  NumberDecrementStepper,\n} from \"@chakra-ui/react\";\nexport const ItaNewInputDose = ({\n  product,\n  update,\n  index,\n  state,\n  setState,\n  setRealQttCC,\n  realQttCC\n}) => {\n  const onAddQtyPortion = (value) => {\n    update(index, \"prixParCC\", value);\n  };\n  return (\n    <div className=\"basket-item-control\">\n      <NumberInput\n        inputMode={\"decimal\"}\n        w={28}\n        step={1}\n        bg={\"whitesmoke\"}\n        onChange={(value) => {\n          onAddQtyPortion(value);\n          setRealQttCC(value);\n        }}\n        min={0}\n        value={realQttCC}\n        defaultValue={product?.prixParCC}\n      >\n        <NumberInputField />\n        <NumberInputStepper>\n          <NumberIncrementStepper />\n          <NumberDecrementStepper />\n        </NumberInputStepper>\n      </NumberInput>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  addQtyFromMagasinSovaxItem,\n  minusQtyFromMagasinSovaxItem,\n} from \"../../../../store/frommagasin/actions/itanewMagasin\";\nimport {\n  NumberInput,\n  NumberInputField,\n  NumberInputStepper,\n  NumberIncrementStepper,\n  NumberDecrementStepper,\n} from \"@chakra-ui/react\";\nexport const SovaxInputDose = ({\n  product,\n  update,\n  index,\n  state,\n  setState,\n  setRealQttCC,\n  realQttCC,\n}) => {\n \n  const onAddQtyPortion = (value) => {\n    update(index, \"prixParCC\", value);\n  };\n  return (\n    <div className=\"basket-item-control\">\n      <NumberInput\n        inputMode={\"numeric\"}\n        w={28}\n        step={1}\n        bg={\"whitesmoke\"}\n        onChange={(value) => {\n          if(value==\"\"){\n            setRealQttCC(product?.prixParCC);\n          }else{\n            onAddQtyPortion(Number(value));\n          setRealQttCC(Number(value));\n          }\n         \n        }}\n        min={0}\n        value={realQttCC}\n        defaultValue={product?.prixParCC}\n       // max={maxRealQttCC}\n      >\n        <NumberInputField />\n        <NumberInputStepper>\n          <NumberIncrementStepper />\n          <NumberDecrementStepper />\n        </NumberInputStepper>\n      </NumberInput>\n    </div>\n  );\n};\n","import {\n  ADD_QTY_FROM_MAGASIN_ITEM,\n  ADD_FROM_MAGASIN,\n  CLEAR_FROM_MAGASIN,\n  MINUS_QTY_FROM_MAGASIN_ITEM,\n  REMOVE_FROM_TO_MAGASIN,\n  SET_FROM_MAGASIN_ITEMS,\n  ADD_QTY_PORTION_FROM_MAGASIN_ITEM,\n  MINUS_QTY_PORTION_FROM_MAGASIN_ITEM,\n  ADD_QTY_NUMBER_FROM_MAGASIN_ITEM,\n  MINUS_QTY_LITRE_NUMBER_FROM_MAGASIN_ITEM,\n  ADD_QTY_LITRE_NUMBER_FROM_MAGASIN_ITEM,\n  ADD_TO_QTT_BRUTE\n} from \"../constants\";\n\nexport const setFromMagasinItems = (items = []) => ({\n  type: SET_FROM_MAGASIN_ITEMS,\n  payload: items,\n});\n\nexport const addFromMagasin = (product) => ({\n  type: ADD_FROM_MAGASIN,\n  payload: product,\n});\n\nexport const removeFromMagasin = (id) => ({\n  type: REMOVE_FROM_TO_MAGASIN,\n  payload: id,\n});\n\nexport const clearFromMagasin = () => ({\n  type: CLEAR_FROM_MAGASIN,\n});\n\nexport const addQtyFromMagasinItem = (id, qtt) => ({\n  type: ADD_QTY_FROM_MAGASIN_ITEM,\n  payload: { id: id, qtt: qtt },\n});\n\nexport const setQtyFromMagasinItem = (id, value) => ({\n  type: ADD_QTY_NUMBER_FROM_MAGASIN_ITEM,\n  payload: {\n    id: id,\n    value: value,\n  },\n});\n\nexport const setQtyLitreFromMagasinItem = (id, value) => ({\n  type: ADD_QTY_LITRE_NUMBER_FROM_MAGASIN_ITEM,\n  payload: {\n    id: id,\n    value: value,\n  },\n});\nexport const setQttBrute = (id, value) => ({\n  type: ADD_TO_QTT_BRUTE,\n  payload: {\n    id: id,\n    value: value,\n  },\n});\n\n\n\nexport const minusQtyFromMagasinItem = (id) => ({\n  type: MINUS_QTY_FROM_MAGASIN_ITEM,\n  payload: { id: id },\n});\n\nexport const addQtyFromMagasinPortionItem = (id, value) => ({\n  type: ADD_QTY_PORTION_FROM_MAGASIN_ITEM,\n  payload: { id: id, value: value },\n});\n\nexport const minusQtyFromMagasinPortionItem = (id) => ({\n  type: MINUS_QTY_PORTION_FROM_MAGASIN_ITEM,\n  payload: { id: id },\n});\n","export const isSpecialProductHandle = (product) => {\n  return !!(\n    product.condml != 0 &&\n    product.condsize != 0 &&\n    product.qttccpvente != 0 &&\n    product.prixqttccvente != 0\n  );\n};\n\nexport const buy = (product) => {\n  let isSpecific = false;\n  if (isSpecialProductHandle(product)) {\n    isSpecific = true;\n    let qtt = product.quantityParProduct;\n    let qttcc = product.qttByCC;\n    let qttlitre = product.qttbylitre;\n    let normalQtt = product.condval;\n    let normalQttCC = product.quantityCCCVA;\n    let condsize = product.condsize;\n    let dose = product.doseDefault;\n    let condml = product.condml;\n    if (qttlitre > 0 && qtt == 0 && qttcc == 0) {\n      product.quantityBruteCVA -= qttlitre;\n      //tester le 12 avril 2022 : marche tres bien\n    }\n    if (qttlitre == 0 && qtt > 0 && qttcc == 0) {\n      //tester le 12 avril 2022 : marche tres bien\n      let moins = 0,\n        reste = 0;\n      if (Number(qtt) >= Number(condsize)) {\n        moins = Math.floor(Number(qtt) / Number(condsize));\n        reste = Number(qtt) - Number(condsize) * moins;\n\n        if (normalQtt - reste < 0) {\n          //tester le 12 avril 2022 : marche tres bien\n          let diff = Number(reste) - Number(normalQtt);\n          product.condval = Number(condsize) - Number(diff);\n          moins += 1;\n        } else {\n          product.condval = normalQtt - reste;\n        }\n      } else {\n        //tester le 12 avril 2022 : marche tres bien\n        if (product.condval - Number(qtt) < 0) {\n          let diff = Number(qtt) - Number(product.condval);\n          let mireste = Number(condsize) - Number(diff);\n          product.condval = mireste;\n          moins += 1;\n        } else {\n          product.condval -= Number(qtt);\n        }\n      }\n      product.quantityBruteCVA -= moins;\n    }\n    if (qttlitre == 0 && qtt == 0 && qttcc > 0) {\n      let moins = 0,\n        moinslitre = 0,\n        restelitre = 0,\n        reste = 0;\n      if (Number(qttcc) >= Number(condml)) {\n        moins = Math.floor(Number(qttcc) / Number(condml));\n        reste = Number(qttcc) - Number(condml) * moins;\n        if (normalQttCC - reste < 0) {\n          let diff = Number(reste) - Number(normalQttCC);\n          product.quantityCCCVA = Number(condml) - Number(diff);\n          moins += 1;\n        } else {\n          product.quantityCCCVA = normalQttCC - reste;\n        }\n      } else {\n        //tester le 12 avril 2022 : marche tres bien\n        if (Number(qttcc) >= product.quantityCCCVA) {\n          moins += 1;\n          let diff = Number(qttcc) - product.quantityCCCVA;\n          product.quantityCCCVA = Number(condml) - diff;\n        } else {\n          product.quantityCCCVA -= Number(qttcc);\n        }\n      }\n      if (Number(moins) >= Number(condsize)) {\n        moinslitre = Math.floor(Number(moins) / Number(condsize));\n        restelitre = Number(moins) - Number(condsize) * restelitre;\n        if (normalQtt - restelitre < 0) {\n          //tester le 12 avril 2022 : marche tres bien\n          let diff = Number(restelitre) - Number(normalQtt);\n          product.condval = Number(condsize) - Number(diff);\n          moinslitre += 1;\n        } else {\n          product.condval = normalQtt - restelitre;\n        }\n      } else {\n        //tester le 12 avril 2022 : marche tres bien\n        if (product.condval - Number(moins) < 0) {\n          let diff = Number(moins) - Number(product.condval);\n          let mireste = Number(condsize) - Number(diff);\n          product.condval = mireste;\n          moinslitre += 1;\n        } else {\n          product.condval -= Number(moins);\n        }\n      }\n      product.quantityBruteCVA -= moinslitre;\n    }\n\n    if (qttlitre == 0 && qtt > 0 && qttcc > 0) {\n      let moins = 0,\n        moinslitre = 0,\n        restelitre = 0,\n        reste = 0;\n      if (Number(qttcc) >= Number(condml)) {\n        moins = Math.floor(Number(qttcc) / Number(condml));\n        reste = Number(qttcc) - Number(condml) * moins;\n        if (normalQttCC - reste < 0) {\n          let diff = Number(reste) - Number(normalQttCC);\n          product.quantityCCCVA = Number(condml) - Number(diff);\n          moins += 1;\n        } else {\n          // ok\n          product.quantityCCCVA = Number(normalQttCC) - reste;\n        }\n      } else {\n        // ok\n        if (Number(qttcc) >= product.quantityCCCVA) {\n          moins += 1;\n          let diff = Number(qttcc) - product.quantityCCCVA;\n          product.quantityCCCVA = Number(condml) - diff;\n        } else {\n          product.quantityCCCVA -= Number(qttcc);\n        }\n      }\n      let mm = Number(qtt) + moins;\n      if (mm >= Number(condsize)) {\n        moinslitre = Math.floor(mm / Number(condsize));\n        restelitre = mm - Number(condsize) * moins;\n        if (normalQtt - restelitre < 0) {\n          let diff = Number(restelitre) - Number(normalQtt);\n          product.condval = Number(condsize) - Number(diff);\n          moinslitre += 1;\n        } else {\n          product.condval = normalQtt - restelitre;\n        }\n      } else {\n        // a teste avant\n        if (product.condval - Number(mm) < 0) {\n          let diffic = Number(mm) - Number(product.condval);\n          let mireste = Number(condsize) - Number(diffic);\n          product.condval = mireste;\n          moinslitre += 1;\n        } else {\n          product.condval -= Number(mm);\n        }\n      }\n      product.quantityBruteCVA -= moinslitre;\n    }\n\n    if (qttlitre > 0 && qtt > 0 && qttcc == 0) {\n      let moinslitre = 0,\n        restelitre = 0;\n\n      if (Number(qtt) >= Number(condsize)) {\n        moinslitre = Math.floor(Number(qtt) / Number(condsize));\n        restelitre = Number(qtt) - Number(condsize) * moinslitre;\n        if (normalQtt - restelitre < 0) {\n          let diff = Number(restelitre) - Number(normalQtt);\n          product.condval = Number(condsize) - Number(diff);\n          moinslitre += 1;\n        } else {\n          product.condval = normalQtt - restelitre;\n        }\n      } else {\n        if (product.condval - Number(qtt) < 0) {\n          let diffic = Number(qtt) - Number(product.condval);\n          let mireste = Number(condsize) - Number(diffic);\n          product.condval = mireste;\n          moinslitre += 1;\n        } else {\n          product.condval -= Number(qtt);\n        }\n      }\n      product.quantityBruteCVA -= moinslitre + qttlitre;\n    }\n\n    if (qttlitre > 0 && qtt == 0 && qttcc > 0) {\n      let moins = 0,\n        moinslitre = 0,\n        restelitre = 0,\n        reste = 0;\n      if (Number(qttcc) >= Number(condml)) {\n        moins = Math.floor(Number(qttcc) / Number(condml));\n        reste = Number(qttcc) - Number(condml) * moins;\n        if (normalQttCC - reste < 0) {\n          let diffcc = Number(reste) - Number(normalQttCC);\n          product.quantityCCCVA = Number(condml) - Number(diffcc);\n          moins += 1;\n        } else {\n          product.quantityCCCVA = normalQttCC - reste;\n        }\n      } else {\n        // ok\n        if (Number(qttcc) >= product.quantityCCCVA) {\n          moins += 1;\n          let diff = Number(qttcc) - product.quantityCCCVA;\n          product.quantityCCCVA = Number(condml) - diff;\n        } else {\n          product.quantityCCCVA -= Number(qttcc);\n        }\n      }\n\n      if (Number(moins) >= Number(condsize)) {\n        moinslitre = Math.floor(Number(moins) / Number(condsize));\n        restelitre = Number(moins) - Number(condsize) * moinslitre;\n        if (normalQtt - restelitre < 0) {\n          let diff = Number(restelitre) - Number(normalQtt);\n          product.condval = Number(condsize) - Number(diff);\n          moinslitre += 1;\n        } else {\n          product.condval = normalQtt - reste;\n        }\n      } else {\n        //ok\n        if (product.condval - Number(moins) < 0) {\n          let diff = Number(moins) - Number(product.condval);\n          let mireste = Number(condsize) - Number(diff);\n          product.condval = mireste;\n          moinslitre += 1;\n        } else {\n          product.condval -= Number(moins);\n        }\n      }\n      product.quantityBruteCVA -= moinslitre + qttlitre;\n    }\n    if (qttlitre > 0 && qtt > 0 && qttcc > 0) {\n      let moins = 0,\n        moinslitre = 0,\n        restelitre = 0,\n        reste = 0;\n      if (Number(qttcc) >= Number(condml)) {\n        moins = Math.floor(Number(qttcc) / Number(condml));\n        reste = Number(qttcc) - Number(condml) * moins;\n        if (normalQttCC - reste < 0) {\n          let diffcc = Number(reste) - Number(normalQttCC);\n          product.quantityCCCVA = Number(condml) - Number(diffcc);\n          moins += 1;\n        } else {\n          product.quantityCCCVA = normalQttCC - reste;\n        }\n      } else {\n        if (Number(qttcc) >= product.quantityCCCVA) {\n          moins += 1;\n          let diff = Number(qttcc) - product.quantityCCCVA;\n          product.quantityCCCVA = Number(condml) - diff;\n        } else {\n          product.quantityCCCVA -= Number(qttcc);\n        }\n      }\n      let mns = Number(moins) + Number(qtt);\n      if (mns >= Number(condsize)) {\n        moinslitre = Math.floor(mns / Number(condsize));\n        restelitre = mns - Number(condsize) * moinslitre;\n        if (normalQtt - restelitre < 0) {\n          let diff = Number(restelitre) - Number(normalQtt);\n          product.condval = Number(condsize) - Number(diff);\n          moinslitre += 1;\n        } else {\n          product.condval = normalQtt - reste;\n        }\n      } else {\n        if (product.condval - Number(mns) < 0) {\n          let diff = Number(mns) - Number(product.condval);\n          let mireste = Number(condsize) - Number(diff);\n          product.condval = mireste;\n          moinslitre += 1;\n        } else {\n          product.condval -= Number(mns);\n        }\n      }\n      product.quantityBruteCVA -= moinslitre + qttlitre;\n    }\n  } else {\n    let qtt = product.quantityParProduct;\n    let qttcc = product.qttByCC;\n    let normalQtt = product.quantityBruteCVA;\n    let normalQttCC = product.quantityCCCVA;\n    let dose = product.doseDefault;\n    isSpecific = false;\n    let isValid = true;\n    if (qtt == 0 && qttcc > 0) {\n      //tester le 12 avril 2022 : marche tres bien\n      let moins = 0,\n        reste = 0;\n      if (Number(qttcc) >= Number(dose)) {\n        moins = Math.floor(Number(qttcc) / Number(dose));\n        reste = Number(qttcc) - Number(dose) * moins;\n        if (normalQttCC - reste < 0) {\n          let diff = Number(reste) - Number(normalQttCC);\n          product.quantityCCCVA = Number(dose) - Number(diff);\n          moins += 1;\n        } else {\n          product.quantityCCCVA = Number(normalQttCC) - reste;\n        }\n      } else {\n        // a tester avant la saisie\n        if (product.quantityCCCVA - Number(qttcc) < 0) {\n          let diff = Number(qttcc) - Number(product.quantityCCCVA);\n          product.quantityCCCVA = Number(dose) - Number(diff);\n          moins += 1;\n        } else {\n          product.quantityCCCVA -= Number(qttcc);\n        }\n      }\n      console.log(moins);\n      product.quantityBruteCVA -= moins;\n    }\n    if (qtt > 0 && qttcc == 0) {\n      //tester le 12 avril 2022 : marche tres bien\n      product.quantityBruteCVA -= qtt;\n    }\n    if (qtt > 0 && qttcc > 0) {\n      //tester le 12 avril 2022 : marche tres bien\n      let moins = 0,\n        reste = 0;\n      if (Number(qttcc) >= Number(dose)) {\n        moins = Math.floor(Number(qttcc) / Number(dose));\n        reste = Number(qttcc) - Number(dose) * moins;\n        if (normalQttCC - reste < 0) {\n          let diff = Number(reste) - Number(normalQttCC);\n          product.quantityCCCVA = Number(dose) - Number(diff);\n          moins += 1;\n        } else {\n          product.quantityCCCVA = Number(normalQttCC) - reste;\n        }\n      } else {\n        if (product.quantityCCCVA - Number(qttcc) < 0) {\n          let diff = Number(qttcc) - Number(product.quantityCCCVA);\n          product.quantityCCCVA = Number(dose) - Number(diff);\n          moins += 1;\n        } else {\n          product.quantityCCCVA -= Number(qttcc);\n        }\n      }\n      let x = moins + Number(qtt);\n      product.quantityBruteCVA -= x;\n    }\n  }\n};\n","import React, { useEffect, useState } from \"react\";\nimport { Card } from \"react-bootstrap\";\nimport { action, getData } from \"../../../../utils/lib/call\";\nimport EditFromDepotItem from \"./EditItem\";\nimport { useDispatch } from 'react-redux';\nconst EditToFromMag = ({\n  data,\n  setData,\n  date,\n  index,\n  commandes,\n}) => {\n  const dispatch = useDispatch();\n  //const [state,setState] = useState(commandes?.contenu);\n   console.log('item',index,commandes);\n  /**const onCheckOut = () => {\n    if(state.length >0){\n      dispatch(\n        action(\"commandes\").updateTransaction(\n          {\n            id: commandes?.id,\n            contenu: state\n          },\n          \"update-price-from-magasin\"\n        )\n      )};\n    //  history.push(HISTORIQUEVENTEVENDEUR)\n  };**/\n  \n  return (\n    <>\n        <div className=\"commande-vente\">\n              {commandes?.map((product, i) => (\n                <>\n                <p>{i}</p>\n                </>\n                ))}\n        </div>\n    </>\n  );\n};\n\nexport default EditToFromMag;\n","export default class Cycle extends Array {\n    #index = 0;\n    constructor(array) {\n      if (!Array.isArray(array)) {\n        throw new TypeError(\"Expected an array\");\n      }\n  \n      super(...array);\n    }\n  \n    *[Symbol.iterator]() {\n      let { length } = this;\n  \n      while (length-- > 0) {\n        yield this.current();\n        this.index++;\n      }\n    }\n  \n    get index() {\n      return this.#index;\n    }\n  \n    set index(index) {\n      this.#index = (this.length + (index % this.length)) % this.length;\n    }\n  \n    step(steps) {\n      this.#index = (this.length + this.#index + steps) % this.length;\n      return this[this.#index];\n    }\n  \n    peek(steps) {\n      return this[(this.length + this.#index + steps) % this.length];\n    }\n  \n    current() {\n      return this.step(0);\n    }\n  \n    next() {\n      return this.step(1);\n    }\n  \n    previous() {\n      return this.step(-1);\n    }\n  \n    *indefinitely() {\n      while (true) {\n        yield this.next();\n      }\n    }\n  \n    *indefinitelyReversed() {\n      while (true) {\n        yield this.previous();\n      }\n    }\n  }\n  ","/*\n * Component for viewing the shape of a schema.\n */\n\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport * as R from 'ramda';\nconst SCHEMA_TYPE_IDENTIFIER = {\n  shape: 'shape',\n  arrayOf: 'arrayOf',\n  any: 'any',\n  string: 'string',\n  boolean: 'boolean',\n  function: 'function',\n  number: 'number',\n  date: 'date',\n  array: 'array',\n  object: 'object',\n}\n\n// Assumes schema is already a valid Schema.\n// Returns the corresponding type identifier (a string from the object above) for the schema.\nexport function getSchemaTypeIdentifier(schema) {\n  return schema._isSchemaType\n    ? schema._type\n    : SCHEMA_TYPE_IDENTIFIER.shape\n}\n\nconst monospace = { fontFamily: 'monospace' }\nconst keyName = { ...monospace, color: '#b966b1' }\n\nexport class SchemaView extends React.Component {\n  static displayName = 'SchemaView'\n\n  state = {\n    expanded: false,\n  }\n\n  toggleExpanded() {\n    this.setState({\n      expanded: !this.state.expanded,\n    })\n  }\n\n  render() {\n    const identifier = getSchemaTypeIdentifier(this.props.schema)\n    switch (identifier) {\n      case SCHEMA_TYPE_IDENTIFIER.any:\n      case SCHEMA_TYPE_IDENTIFIER.string:\n      case SCHEMA_TYPE_IDENTIFIER.boolean:\n      case SCHEMA_TYPE_IDENTIFIER.function:\n      case SCHEMA_TYPE_IDENTIFIER.number:\n      case SCHEMA_TYPE_IDENTIFIER.date:\n      case SCHEMA_TYPE_IDENTIFIER.array:\n      case SCHEMA_TYPE_IDENTIFIER.object:\n        if (typeof this.props.keyName === 'string') {\n          return <KeyValueSchemaView\n            preview={<LeafSchema schemaTypeName={identifier} />}\n            schemaElement={<LeafSchema schemaTypeName={identifier} />}\n            keyName={this.props.keyName} />\n        }\n\n        return <LeafSchema schemaTypeName={identifier} />\n\n      case SCHEMA_TYPE_IDENTIFIER.shape:\n        if (typeof this.props.keyName === 'string') {\n          return <KeyValueSchemaView\n            schemaElement={<ShapeSchema schema={this.props.schema} />}\n            keyName={this.props.keyName}\n            onToggleExpanded={this.toggleExpanded.bind(this)}\n            preview=\"Shape\"\n            expanded={this.state.expanded} />\n        }\n\n        return <ShapeSchema schema={this.props.schema} />\n\n      case SCHEMA_TYPE_IDENTIFIER.arrayOf:\n        if (typeof this.props.keyName === 'string') {\n          return <KeyValueSchemaView\n            schemaElement={<SchemaView schema={this.props.schema._elementType} />}\n            keyName={this.props.keyName}\n            onToggleExpanded={this.toggleExpanded.bind(this)}\n            preview=\"ArrayOf\"\n            expanded={this.state.expanded} />\n        }\n\n        return <div style={{\n          display: \"flex\",\n          cursor: \"default\"\n        }}>\n          <div style={{\n            width: TRIANGLE_EXPANDER_WIDTH\n          }} />\n          <div style={{\n            display: \"flex\",\n            flexDirection: \"column\"\n          }}>\n            <div style={{ ...monospace }}>ArrayOf</div>\n            <SchemaView schema={this.props.schema._elementType} />\n          </div>\n        </div>\n\n      default:\n        throw new Error('invalid schema type identifier')\n    }\n  }\n}\n\nclass LeafSchema extends React.Component {\n  static displayName = 'LeafSchema'\n\n  render() {\n    return <div style={{ ...monospace }}>{this.props.schemaTypeName}</div>\n  }\n}\n\nclass ShapeSchema extends React.Component {\n  static displayName = 'ShapeSchema'\n\n  render() {\n    return <div>\n      {\n        R.toPairs(this.props.schema).map(([key, schema]) =>\n          <SchemaView key={key} schema={schema} keyName={key} />\n        )\n      }\n    </div>\n  }\n}\n\nconst TRIANGLE_RIGHT = ''\nconst TRIANGLE_DOWN = ''\nconst TRIANGLE_EXPANDER_WIDTH = \"16px\"\n\nclass KeyValueSchemaView extends React.Component {\n  static displayName = 'KeyValueSchemaView'\n  render() {\n    const readableKeyName = this.props.keyName === ''\n      ? `\"\"`\n      : this.props.keyName\n\n    // Non-expandable key/value pairs\n    if (!this.props.onToggleExpanded) {\n      return (\n        <div style={{\n          display: \"flex\",\n          cursor: \"default\"\n        }}>\n          <div style={{\n            width: TRIANGLE_EXPANDER_WIDTH\n          }} />\n          <div style={{\n            display: \"flex\",\n            flexDirection: \"row\"\n          }}>\n            <div style={{ ...keyName, marginRight: \"10px\" }}\n              onClick={this.props.onToggleExpanded}>{readableKeyName}:</div>\n            <div style={{ ...monospace }}>{this.props.preview}</div>\n          </div>\n        </div>\n      )\n    }\n\n    const arrow = this.props.expanded ? TRIANGLE_DOWN : TRIANGLE_RIGHT\n    return (\n      <div style={{\n        display: \"flex\", cursor:\"default\"\n      }}>\n        <div style={{\n          display: \"flex\",\n          width: TRIANGLE_EXPANDER_WIDTH\n        }} onClick={this.props.onToggleExpanded}>\n          <span style={{\n            fontSize:\"9px\",\n            padding:\"2px\"\n          }}>{arrow}</span>\n        </div>\n        <div style={{\n          display: \"flex\",\n          flexDirection: \"column\"\n        }}>\n          <div style={{\n            display: \"flex\",\n            flexDirection: \"row\"\n          }} onClick={this.props.onToggleExpanded}>\n            <div style={{ ...keyName, marginRight: \"10px\" }}>{readableKeyName}:</div>\n            <div style={{ ...monospace }}>{this.props.preview}</div>\n          </div>\n\n          {this.props.expanded && <div>{this.props.schemaElement}</div>}\n        </div>\n      </div>\n    )\n  }\n}\nexport const SchemaPopover = props => {\n  const popoverContent = (\n    <div style={{\n      padding: \"15px\"\n    }}>\n      <SchemaView schema={props.schema} />\n    </div>\n  )\n  return popoverContent;\n}\n","// Returns true if `test` is a __valid__ JS Date object\nexport function isValidDate (test) {\n    if (Object.prototype.toString.call(test) !== '[object Date]') {\n        return false;\n    }\n\n    return !isNaN(test.getTime());\n}\n\n// Returns a function that takes a test variable and returns true\n// if it's type is equal to `type`\nexport function typeValidator (type) {\n    return test => typeof test === type;\n}\n\n// Returns true if `test` is anything but undefined.\nexport function isSomething (test) {\n    return typeof test !== 'undefined';\n}\n\n// Returns true if `test` is an array\nexport function isArray (test) {\n    return Array.isArray(test);\n}\n\n// Returns true if predicate returns true for all elements in the array.\n// predicate is called with three arguments:\n//      function predicate (currentElement, currentIndex, array)\nexport function every (array, predicate) {\n    // Make sure it's an array\n    if (!Array.isArray(array)) {\n        throw new Error(\n            `Expected \"array\" to be an Array, but got ${Object.prototype.toString.call(array)}`\n        );\n    }\n\n    // Test predicate on every element in the array.\n    return array.reduce(\n        (memo, el, idx) => {\n            return memo && predicate(el, idx, array);\n        },\n        true\n    );\n}\n\n// Returns a function that returns true if\n// `test` is an array whose objects match the schema `type`\nexport function isArrayOfType (type) {\n    return function (test) {\n        return (\n            Array.isArray(test) &&\n            every(\n                test,\n                el => matchesSchema(type, el)\n            )\n        );\n    };\n}\n\n// Returns a function that accepts a validator and returns a function\n// that takes a boolean and returns a function that takes a variable\n// and validates the variables under the following constraints:\n//      1) it's valid if the variable is not required, and the variable doesn't exist\n//      2) it's valid if the actual validator function returns true\n//\n// Usage:\n//\n//      const maybeValidateString = maybeRequired(str => typeof str === 'string');\n//\n//      const validateString = maybeValidateString(true);\n//      console.log(validateString('foo')); // true\n//      console.log(validateString(10)); // false\n//      console.log(validateString(undefined)); // false\n//\n//      const validateStringOrNothing = maybeValidateString(false);\n//      console.log(validateStringOrNothing('foo')); // true\n//      console.log(validateStringOrNothing(10)); // false\n//      console.log(validateStringOrNothing(undefined)); // true\nexport const maybeRequired = actuallyValidate => isRequired => something => {\n    return (\n        (!isRequired && typeof something === 'undefined') ||\n        actuallyValidate(something)\n    );\n};\n\n// Create a SchemaType (really just a function with `_type` and\n// `_isSchemaType` properties)\nexport function SchemaType (validate, type, opts = {}) {\n    const func = validate;\n    func.__proto__ = {\n        // TODO: explicitly check the __proto__ (or use getter!) for these props, so their names\n        // TODO: are free for use by higher level object schemas.\n        // e.g. the following breaks things\n        /*\n         * const schema = {\n         *      foo: SchemaTypes.string(),\n         *      _type: SchemaTypes.string(),\n         *      _isSchemaType: SchemaTypes.string(),\n         * };\n         */\n        _isSchemaType: true,\n        _type: type,\n\n        ...opts\n    };\n\n    return func;\n};\n\n// A function that returns a SchemaType factory based on a higher-order\n// validator and a type name.\n//\n// The factories themselves take an optional options object and return\n// a function (the SchemaType).\nconst createSchemaType = (maybeValidate, type) => {\n    return (opts = {}) => SchemaType(\n        maybeValidate(!!opts.required),\n        type,\n        opts\n    );\n};\n\nexport const SchemaTypes = {\n    any: createSchemaType(maybeRequired(isSomething), 'any'),\n\n    string: createSchemaType(maybeRequired(typeValidator('string')), 'string'),\n    boolean: createSchemaType(maybeRequired(typeValidator('boolean')), 'boolean'),\n    function: createSchemaType(maybeRequired(typeValidator('function')), 'function'),\n    number: createSchemaType(maybeRequired(typeValidator('number')), 'number'),\n    date: createSchemaType(maybeRequired(isValidDate), 'date'),\n\n    array: createSchemaType(maybeRequired(isArray), 'array'),\n    object: createSchemaType(maybeRequired(isObject), 'object'),\n\n    /*\n     * Usage:\n     *      const schema = {\n     *          foo: SchemaTypes.arrayOf({\n     *              bar: SchemaTypes.string,\n     *          })(),\n     *\n     *          bar: SchemaTypes\n     *              .arrayOf(SchemaTypes.string())({ required: true }),\n     *      };\n     */\n    arrayOf: type =>\n        opts => createSchemaType(maybeRequired(isArrayOfType(type)), 'arrayOf')({\n            // User-specified options\n            ...opts,\n\n            // Make the element type available\n            _elementType: type,\n        }),\n\n    // todo: oneOf, shape, null\n};\n\n// Returns a message for an error caused by an invalid Schema type.\nexport function invalidSchemaMessage (badLeaf, location) {\n    return `(At ${location}): Expected a SchemaType, but got ${badLeaf}:${typeof badLeaf}`;\n}\n\n// Returns true if `test` is a vanilla object\nexport function isObject (test) {\n    return Object.prototype.toString.call(test) === '[object Object]';\n}\n\n// Validates an ObjectEditor schema object\n// A valid schema object is an object with SchemaTypes as\n// its leaves.\nexport function validateSchema (schema, location = '') {\n    // Base case: leaf is a SchemaType\n    if (schema._isSchemaType) {\n        return null;\n    }\n\n    // Schema is an object -- test each key at this level of the schema\n    if (typeof schema === 'object' && Object.keys(schema).length > 0) {\n        Object\n            .keys(schema)\n            .forEach(\n                key => validateSchema(schema[key], location + '.' + key)\n            );\n\n        // No errors thrown, so schema is valid.\n        return null;\n    }\n\n    // Schema is bad\n    throw new Error(invalidSchemaMessage(schema, location));\n}\n\n// Returns true if test is a valid match for schema.\n// Schema must be a valid schema (has SchemaTypes in leaves)\n// This function just does some validation and then passes control\n// to the recursive function, matchesSchemaInner.\nexport function matchesSchema (schema, test) {\n    // Throw if the schema is bad.\n    try {\n        validateSchema(schema);\n    } catch (err) {\n        throw new Error('Expected \"schema\" to be a valid schema');\n    }\n\n    // Pass control to rec function\n    return matchesSchemaInner(schema, test);\n}\n\n// Recursively make sure that `test` is a valid instance of `schema`\nfunction matchesSchemaInner (schema, test) {\n    // Base case: SchemaType leaf\n    // Just evaluate directly\n    if (schema._isSchemaType) {\n        return schema(test);\n    }\n\n    // We already know schema is a valid schema, so we can go ahead\n    // and evaluate it as an object.\n\n    // Object case\n    // True if each key of test matches each key of schema\n    return Object.keys(schema)\n        .map(\n            key => matchesSchemaInner(schema[key], test && test[key])\n        )\n        .reduce(\n            (memo, match) => memo && match,\n            true\n        );\n}","import { invalidSchemaMessage, validateSchema } from './Schema';\n\n// Returns a version of `validator` that will accept the prop\n// if it's undefined.\n// That validator returned by this function will have a `isRequired`\n// field that is a function that runs the original validator.\nfunction addIsRequiredProperty (validator) {\n    const func = function (props, propName) {\n        if (typeof props[propName] === 'undefined') {\n            return null;\n        }\n\n        return validator.apply(null, arguments);\n    };\n\n    func.isRequired = validator;\n\n    return func;\n}\n\n// React propType validator that ensures the prop is a SchemaType\nfunction validateSchemaTypeProp (props, propName, componentName) {\n    const schemaType = props[propName];\n\n    if (schemaType && schemaType.isSchemaType) {\n        return null;\n    }\n\n    throw new Error(invalidSchemaMessage(schemaType, componentName + '.' + propName));\n}\n\n// React propType validator that ensures the prop is a Schema.\nfunction validateSchemaProp (props, propName, componentName) {\n    const schema = props[propName];\n    return validateSchema(schema, componentName + '.' + propName);\n}\n\n// Returns a function that appends suffix to base.\nfunction appendTo (base) {\n    return (suffix = '') => base + suffix;\n}\n\n// Base CSS class names for different elements\nexport const BaseClassnames = {\n    // Corresponds to the outer <table /> for ObjectEditor and ArrayEditor\n    Editor: appendTo('editor'),\n\n    // Corresponds to <td /> elements in ElementRow\n    Cell: appendTo('cell'),\n\n    // Corresponds to ElementRow\n    ElementRow: appendTo('editor__row'),\n\n    // The row for adding objects\n    AddObjectRow: appendTo('editor__add-object'),\n\n    // <tr /> containing column titles\n    ColumnTitles: appendTo('editor__column-titles'),\n\n    // Individual <th /> column title\n    ColumnTitle: appendTo('column-title'),\n\n    // <input /> in a cell\n    EditorInput: appendTo('editor__input'),\n};","/*\n * Adapted from pivotal-ui's scrim mixin\n *      See https://github.com/pivotal-cf/pivotal-ui/blob/development/library/src/pivotal-ui-react/mixins/mixins/scrim_mixin.js\n */\nimport React from 'react';\nimport { findDOMNode } from 'react-dom';\n\n// Mapping of Scrims -> scrim click handlers\nconst privates = new WeakMap();\n\n// Handler for clicks on the document root\n// Needs to be bound to a Scrim instance like so:\n// class Scrim extends React.Component {\n//      constructor (props) {\n//          ...\n//          const myRootClick = rootClick.bind(this, myScrimClickHandler);\n//      }\n//      ...\n// }\nfunction rootClick (handler, evt) {\n    if (findDOMNode(this).contains(evt.target)) {\n        return;\n    }\n\n    handler(evt);\n}\n\n/*\n * Returns a Scrim'd version of Component that accepts the props `onClickScrim`,\n * a function that gets called when the component's scrim is clicked.\n */\nexport default function (Component) {\n    return class Scrim extends React.Component {\n        static displayName = 'Scrim';\n\n        \n        \n        constructor (props) {\n            super(props);\n\n            // Add our bound root click handler to privates\n            privates.set(this, rootClick.bind(this, props.onClickScrim));\n        }\n\n        // Update our private var & document listener when new props passed\n        componentWillReceiveProps (nextProps) {\n            // Remove current listener\n            document.documentElement.removeEventListener('click', privates.get(this));\n\n            // Update listener var\n            privates.set(this, rootClick.bind(this, nextProps.onClickScrim));\n\n            // Add new listener\n            document.documentElement.addEventListener('click', privates.get(this));\n        }\n\n        // Add our root click listener to the document when the component mounts.\n        componentDidMount () {\n            super.componentDidMount && super.componentDidMount.apply(this, arguments);\n            document.documentElement.addEventListener('click', privates.get(this));\n        }\n\n        // Remove our root click listener to the document when the component unmounts.\n        componentWillUnmount () {\n            super.componentWillUnmount && super.componentWillUnmount.apply(this, arguments);\n            document.documentElement.removeEventListener('click', privates.get(this));\n        }\n\n        render () {\n            return <Component { ...this.props } />;\n        }\n    }\n}\n","export const traduction={\n    prixVente: '(FLACON,BOLUS,UNITE)',\n    prixParCC: 'ML',\n    name:'NOM DU PRODUIT',\n    prixqttccvente: 'PRIX CONDITIONNEMENT',\n    contenu: 'COMMANDES',\n    dateCom: 'DATE DE COMMANDES'\n}","import React,{useEffect,useState} from 'react';\nimport cx from 'classnames';\nimport update from 'react-addons-update';\n\nimport { BaseClassnames } from './constants';\n\nimport Scrim from './Scrim';\n\nimport * as Schema from './Schema';\n\nimport _ from 'lodash';\nimport { traduction } from './trad';\nimport { displayDate } from '../../utils/functions';\n\nconst empty = () => null;\nconst isDate = function(date) {\n    return (new Date(date) !== \"Invalid Date\") && !isNaN(new Date(date));\n}\n// Returns true if `schemaType` is one of the array types -- \"array\", or \"arrayOf\".\nconst isArraySchemaType = schemaType => {\n    return schemaType._type && schemaType._type.match(/array/) !== null;\n};\n\n\n// Returns the column title for the SchemaType `schemaType`.\nfunction columnTitle(schemaType) {\n    // Complex object schema\n    if (typeof schemaType === 'object') {\n        return 'Object';\n    }\n\n    // If it's an array type, use the elementType property.\n    if (isArraySchemaType(schemaType)) {\n        return 'Array of ' + columnTitle(schemaType._elementType || Schema.SchemaTypes.any);\n    }\n\n    // Otherwise, just use the _type field.\n    return _.capitalize(schemaType._type);\n}\n\n// A <th /> Element with a the class \".editor__column-title\"\nconst ColumnTitle = props => {\n    const classes = cx(\n        BaseClassnames.ColumnTitle(),\n        props.className\n    );\n\n    return (\n        <th className={classes}>\n            {props.children}\n        </th>\n    );\n};\nColumnTitle.displayName = 'ColumnTitle';\n\nclass BaseTable extends React.Component {\n    static displayName = 'BaseTable';\n    // Render column titles based on a complex object-schema\n    renderObjectColumns = (object) => {\n        // A column for each element key\n      //  console.log('object', object);\n        return Object.keys(this.props.type).map(\n            field => {\n              //  console.log('renderObjectColumns', field);\n                return  (\n                    <ColumnTitle>{traduction[field]}</ColumnTitle>\n                )\n            }\n        );\n    };\n\n    render() {\n        return (\n            <table className={cx(BaseClassnames.Editor(), 'bg-white table table-bordered', this.props.className)}>\n                <thead className=\"bg-thead\">\n                    <tr className={BaseClassnames.ColumnTitles()}>\n                        {/*<th>*/}\n                        {/* Blank -- just for spacing */}\n                        {/* This is the icon column */}\n                        {/*</th>*/}\n\n                        {this.renderObjectColumns(this.props.object)}\n\n                        {/*<th>*/}\n                        {/* Blank -- just for spacing */}\n                        {/* This is the delete object column */}\n                        {/*</th>*/}\n                    </tr>\n                </thead>\n\n                <tbody>\n\n                    {/* Render children in tbody */}\n                    {this.props.children}\n\n                </tbody>\n            </table>\n        );\n    }\n}\n\n// A tabular editor for editing a single JSON object\nclass ObjectEditor extends React.Component {\n    static displayName = 'ObjectEditor';\n\n    render() {\n        return (\n            <BaseTable\n                object={this.props.object}\n                type={this.props.type} trad={this.props.trad} className={cx(BaseClassnames.Editor('--object'), this.props.className)}>\n                { /* Object is just an individual object, so there's only one row */}\n                <ElementRow\n                    className={BaseClassnames.ElementRow('--object')}\n                    icon={this.props.icon || undefined}\n\n                    trash={empty /* no trash button for single objects */}\n                    type={this.props.type}\n                    object={this.props.object}\n                    onChange={this.props.onUpdateElement}\n                    onRemove={empty /* Can't remove a single object */} />\n            </BaseTable>\n        );\n    }\n};\n\nconst ScrimObjectEditor = Scrim(ObjectEditor);\n\nconst ArrayEditor =({object,type,trad,icon,onUpdateElement,onRemoveElement,className})=> {\nconst [state, setState] = useState(object);\nconsole.log('mirendere fona le array editor');\nreturn (\n            <BaseTable object={object} type={type} trad={trad} className={cx(BaseClassnames.Editor('--array'), className)}>\n\n                {\n                    _.map(\n                        object,\n                        (el, idx) => <ElementRow\n                            key={idx}\n                            className={BaseClassnames.ElementRow('--array')}\n                            icon={icon || undefined}\n                            type={type}\n                            object={el}\n                            onChange={updated => onUpdateElement(updated, idx)}\n                            onRemove={() => onRemoveElement(el, idx)} />\n                    )\n                }\n\n                {/**<AddObjectRow\n                    type={type}\n                    onAddElement={onAddElement}/>**/}\n            </BaseTable>\n        );\n};\n\n// A table row for adding a new element to an array\n// TODO: error handling, validation\n// TODO: support empty values for certain types\nclass AddObjectRow extends React.Component {\n    static displayName = 'AddObjectRow';\n\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            // Initialize with empty object\n            object: null,\n        };\n    }\n\n    // Handler called when the \"add\" button is clicked\n    // Only pass to consumer if state is non-null -- user needs to enter something\n    // before they can add additional elements.\n    add = () => {\n        // Nothing entered in fields yet\n        //if (this.state.object === null) {\n        //    return;\n       // }\n\n        //const result = this.props.onAddElement(this.state.object);\n\n        // If consumer returned true, reset fields.\n        //if (result) {\n        //    return this.setState({\n         //       object: null,\n        //    });\n       // }\n    };\n\n    // Renders the \"add element\" button\n    addButton = () => {\n        return <button onClick={this.add}>Add</button>;\n    };\n\n    // Handler for updates to the object in state.\n    // Simply sets object equal to the update.\n    updateObject = updated => {\n        this.setState({\n            object: updated\n        });\n    };\n\n    render() {\n        const rowClasses = cx(BaseClassnames.AddObjectRow());\n        return (\n            <ElementRow\n                className={rowClasses}\n                type={this.props.type}\n                icon={empty /* no icon for the add object row */}\n                trash={this.addButton}\n                object={this.state.object}\n                onChange={this.updateObject}\n                onRemove={empty /* unused by this component */} />\n        );\n    }\n}\n\n// Scrim version of the array editor.\nconst ScrimArrayEditor = Scrim(ArrayEditor);\n\n// The primitive types that we'll use <input /> elements for.\n// Other types will get nested object editors.\nconst STRING_INPUT_TYPES = [\n    'string', 'boolean', 'number', 'date'\n];\n\nclass EmptyCell extends React.Component {\n    static displayName = 'EmptyCell';\n\n    render() {\n        return <td className=\"text-center\">-</td>;\n    }\n}\n\n// A td cell for editing a property whose type is anything but 'object'\nconst StringCell = ({value,type,onChange}) =>{\n        const inputClasses = cx(\n            'form-control',\n            BaseClassnames.EditorInput(),\n            BaseClassnames.EditorInput('--value')\n        );\n        const [state, setState] = useState(value || \"\");\n        useEffect(()=>{\n            setState(value);\n        },[value]);\n        //console.log('disabled', this.props.type.required)\n\n        console.log('type',type,'value',value);\n        return (\n            <td className={BaseClassnames.Cell('--value')}>\n                {_.isUndefined(type.disabled) ? <input\n                    className={inputClasses}\n                    type={_.isUndefined(type.numeric) && type.numeric == true ? 'number': 'text'}\n                    value={state}\n                    required={!!type.required}\n                    onChange={evt => {\n                        setState(evt.target.value);\n                        onChange(Number(evt.target.value))\n                    }} /> : isDate(state) ? displayDate(state): state}\n            </td>\n        );\n}\n\n// A td cell for editing a property of type `object`\n// This cell will spawn nested editors using the scrimmed Editors\nclass ObjectCell extends React.Component {\n    static displayName = 'ObjectCell';\n\n\n    state = {\n        open: false\n    };\n\n    // Toggle open the editor when the edit button is clicked.\n    clickEdit = evt => {\n        this.setState({\n            open: !this.state.open\n        });\n    };\n\n    // Close the editor\n    close = evt => {\n        this.setState({\n            open: false,\n        });\n    };\n\n    // Conditionally renders the value editor (depending on whether\n    // the cell is toggled open)\n    // TODO: too many conditionals here -- separate into different Cell classes\n    renderEditor = () => {\n        // Cell is closed -- render nothing\n        /**if (!this.state.open) {\n            return <div></div>\n        }**/\n\n        // Whether or not to use an Array editor\n        const useArrayEditor = (\n            // Use an array editor if the SchemaType is one of the array variants (array or arrayOf)\n            (this.props.type._type && this.props.type._type.match(/array/) !== null) ||\n\n            // Also use one if the value is an array\n            Array.isArray(this.props.value)\n        );\n\n        // The Editor component to use\n        //  console.log('value',this.props.value,useArrayEditor)\n        const Editor = useArrayEditor\n            ? ScrimArrayEditor\n            : ScrimObjectEditor;\n\n        // The type to pass to the editor -- if it's an object editor, that's just the current type.\n        // If it's an array editor, we need to use the array's type.\n        const editorType = useArrayEditor\n            // If we're using an array editor, use the types's own _elementType or allow any\n            ? this.props.type._elementType || Schema.SchemaTypes.any\n\n            // Otherwise use the existing type\n            : this.props.type;\n\n\n        // The value to use for array operations -- allows us to have an empty value.\n        const arrayValue = this.props.value || [];\n\n        // Cell is open -- render the value editor\n\n        // TODO: pull these update/add/remove handlers out of the render func\n        // TODO: separate Cells for arrays, since the onUpdateElement function sig is different\n        return (\n            <Editor\n                onClickScrim={this.close}\n\n                className={BaseClassnames.Editor('--inside')}\n                type={editorType}\n                object={this.props.value}\n                onUpdateElement={\n                    /* This function needs to handle array and object property updates */\n                    (el, updatedIndex) => {\n                        // Array update\n                        if (typeof updatedIndex !== 'undefined') {\n                            return this.props.onChange(\n                                update(\n                                    arrayValue,\n                                    {\n                                        [updatedIndex]: {\n                                            $set: el,\n                                        }\n                                    }\n                                )\n                            );\n                        }\n\n                        // \"set\" object property update\n                        return this.props.onChange(el);\n                    }\n                }\n                onRemoveElement={\n                     (el, droppedIndex) =>{}\n                    // Tell the consumer an element was removed\n                   //(el, droppedIndex) => this.props.onChange(\n                        // Without mutating the array, reject the dropped index\n                    //    _.reject(\n                      //      arrayValue,\n                       //     (__, idx) => idx === droppedIndex\n                        //)\n                    //)\n                }\n                onAddElement={\n                    (el) => {}\n                    //(el) => {\n                        // Pass element to consumer\n                      //  this.props.onChange(\n                        //    [...arrayValue, el]\n                        //);\n\n                        // Clear the nested add row\n                        //return true;\n                   // }\n                } />\n        );\n    };\n\n    render() {\n        return (\n            <td className={BaseClassnames.Cell('--object')}>\n                {/**<button onClick={this.clickEdit}>Edit</button>**/}\n\n                {this.renderEditor()}\n            </td>\n        );\n    }\n}\n\n// Render an object as a row in a table.\n// The \"icon\" prop gets render as the furthest-left td, and the\n// \"trash\" prop gets render as the furthest-right td.\nconst ElementRow = props => {\n    // For some key, returns a handler that calls props.onChange with the\n    // value of props.object[key].\n    // Support null/undefined objects.\n    const getChangeHandler = key => newValue => {\n        // Element doesn't have a value at this key yet\n        // So create an object with this key\n        if (!props.object) {\n            return props.onChange({\n                [key]: newValue\n            });\n        }\n\n        // Set key = newValue and pass to consumer\n        return props.onChange(update(\n            props.object,\n            {\n                [key]: {\n                    $set: newValue\n                }\n            }\n        ));\n    };\n\n    // The trash button (if the consumer didn't specify one)\n    const trashButton = (\n        <button onClick={props.onRemove}>Trash</button>\n    );\n    const isEmpty =(object)=>{\n        if(_.isUndefined(object.type)){\n            //console.log('typpppe')\n            return StringCell;\n        }else{\n            if(object.type == \"UNITE\" || object.type == \"FLACON\"){\n                return StringCell;\n            }else if(object.type == \"FLACON\") {\n\n            }\n\n        }\n        return StringCell;\n        //else if(object.type)\n        //(object.condml !== 0 && object.qttccpvente !== 0 ? StringCell : EmptyCell)\n    }\n    const keyUnityBolus = (key) =>{\n        if(key == 'prixParCC'){\n            return EmptyCell;\n        }else if(key == 'prixqttccvente'){\n            return EmptyCell;\n        }\n        else{\n             return StringCell;\n        }\n    }\n    const keyFlacon = (object,key) =>{\n      if(object.condml == 0 && object.qttccpvente == 0 && key == 'prixqttccvente'){\n        return EmptyCell;\n      }else{\n        return StringCell;\n       }\n    }\n    //object.type == \"FLACON\" ? (object.condml !== 0 && object.qttccpvente !== 0 ? StringCell: EmptyCell):StringCell\n    const inputType = (type,object,key) => {\n        const isStringType = _.includes(STRING_INPUT_TYPES, type)\n        return isStringType\n            ? _.isUndefined(object.type) \n            || object.type == \"UNITE\" \n            || object.type == \"BOLUS\" \n            ? (keyUnityBolus(key)): (object.type == \"FLACON\" ? keyFlacon(object,key):  StringCell )\n            : ObjectCell\n    }\n    // Render a cell based on a primitive SchemaType, a value, and a handler\n    const renderCell = (primitiveType,object,key, value, handler) => {\n        //console.log('primitiveyype', primitiveType._type,object);\n\n        const CellType = inputType(primitiveType._type,object,key);\n        //  console.log('rendercell',primitiveType);\n        return <CellType\n            type={primitiveType}\n            value={value}\n            onChange={handler} />\n    };\n\n    // If props.type is a primitive (i.e. type._isSchemaType is true), we just render a single td\n    // based on props.type.\n    // If props.type is an object, we render td:s for each key in the object.\n\n    const renderElementBody = () => {\n       \n        //console.log('object case', props.object.prixqttccvente)\n        // Object case\n        return _.map(\n            Object.keys(props.type),\n            key => {\n                const value = props.object\n                   // ? key==\"prixqttccvente\" ? props.object[key] * props.object.qttccpvente : props.object[key]\n                    ? props.object[key]\n                    : null;\n                return renderCell(\n                    props.type[key],\n                    props.object,\n                    key,\n                    value,\n                    getChangeHandler(key)\n                );\n            }\n        );\n    };\n\n    const rowClasses = cx(\n        BaseClassnames.ElementRow(),\n        props.className || ''\n    );\n\n    return (\n        <tr className={rowClasses}>\n            {/**<td>\n                {\n                    // Icon for the element\n                    props.icon\n                        ? props.icon()\n                        : <i>icon</i>\n                }\n            </td>**/}\n\n            {/*\n              * Render the \"body\" of the element -- for an object, cells for each key.\n              * For a primitive, a single cell.\n              */}\n            {renderElementBody()}\n\n            {/**<td>\n                {\n                    props.trash\n                        ? props.trash()\n                        : trashButton\n                }\n            </td>**/}\n        </tr>\n    );\n};\nElementRow.displayName = 'ElementRow';\n\nexport { ObjectEditor, ArrayEditor };\n","\nimport React, { useState,useEffect,useCallback } from 'react'\nimport {SchemaView} from './SchemaView'\nimport { ObjectEditor, ArrayEditor } from './Editor';\nimport update from 'react-addons-update';\nimport _ from 'lodash';\nexport { SchemaTypes, matchesSchema } from './Schema';\nconst JsonEditor = ({ object,onChange,trad,type }) => {\n  const [state, setState] = useState([]);\n  useEffect(() => {\n    setState(object)\n  }, [object])\n\n  const updateArray = (el, updatedIndex) => {\n                        if (typeof updatedIndex !== 'undefined') {\n                       onChange(\n                                update(\n                                    object,\n                                    {\n                                        [updatedIndex]: {\n                                            $set: el,\n                                        }\n                                    }\n                                )\n                            );\n                        }\n  }\n  const add = useCallback(newObject => {\n   // setState([...object, newObject]);\n   // return true;\n  },[]);\n  const remove = useCallback((removedObject, removedIndex) => {\n    /**let val = _.reject(\n        state,\n        (__, idx) => idx === removedIndex\n      )\n    setState(val);**/\n  },[]);\n  const EditorComponent = Array.isArray(object)\n      ? ArrayEditor\n      : ObjectEditor;\n      console.log('state',object);\n    return (\n        <div style={{ display: 'flex', alignItems: 'flex-start', marginBottom: '20px' }}>\n        <EditorComponent\n          className='editor--outside'\n          object={object}\n          trad={trad}\n          type={type}\n          onUpdateElement={updateArray}\n          onAddElement={add}\n          onRemoveElement={remove} />\n        {/**<div style={{\n                  display: 'flex',\n                  flexDirection: 'column',\n                  background: '#f6f6f6',\n                  padding: '6px',\n                  boxShadow: '0px 6px 14px 0px #0000003d, 0px 2px 3px 0px #00000040',\n                  marginLeft: '10px',\n                  marginTop: 0,\n                }}>\n                  <h4 style={{ margin: '0 0 10px 0' }}>Data</h4>\n                  <pre>{JSON.stringify(this.state.object, null, '   ')}</pre>\n                </div>\n                <div style={{\n                    display: 'flex',\n                    flexDirection: 'column',\n                    background: '#f6f6f6',\n                    padding: '6px',\n                    boxShadow: '0px 6px 14px 0px #0000003d, 0px 2px 3px 0px #00000040',\n                    marginLeft: '10px',\n                    marginTop: 0,\n                  }}>\n                    <h4 style={{ margin: '0 0 10px 0' }}>Schema</h4>\n                    <SchemaView schema={this.props.type} />\n                  </div>**/}\n      </div>\n    );\n};\nexport default JsonEditor;","import React, { useEffect, useMemo, useState, useCallback, useRef } from 'react';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport moment from 'moment';\nimport _ from 'lodash';\nimport update from 'react-addons-update';\nimport DateRangePicker from \"@wojtekmaj/react-daterange-picker\";\nimport ActiveLink from \"../@adminlte/adminlte/Content/ActiveLink\";\nimport Content from \"../@adminlte/adminlte/Content\";\nimport { setSearchByDate } from \"../store/actions/search/search\";\nimport ContentHeader from \"../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../@adminlte/adminlte/Content/Page\";\nimport { getTdbCommandeByProducts } from \"../store/actions/commandes\";\nimport { action, getData } from \"../utils/lib/call\";\nimport { displayDate } from \"../utils/functions\";\nimport DatePickerDateSection from './DatePickerDateSection';\nimport PriceContainer from './Price/PriceContainer';\nimport EditToFromMag from './composants/vendeur/fromMagasin/EditFromMag';\nimport { useParams } from 'react-router-dom';\nimport { useHistory } from \"react-router-dom\";\nimport Cycle from '../utils/cycle';\nimport JsonEditor,{SchemaTypes} from './jsonEditor';\nimport { toast } from 'react-toastify';\nconst schema = {\n    dateCom: SchemaTypes.string({ disabled: true }),\n    contenu: SchemaTypes.arrayOf({\n      name: SchemaTypes.string({\n        disabled: true\n      }),\n      prixVente: SchemaTypes.number({\n        numeric: true\n      }),\n      prixParCC: SchemaTypes.number({\n        numeric: true\n      }),\n      prixqttccvente: SchemaTypes.number({\n        numeric: true\n      })\n    })(),\n};\nconst ChangePrixDate = () => {\n  const history = useHistory();\n  const search = useSelector((state) => state.searchbydate);\n  var start = moment().isoWeekday(1).startOf(\"week\");\n  var end = moment().endOf(\"week\");\n  const [rangeDate, setRangeDate] = useState([]);\n  const [rangeMonth, setRangeMonth] = useState([]);\n  let [startofDate, setStartofDate] = useState(start);\n  let [endDate, setEndDate] = useState(end);\n  const [dateRange, onChangeDateRange] = useState([search.deb, search.fin]);\n  const { id } = useParams();\n  const dispatch = useDispatch();\n  const commandes = useSelector(getData(\"commandes\").value);\n  const meta = useSelector(getData(\"commandes\").meta);\n  const products = useSelector(getData(\"products\").value);\n  useEffect(() => {\n    dispatch(action(\"products\").get(id));\n  }, []);\n  useEffect(() => {\n    if (dateRange !== null) {\n      if (dateRange[0]) {\n        setStartofDate(dateRange[0]);\n      }\n      if (dateRange[0]) {\n        setEndDate(dateRange[1]);\n      }\n    } else {\n      setStartofDate(start);\n      setEndDate(end);\n    }\n  }, [dateRange]);\n\n   useEffect(() => {\n    if (dateRange !== null) {\n      if (dateRange[0]) {\n        dispatch(setSearchByDate(dateRange[0], dateRange[1]));\n      }\n    }\n  }, [dateRange]);\n useEffect(() => {\n    if (startofDate && endDate) {\n      console.log('get vente');\n      dispatch(getTdbCommandeByProducts('vente-cva',startofDate, endDate,id));\n    }\n  }, [startofDate, endDate]);\n\n const onChange = useCallback(\n   (value) => {\n    console.log('changed',value);\n    dispatch(\n      action(\"commandes\").setItems(value)\n    )\n   },\n   [],\n )\n const updateCommandeOnServer = () =>{\n  dispatch(\n      action(\"commandes\").updateData(\n        {\n          commandes\n        },\n        \"update-many-commandes\"\n      )\n    )\n    toast('Modification des prix appliqus !!!', { autoClose: 5000 });\n }\n \n  console.log('render change',commandes);\n  return (\n    <Content>\n      <ContentHeader title={`Historique de commande  ${products[0]?.name ? products[0]?.name: \"\"}`}>\n        <ActiveLink title={`Historique de commande ${products[0]?.name ? products[0]?.name: \"\"}`}></ActiveLink>\n      </ContentHeader>\n      <Page>\n       <div className=\"d-flex flex-row justify-content-between\">\n          <div>\n            <div>\n                  {startofDate && endDate && (\n                    <>\n                      <h2 class=\"text-uppercase my-1\">\n                        Commande de  \"{products[0]?.name ? products[0]?.name: \"\"}\"\n                      </h2>\n                      <span>\n                        Du: {displayDate(startofDate)} Au {displayDate(endDate)}\n                      </span>\n                    </>\n                  )}{\" \"}\n                </div>\n          </div>\n          <div className=\"d-flex flex-row\">\n            <div className=\"mr-3\">\n              <DateRangePicker\n                      locale=\"fr-FR\"\n                      onChange={onChangeDateRange}\n                      value={dateRange}\n                    />\n              </div>\n            <div>\n            <button className=\"btn bg-thead text-white mb-1 btn-sm\" onClick={updateCommandeOnServer}>Enregistrer</button>\n          </div>\n          </div>\n        </div>\n        {commandes.length > 0 ? (\n          <JsonEditor\n             object={commandes}\n             onChange={onChange}\n             type={schema} />\n          ):(\n          <div className=\"alert bg-thead text-white mt-2 text-center\"> Aucune resultat trouv </div>\n        )}\n      \n      </Page>\n    </Content>\n  );\n};\n\n\nexport default ChangePrixDate;\n","import { useEffect } from 'react';\n\nconst useScrollTop = () => {\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n};\n\nexport default useScrollTop;\n","/* eslint-disable react/forbid-prop-types */\n/* eslint-disable react/jsx-props-no-spreading */\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport { ROLE_VENDEUR } from \"../constants/roles\";\nimport { SIGNIN, SIGNUP } from \"../constants/routes\";\nimport AdminLTE from \"../@adminlte/AdminLTE\";\nimport useScrollTop from '../hooks/useScrollTop';\nconst PublicRoute = ({ isAuth, role, component: Component, path, ...rest }) => {\n  useScrollTop();\n  return (\n  <Route\n    {...rest}\n    // eslint-disable-next-line consistent-return\n    render={(props) => {\n      // eslint-disable-next-line react/prop-types\n      const { from } = props.location.state || { from: { pathname: \"/\" } };\n\n      /* if (isAuth && role === ROLE_ADMIN) {\n        return <Redirect to={ADMIN_DASHBOARD} />;\n      }\n      if(isAuth && role === ROLE_BOUTIK){\n        return <Redirect to={BOUTIK_DASHBOARD}/>\n      }*/\n\n      if (\n        isAuth &&\n        role === ROLE_VENDEUR &&\n        (path === SIGNIN || path === SIGNUP)\n      ) {\n        return <Redirect to={from} />;\n      }\n\n      return (\n        <div>\n          <AdminLTE title={\"CBV AMBALAVAO\"}>\n          <Component {...props} />\n          </AdminLTE>\n        </div>\n      );\n    }}\n  />\n)};\n\nPublicRoute.defaultProps = {\n  isAuth: false,\n  role: ROLE_VENDEUR,\n  path: \"/\",\n};\n\nconst mapStateToProps = ({ auth }) => ({\n  isAuth: auth?.isLoggedIn,\n  role: auth?.user?.role || \"\",\n});\n\nexport default connect(mapStateToProps)(PublicRoute);\n","import * as Yup from \"yup\";\nexport function validationSchema() {\n  return Yup.object().shape({\n    username: Yup.string().required(\"Le nom d'utilisateur ne doit pas etre vide\")\n  });\n}\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\n\nimport { createBrowserHistory } from \"history\";\nimport { login } from \"../../store/actions/user\";\nimport { useHistory } from \"react-router-dom\";\nimport Form from \"../../utils/form\";\nimport {validationSchema} from './validation';\nconst SignIn = () => {\n  const dispatch = useDispatch();\n  const history = createBrowserHistory();\n  return (\n    <div>\n      <Form\n        id={`login-form`}\n        enableReinitialize\n        initialValues={{\n          username: \"\",\n          password: \"\",\n        }}\n        validations={validationSchema}\n        onSubmit={(values, form) => {\n            const { username, password } = values;\n          \n        }}\n        render={({ values }) => (\n          <Form.Element>\n            <div className=\"login-box\">\n              <div className=\"login-container  col-4\">\n                <div className=\"card\">\n                  <div className=\"card-header d-flex flex-row justify-content-center bg-dark  text-white\">\n                    <div className=\"card-title text-uppercase\">Connexion</div>\n                  </div>\n                  <div className=\"card-body login-card-body\">\n                    <Form.Field.Input\n                      name=\"username\"\n                      label=\"Nom d'utilisateur\"\n                      placeholder=\"Nom d'utilisateur\"\n                    />\n                    <Form.Field.Password\n                      name=\"password\"\n                      label=\"Mot de passe\"\n                      placeholder=\"Mot de passe\"\n                    />\n                    <div className=\"d-flex flex-row justify-content-end mt-3\">\n                      <button className=\"btn btn-green btn-md\" type=\"submit\">\n                        Se connecter\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </Form.Element>\n        )}\n      />\n    </div>\n  );\n};\n\nexport default SignIn;\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nconst AuthContext = React.createContext();\n\nfunction Auth({ children }) {\n  const { user, auth, isLoggedIn } = useSelector((state) => ({\n    user: state.auth?.user,\n    auth: state.auth,\n    isLoggedIn: state.auth?.isLoggedIn,\n  }));\n  const value = { user, auth, isLoggedIn };\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n}\n\nfunction Data({ children }) {\n  return (\n    <AuthContext.Consumer>\n      {(context) => {\n        if (context === undefined) {\n          throw new Error(\"Data  must be used within a AuthContext\");\n        }\n        return children(context);\n      }}\n    </AuthContext.Consumer>\n  );\n}\nexport { Auth, Data };\n","import React from \"react\";\nimport { useColorModeValue as mode } from \"@chakra-ui/system\";\nimport { useDispatch } from \"react-redux\";\nimport { Redirect } from \"react-router\";\nimport { Link, NavLink } from \"react-router-dom\";\nimport { login, register } from \"../../store/actions/user\";\nimport { Auth, Data as DataAuth } from \"../../context/auth-context\";\nimport Form from \"../../utils/form\";\nconst SignUp = () => {\n  const dispatch = useDispatch();\n  return (\n    <div>\n      <Auth>\n        <DataAuth>\n          {({ user, isLoggedIn }) => (\n            <>\n              {isLoggedIn && (\n                <Redirect\n                  to={{\n                    pathname: \"/\",\n                    state: {\n                      notification: {\n                        message: \"Vous vous  etes connect avec succes\",\n                        type: \"success\",\n                      },\n                    },\n                  }}\n                />\n              )}\n              {user?.error != null && (\n                <div>\n                  {user?.error.message}\n                </div>\n              )}\n              <h3>\n                creer un compte\n              </h3>\n              <div\n                borderTop=\"4px\"\n                boxShadow=\"md\"\n                bg={\"white\"}\n                px={8}\n                py={3}\n                w={400}\n              >\n                {isLoggedIn && <Redirect to=\"/\" />}\n\n                <Form\n                  enableReinitialize\n                  initialValues={{\n                    username: \"\",\n                    password: \"\",\n                    role: \"ROLE_VENDEUR\",\n                  }}\n                  validations={{}}\n                  onSubmit={(values, form) => {\n                    const { username, password, role } = values;\n                 //   console.log(values);\n                  dispatch(\n                      register({\n                        username: username,\n                        password: password,\n                        role: role\n                      })\n                    );\n                  }}\n                >\n                  <Form.Element>\n                    <Form.Field.Input\n                      border=\"1px\"\n                      name=\"username\"\n                      label=\"Nom d'utilisateur\"\n                      placeholder={\"ex: Nom d'utilisateur\"}\n                      mb={3}\n                    />\n\n                    <Form.Field.Input\n                      name=\"password\"\n                      label=\"Mot de passe\"\n                      placeholder={\"Mot de passe\"}\n                      type={\"password\"}\n                    />\n                    <Form.Field.Select\n                      label=\"Role\"\n                      name=\"role\"\n                      valueKey={\"name\"}\n                      options={[\n                        {\n                          id: \"ROLE_VENDEUR\",\n                          name: \"VENDEUR\",\n                        },\n                        {\n                          id: \"ROLE_ADMIN\",\n                          name: \"ADMIN\",\n                        },\n                        {\n                          id: \"ROLE_SEMI_ADMIN\",\n                          name: \"ROLE_SEMI_ADMIN\",\n                        }\n                      ]}\n                    />\n                   \n                    <div>\n                      <button color={\"white\"} type={\"submit\"} mt={4}>\n                        Se connecter\n                      </button>\n                    </div>\n                  </Form.Element>\n                </Form>\n              </div>\n\n            </>\n          )}\n        </DataAuth>\n      </Auth>\n    </div>\n  );\n};\n\nexport default SignUp;\n","import PropType from \"prop-types\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport { ROLE_ADMIN, ROLE_VENDEUR } from \"../constants/roles\";\nimport useScrollTop from \"../hooks/useScrollTop\";\nconst VendeurRoute = ({ isAuth, role, component: Component, ...rest }) => {\n  useScrollTop();\n  return (\n    <Route\n      {...rest}\n      component={(props) => {\n          return (<Component {...props} />);\n        }\n      }\n    />\n  );\n};\nconst mapStateToProps = ({ auth }) => ({\n  isAuth: auth?.isLoggedIn,\n  role: auth?.user?.role || \"\",\n});\n\nVendeurRoute.defaultProps = {\n  isAuth: false,\n  role: ROLE_VENDEUR,\n};\n\nVendeurRoute.propTypes = {\n  isAuth: PropType.bool,\n  role: PropType.string,\n  component: PropType.func.isRequired,\n  rest: PropType.any,\n};\n\nexport default connect(mapStateToProps)(VendeurRoute);\n","export const SET_TO_MAGASIN_ITEMS = 'SET_TO_MAGASIN_ITEMS';\nexport const ADD_TO_MAGASIN = 'ADD_TO_MAGASIN';\nexport const REMOVE_FROM_MAGASIN = 'REMOVE_FROM_MAGASIN';\nexport const CLEAR_MAGASIN = 'CLEAR_MAGASIN';\nexport const ADD_QTY_MAGASIN_ITEM = 'ADD_QTY_MAGASIN_ITEM';\nexport const MINUS_QTY_MAGASIN_ITEM = 'MINUS_QTY_MAGASIN_ITEM';\nexport const ADD_NUMBER_QTY_ITEM ='ADD_NUMBER_QTY_ITEM';\nexport const ADD_QTY_NUMBER_MAGASIN_ITEM=\"ADD_QTY_NUMBER_MAGASIN_ITEM\";","import {\n  ADD_QTY_MAGASIN_ITEM,\n  ADD_QTY_NUMBER_MAGASIN_ITEM,\n  ADD_TO_MAGASIN,\n  CLEAR_MAGASIN,\n  MINUS_QTY_MAGASIN_ITEM,\n  REMOVE_FROM_MAGASIN,\n  SET_TO_MAGASIN_ITEMS,\n\n} from \"../constants\";\n\nexport const setToMagasinItems = (items = []) => ({\n  type: SET_TO_MAGASIN_ITEMS,\n  payload: items,\n});\n\nexport const addToMagasin = (product) => ({\n  type: ADD_TO_MAGASIN,\n  payload: product,\n});\n\nexport const removeFromMagasin = (id) => ({\n  type: REMOVE_FROM_MAGASIN,\n  payload: id,\n});\n\nexport const clearMagasin = () => ({\n  type: CLEAR_MAGASIN,\n});\n\nexport const addQtyMagasinItem = (id) => ({\n  type: ADD_QTY_MAGASIN_ITEM,\n  payload: { id: id },\n});\n\nexport const minusQtyMagasinItem = (id) => ({\n  type: MINUS_QTY_MAGASIN_ITEM,\n  payload: { id: id },\n});\nexport const setQtyMagasinItem =(id,value)=>({\n  type : ADD_QTY_NUMBER_MAGASIN_ITEM,\n  payload:{\n    id:id,\n    value:value\n  }\n}) ","import {\n  addToMagasin as dispatchAddToMagasin,\n  removeFromMagasin,\n} from \"../store/tomagasin/actions/tomagasin\";\nconst useDepotToMagasin = (tomagasin, dispatch) => {\n  const isItemOnDepotToMagasin = (id) =>\n    !!tomagasin?.find((item) => item?.id === id);\n  const addToMagasin = (product) => {\n    if (isItemOnDepotToMagasin(product.id)) {\n      dispatch(removeFromMagasin(product.id));\n    } else {\n      dispatch(dispatchAddToMagasin(product));\n    }\n  };\n  return { tomagasin, isItemOnDepotToMagasin, addToMagasin };\n};\n\nexport default useDepotToMagasin;\n","import React from \"react\";\nimport { Col, ListGroup, Row } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport useDepotToMagasin from \"../../../../hooks/useDepotToMagasin\";\nconst ProductItem = ({ product }) => {\n  const tomagasin = useSelector((state) => state.tomagasins);\n  const dispatch = useDispatch();\n  const { isItemOnDepotToMagasin, addToMagasin } = useDepotToMagasin(\n    tomagasin,\n    dispatch\n  );\n  const onClickItem = () => {\n    if (!product) return;\n\n    if (product.id) {\n      //  history.push(`/product/${product.id}`)\n    }\n  };\n\n  const itemOnBasket = isItemOnDepotToMagasin\n    ? isItemOnDepotToMagasin(product.id)\n    : false;\n\n  const handleAddToBasket = () => {\n    if (addToMagasin) addToMagasin(product);\n  };\n\n  return (\n    <>\n      <ListGroup.Item>\n        <Row\n          className={`product-card m-2 ${!product.id ? \"product-loading\" : \"\"}`}\n          style={{\n            border: product && itemOnBasket ? \"1px solid #a6a5a5\" : \"\",\n            paddingTop:product && itemOnBasket ? \"5px\":\"0px\",\n            boxShadow:\n              product && itemOnBasket\n                ? \"0 10px 15px rgba(0, 0, 0, .07)\"\n                : \"none\",\n          }}\n        >\n          <Col xs={9}>\n            <div>{product.name}{\" \"}</div>\n            <div class=\"badge badge-primary\">{product?.fournisseur?.name}</div>\n       \n          </Col>\n          <Col xs={3}>\n            {product.id && (\n              <button\n                disabled={product.quantityBrute <= 0}\n                className={` ${\n                  itemOnBasket\n                    ? \"btn btn-danger btn-sm\"\n                    : \"btn btn-green btn-sm\"\n                }`}\n                onClick={handleAddToBasket}\n              >\n                {!itemOnBasket ? \"Ajouter\" : \"Retirer\"}\n              </button>\n            )}\n           \n          </Col>\n        </Row>\n      </ListGroup.Item>\n    </>\n  );\n};\n\nexport default ProductItem;\n","import {\n  NumberDecrementStepper,\n  NumberIncrementStepper,\n  NumberInput,\n  NumberInputField,\n  NumberInputStepper,\n} from \"@chakra-ui/number-input\";\nimport React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  addQtyMagasinItem,\n  minusQtyMagasinItem,\n  setQtyMagasinItem,\n} from \"../../../../store/tomagasin/actions/tomagasin\";\nconst ToMagItemControl = ({ product }) => {\n  const dispatch = useDispatch();\n  const onAddQtyBrute = (value) => {\n    dispatch(setQtyMagasinItem(product.id, value));\n  };\n  return (\n    <div className=\"basket-item-control\">\n      <NumberInput\n        w={28}\n        bg={\"whitesmoke\"}\n        onChange={(value) => {\n          onAddQtyBrute(value);\n        }}\n        min={0}\n        defaultValue={product.quantityParProduct}\n        step={1}\n        max={product.quantityBrute}\n      >\n        <NumberInputField />\n        <NumberInputStepper>\n          <NumberIncrementStepper />\n          <NumberDecrementStepper />\n        </NumberInputStepper>\n      </NumberInput>\n    </div>\n  );\n};\nexport default ToMagItemControl;\n","import React from \"react\";\nimport { useDispatch,useSelector } from \"react-redux\";\nimport useDepotToMagasin from \"../../../../hooks/useDepotToMagasin\";\nimport { displayMoney } from \"../../../../utils/functions\";\nimport ToMagItemControl from './ToMagItemControl';\nconst ToMagItem = ({ product }) => {\n  const dispatch = useDispatch();\n  const onRemoveFromBasket = () =>{\n     //dispatch(removeFromBasket(product.id))\n    };\n    const tomagasin = useSelector((state) => state.tomagasins);\n    const { isItemOnDepotToMagasin, addToMagasin } = useDepotToMagasin(\n      tomagasin,\n      dispatch\n    );\n    const itemOnBasket = isItemOnDepotToMagasin\n      ? isItemOnDepotToMagasin(product.id)\n      : false;\n  \n    const handleAddToBasket = () => {\n      if (addToMagasin) addToMagasin(product);\n    };\n  return (\n    <div>\n      <div className=\"d-flex justify-content-between align-items-center border   mb-2 p-2\">\n        <div style={{ width: \"45%\" }}>\n          <p>\n            {product.name}\n          </p>\n          <span><strong> {displayMoney(product.prixVente)}</strong></span>\n        </div>\n        <div className=\"text-inline\">\n          <small>{ product.type} </small>\n\n          <ToMagItemControl product={product} />\n        </div>\n        <div>\n        {itemOnBasket && (\n          <button\n            onClick={handleAddToBasket}\n            className=\"btn btn-danger btn-xs text-right\"\n          >\n            X\n          </button>\n        )}\n      </div>\n      {/**  <div>\n          <small>CC </small>\n          <BasketItemPartial product={product} />\n        </div> */}\n      </div>\n    </div>\n  );\n};\n\nexport default ToMagItem;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Card } from \"react-bootstrap\";\nimport { useHistory } from \"react-router-dom\";\nimport ToMagItem from \"./ToMagItem\";\n//import { NumberFormat } from 'react-number-format';\nimport { action, getData } from \"../../../../utils/lib/call\";\nimport { MgToMl } from \"../../../../hooks/convertisseur\";\nimport { clearMagasin } from \"../../../../store/tomagasin/actions/tomagasin\";\nimport { displayMoney } from \"../../../../utils/functions\";\n\nimport { HISTORIQUESORTIECVA } from \"../../../../constants/routes\";\nimport {\n  canBuyBrute,\n  handleSoldProduct,\n} from \"../../../../store/functions/function\";\nconst calculateTotal = (arr) => {\n  if (!arr || arr?.length === 0) return 0;\n  const total = arr.reduce((acc, val) => acc + val, 0);\n  return total;\n};\nconst ToMag = () => {\n  const { tomagasins } = useSelector((state) => ({\n    tomagasins: state.tomagasins,\n  }));\n\n  const date = new Date();\n  const [dateCom, setDateCom] = useState(date);\n  const history = useHistory();\n  const meta = useSelector(getData(\"commandes\").meta);\n  const metaSortieDepot = useSelector(getData(\"sortiedepots\").meta);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(clearMagasin());\n    dispatch(action(\"commandes\").fetch());\n    dispatch(action(\"sortiedepots\").fetch());\n  }, []);\n  const day = date.getDate();\n  const monthIndex = date.getMonth();\n  const year = date.getFullYear();\n  const hours = date.getHours();\n  const minutes = date.getMinutes();\n  const second = date.getSeconds();\n\n  const validerCommande = () => {\n    dispatch(\n      action(\"commandes\").createTransaction(\n        {\n          id: Number(meta.nextId),\n          contenu: tomagasins,\n          type: \"cva\",\n          sorte: \"sortie\",\n          status: true,\n          dateCom: dateCom != null ? dateCom : date,\n        },\n        \"add-to-magasin\"\n      )\n    );\n{/*\n    tomagasins.forEach((element) => {\n      if (canBuyBrute(element)) {\n        handleSoldProduct(element, element.quantityParProduct);\n        element.quantityBruteCVA += Number(element.quantityParProduct);\n        element.quantityParProduct = 0;\n      } else {\n        element.quantityParProduct = 0;\n      }\n      {\n        /**   element.quantityBrute -=  Number(element.quantityParProduct);\n      element.quantityBruteCVA += Number(element.quantityParProduct);\n      //  element.refSortie=`CVA_${meta.nextId}_${day}_${monthIndex}_${year}_${hours}_${minutes}_${second}`;\n      \n      dispatch(\n        action(\"sortiedepots\").create({\n          id: Number(metaSortieDepot.nextId),\n          productId: element.id,\n          status: false, //true: le quantite command  expirer il faut passer au suivants\n          refSortie: `CVA_${meta.nextId}_${day}_${monthIndex}_${year}_${hours}_${minutes}_${second}`,\n          quantiteSortie: element.quantityParProduct,\n        })\n      );\n      if (element.quantityBruteCVA !== 0) {\n        element.quantityParProduct = 1;\n      }\n      }\n    dispatch(action(\"products\").update(element));\n    });*/}\n\n   dispatch(clearMagasin());\n    //console.log(basket);\n  history.push(HISTORIQUESORTIECVA);\n  };\n\n  const annulerCommande = () => {\n    if (tomagasins.length !== 0) {\n      dispatch(clearMagasin());\n    }\n  };\n\n  return (\n    <>\n      <Card>\n        <Card.Header className=\"bg-dark text-white d-flex justify-content-between align-items-center\">\n          <div>\n            Depot to Magasin (\n            {` ${tomagasins.length} ${\n              tomagasins.length > 1 ? \"articles\" : \"article\"\n            }`}\n            )\n          </div>\n        </Card.Header>\n        <Card.Body>\n          <div class=\"form-group\">\n            <label>Date de sortie :</label>\n            <div>\n              <input\n                type=\"date\"\n                onChange={(e) => setDateCom(e.target.value)}\n                value={dateCom}\n                className=\"form-control\"\n              />\n            </div>\n          </div>\n          {tomagasins.length <= 0 && (\n            <div class=\"alert alert-success \">\n              Choississez un produit sur la section \"Produits\" puis cliquez sur\n              \"Ajouter\"\n            </div>\n          )}\n          {tomagasins?.map((product, i) => (\n            <ToMagItem\n              key={`${product?.id}_${i}`}\n              product={product}\n              tomagasin={tomagasins}\n              dispatch={dispatch}\n            />\n          ))}\n          {tomagasins.length > 0 && (\n            <div className=\"d-flex justify-content-end\">\n              <button\n                className=\"btn btn-green btn-sm mr-2\"\n                disabled={tomagasins.length === 0}\n                onClick={validerCommande}\n                type=\"button\"\n              >\n                Valider l'operation\n              </button>\n              <button\n                className=\"btn btn-danger btn-sm\"\n                onClick={annulerCommande}\n                type=\"button\"\n              >\n                <span>Annuler</span>\n              </button>\n            </div>\n          )}\n        </Card.Body>\n        {tomagasins.length > 0 && (\n          <Card.Footer className=\"d-flex justify-content-between\">\n            <div>\n              <h3 style={{ fontSize: \"14px\" }}>\n                <strong>Total : </strong>\n                {displayMoney(\n                  calculateTotal(\n                    tomagasins.map(\n                      (product) =>\n                        product.prixVente * product.quantityParProduct\n                    )\n                  )\n                )}\n              </h3>\n            </div>\n          </Card.Footer>\n        )}\n      </Card>\n    </>\n  );\n};\n\nexport default ToMag;\n","import React, { useEffect, useState } from \"react\";\nimport ProductItem from \"./item\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Container, Row, Col, ListGroup, Card } from \"react-bootstrap\";\nimport ToMag from \"./ToMag\";\nimport { action, getData } from \"../../../../utils/lib/call\";\nimport searchByName from \"../../../../filters/searchByName\";\n\nconst Products = () => {\n  const [productData, setProductData] = useState([]);\n  const [regenerate, setRegenerate] = useState(false);\n  const products = useSelector(getData(\"products\").value);\n  const meta = useSelector(getData(\"products\").meta);\n  const dispatch = useDispatch();\n  const [value, setValue] = useState(\"\");\n  useEffect(() => {\n    dispatch(action(\"products\").fetch());\n  }, []);\n  useEffect(() => {\n    if (!meta.isFetching) {\n      setProductData(products);\n    }\n  }, [meta]);\n  useEffect(() => {\n    setProductData(searchByName(products, value));\n  }, [value]);\n  return (\n    <Container>\n      <Row>\n        \n        <Col xs={6}>\n          <Card>\n            <Card.Header className=\"bg-dark p-2 text-white d-flex text-uppercase justify-content-between align-items-center\">\n              Produits\n            </Card.Header>\n            <Card.Body>\n              <ListGroup>\n                <input\n                  type=\"text\"\n                  onChange={(e) => {\n                    setValue(e.target.value);\n                  }}\n                  placeholder=\"Nom du produit\"\n                  className=\"form-control mb-2\"\n                />\n                <div\n                  style={{\n                    overflowY: \"auto\",\n                    height: \"350px\",\n                    maxHeight: \"350px\",\n                    overflowX: \"hidden\",\n                  }}\n                >\n                  {productData.map((p) => {\n                    return <ProductItem product={p} />;\n                  })}\n\n                  {products.length === 0 && \"Aucune enregistrement trouv\"}\n                </div>\n              </ListGroup>{\" \"}\n            </Card.Body>{\" \"}\n          </Card>\n        </Col>\n        <Col xs={6}>\n          <ToMag />\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default Products;\n","import React from \"react\";\nimport Content from \"../../../@adminlte/adminlte/Content\";\nimport ActiveLink from \"../../../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../../../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../../../@adminlte/adminlte/Content/Page\";\nimport Products from '../../composants/admin/tomagasin/product';\n\nexport const AdminDashboard = () => {\n  return (\n    <>\n      <Content>\n        <ContentHeader title=\"Depot vers magasin\">\n          <ActiveLink title=\"Depot vers magasin\"></ActiveLink>\n        </ContentHeader>\n        <Page>\n        <Products />\n          {/**   <GetAll model={\"products\"}>\n            <Data>{({ data, meta }) => <>{JSON.stringify(data)}</>}</Data>\n          </GetAll> */}\n        </Page>\n      </Content>\n    </>\n  );\n};\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { action } from '../../../../utils/lib/call';\nfunction DeleteToMagasin({ model,isDisabled, entity }) {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const deleteEntity = () => {\n    dispatch(action(model).deleteTransaction(entity, \"/delete-to-magasin\"));\n    history.goBack();\n  };\n  return (\n    <>\n      <button\n        className=\"btn btn-danger btn-sm\"\n        disabled={isDisabled}\n        onClick={(e) => {\n          e.preventDefault();\n          if (window.confirm(`Vous voulez vraiment supprimer le produit ?`)) {\n            deleteEntity();\n          }\n        }}\n      >\n        Supprimer\n      </button>\n    </>\n  );\n}\n\nexport default DeleteToMagasin;\n","import React, { useState, useRef, useEffect } from \"react\";\nimport Content from \"../../../../@adminlte/adminlte/Content\";\nimport ActiveLink from \"../../../../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../../../../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../../../../@adminlte/adminlte/Content/Page\";\nimport { action, getData } from \"../../../../utils/lib/call\";\nimport { useDispatch } from \"react-redux\";\nimport { useSelector } from \"react-redux\";\nimport { getCVA } from \"../../../../store/actions/commandes\";\nimport { displayDate, displayMoney } from \"../../../../utils/functions\";\nimport { Link } from \"react-router-dom\";\nimport DeleteToMagasin from \"./DeleteToMagasin\";\nimport moment from \"moment\";\nimport DateRangePicker from \"@wojtekmaj/react-daterange-picker/dist/DateRangePicker\";\nimport DataTable from \"../../../../utils/admin/DataTable\";\nconst isModified = (contenu) => {\n  for (let i = 0; i < contenu.length; ++i) {\n    if (contenu[i].correction > 0) {\n      return true;\n    } else return false;\n  }\n};\nexport const HistoriqueSortieCva = () => {\n  var start = moment().isoWeekday(1).startOf(\"week\");\n  var end = moment().endOf(\"week\");\n  const [deb, setDeb] = useState(start);\n  const [fin, setFin] = useState(end);\n\n  const [dateRange, onChangeDateRange] = useState([start, end]);\n  const refDateDeb = useRef(null);\n  const refDateFin = useRef(null);\n  const commandes = useSelector(getData(\"commandes\").value);\n  const meta = useSelector(getData(\"commandes\").meta);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getCVA(deb, fin));\n  }, [deb, fin]);\n\n  useEffect(() => {\n    if (dateRange !== null) {\n      if (dateRange[0]) {\n        setDeb(dateRange[0]);\n      }\n      if (dateRange[1]) {\n        setFin(dateRange[1]);\n      }\n    } else {\n      setDeb(start);\n      setFin(end);\n    }\n  }, [dateRange]);\n  const calculateTotal = (arr) => {\n    if (!arr || arr?.length === 0) return 0;\n    let total = 0;\n    arr.forEach((el) => {\n      total += el.prixVente * el.quantityParProduct * 1;\n    });\n    return total;\n  };\n  const quantiteBruteTotal = (arr) => {\n    let total = 0;\n    arr?.forEach((el) => {\n      total += el.quantityParProduct * 1;\n    });\n    return total;\n  };\n  const quantiteCCTotal = (arr) => {\n    if (!arr || arr?.length === 0) return 0;\n    let total = 0;\n    arr.forEach((el) => {\n      total += el.quantityCC;\n    });\n    return total;\n  };\n\n  const columns = [\n    {\n      Header: \"Date\",\n      Cell: (data) => {\n        return <div>{displayDate(data.row.original?.dateCom)}</div>;\n      },\n    },\n    {\n      Header: \"Produits\",\n      Cell: (data) => {\n        return (\n          <div style={{ width: \"350px\" }}>\n            {data.row.original?.isdeleted == true && (\n              <>\n                <div className=\"badge badge-danger\">Supprim</div>\n                <div className=\"text text-danger\">\n                  Date de suppression :{\" \"}\n                  {displayDate(data.row.original?.deletedat)}\n                </div>\n              </>\n            )}\n            {data.row.original?.isdeleted == null && (<p>\n              {isModified(data.row.original?.contenu) && (\n                <div className=\"badge badge-warning\">Modifi</div>\n              )}\n            </p>)}\n            {data.row.original?.contenu?.map((d) => (\n              <span>\n                <span\n                  style={{\n                    background:\"white\",\n                    color: data.row.original?.isdeleted == true ? \"red\":\"inherit\",\n                    padding: 2,\n                  }}\n                >\n                  {d.name}\n                </span>\n                <span   style={{\n                  color: data.row.original?.isdeleted == true ? \"red\":\"inherit\"\n                }}> {\" || \"}</span>\n              </span>\n            ))}\n          </div>\n        );\n      },\n    },\n    {\n      Header: \"Qt\",\n      Cell: (data) => {\n        return <div>{quantiteBruteTotal(data.row.original?.contenu)}</div>;\n      },\n    },\n    {\n      Header: \"Total\",\n      Cell: (data) => {\n        return (\n          <div>{displayMoney(calculateTotal(data.row.original?.contenu))}</div>\n        );\n      },\n    },\n    {\n      Header: \"Actions\",\n      Cell: (data) => {\n        const isDisabled = data.row.original?.isdeleted==true ? true: false;\n        return (\n          <>\n            <Link\n              to={`/depot/to/magasin/detail/${data.row.original?.id}`}\n              className={`btn btn-green btn-sm mr-2`}\n              disabled={isDisabled}\n            >\n              Dtails\n            </Link>\n            <Link\n              to={`/depot/to/magasin/edit/${data.row.original?.id}`}\n              className={`btn btn-warning btn-sm mr-2`}\n              disabled={isDisabled}\n            >\n              Editer\n            </Link>\n            <DeleteToMagasin model=\"tomagasins\" isDisabled={isDisabled} entity={data.row.original} />\n          </>\n        );\n      },\n    },\n  ];\n\n  return (\n    <Content>\n      <ContentHeader title=\"Historique sortie vers Magasin\">\n        <ActiveLink title=\"Historique sortie vers Magasin\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n        <div className=\"row\">\n          <div className=\"col-lg-6\">\n            <div>\n              <h3 className=\"text-uppercase\">\n                Historique de sortie vers Magasin\n              </h3>\n              <p>{`${displayDate(deb)} ->  ${displayDate(fin)}`}</p>\n            </div>\n          </div>\n          <div className=\"col-lg-6 text-right\">\n            <DateRangePicker\n              locale=\"fr-FR\"\n              onChange={onChangeDateRange}\n              value={dateRange}\n            />\n          </div>{\" \"}\n        </div>\n        <DataTable\n          filter={false}\n          data={commandes.sort((low, high) => high.id - low.id)}\n          meta={meta}\n          columns={columns}\n          //  addUrl={NOUVELLEFACTURE}\n          //  urlName={\"Ajouter un facture\"}\n        />\n      </Page>{\" \"}\n    </Content>\n  );\n};\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { action } from \"../../../../utils/lib/call\";\nfunction DeleteFromMagasin({ model, entity }) {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const deleteEntity = () => {\n    dispatch(\n      action(model).createTransaction(\n        {\n          commande: entity,\n          original: entity,\n        },\n        \"/delete-from-magasin\"\n      )\n    );\n    // history.goBack();\n  };\n  return (\n    <>\n      <button\n        className=\"btn btn-danger btn-sm\"\n        onClick={(e) => {\n          e.preventDefault();\n          if (window.confirm(`Vous voulez vraiment supprimer ce commande ?`)) {\n            deleteEntity();\n          }\n        }}\n      >\n        Supprimer\n      </button>\n    </>\n  );\n}\n\nexport default DeleteFromMagasin;\n","import React, { useEffect, useState } from \"react\";\nimport { displayDate } from '../../../../utils/functions';\nimport { reactFastCompare } from 'react-fast-compare';\nconst date = new Date();\nfunction Horloge() {\n  const [dateTime, setDateTime] = useState({\n    hours: date.getHours(),\n    minutes: date.getMinutes(),\n    seconds: date.getSeconds(),\n  });\n  useEffect(() => {\n    const timer = setInterval(() => {\n      const date = new Date();\n      setDateTime({\n        hours: date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours(),\n        minutes:\n          date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes(),\n        seconds:\n          date.getSeconds() < 10 ? \"0\" + date.getSeconds() : date.getSeconds(),\n      });\n    }, 1000);\n    return () => clearInterval(timer);\n  }, []);\n  return (\n    <div className=\"bg-dark py-1 px-4 text-center\">\n      <h1 style={{ fontSize: \"20px\" }} >\n        {dateTime.hours} : {dateTime.minutes} : {dateTime.seconds}\n      </h1>\n      <h4 className=\"bg-thead p-1\">{displayDate(date)}</h4>\n    </div>\n  );\n}\nexport default React.memo(Horloge,reactFastCompare);","import React from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport Horloge from \"./composants/vendeur/fromMagasin/Horloge\";\n\nexport default function HeaderVendeur() {\n  const location = useLocation();\n  console.log(location.pathname);\n  return (\n    <>\n      <div className=\"bg-dark text-white py-3 d-flex justify-content-center align-items-center\">\n        <h1 className=\"\">CABINET VETERINAIRE AMBALAVAO</h1>\n      </div>\n      <div className=\"py-2\">\n        <div class=\"d-flex justify-content-between align-items-center\">\n          <div></div>\n          <div>\n            <Horloge />\n          </div>\n\n          <div className=\"bg-thead\"></div>\n        </div>\n        <div class=\"d-flex justify-content-center mt-2 align-items-center\">\n          <Link\n            className={`btn bg-${\n              location.pathname == \"/vendeur\" || location.pathname == \"/Vendeur\"\n                ? \"thead\"\n                : \"dark\"\n            } text-white mb-2 mr-2 btn-sm`}\n            to={`/Vendeur`}\n          >\n            Vente\n          </Link>\n\n          <Link\n            className={`btn bg-${\n              location.pathname == \"/historique/vente/vendeur/vente-cva\"\n                ? \"thead\"\n                : \"dark\"\n            } text-white mb-2 mr-2 btn-sm`}\n            to={`/historique/vente/vendeur/vente-cva`}\n          >\n            Historique de vente\n          </Link>\n          <Link\n            className={`btn bg-${\n              location.pathname == \"/stock-cva\"\n                ? \"thead\"\n                : \"dark\"\n            } text-white mb-2 mr-2 btn-sm`}\n            to={`/stock-cva`}\n          >\n            Stocks\n          </Link>\n          <Link\n            className={`btn bg-${\n              location.pathname == \"/historique/vente/vendeur/credit-cva\"\n                ? \"thead\"\n                : \"dark\"\n            } text-white mb-2 mr-2 btn-sm`}\n            to={`/historique/vente/vendeur/credit-cva`}\n          >\n            Credits\n          </Link>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React, { useState, useEffect, useRef } from \"react\";\nimport ActiveLink from \"../../../../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../../../../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../../../../@adminlte/adminlte/Content/Page\";\nimport { useSelector } from \"react-redux\";\nimport { action, getData } from \"../../../../utils/lib/call\";\nimport { useDispatch } from \"react-redux\";\nimport { getCommandeCVA } from \"../../../../store/actions/commandes\";\nimport { displayDate, displayMoney } from \"../../../../utils/functions\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { Container } from \"react-bootstrap\";\nimport { VENDEUR } from \"../../../../constants/routes\";\nimport DeleteFromMagasin from \"./DeleteFromMagasin\";\nimport moment from \"moment\";\nimport DateRangePicker from \"@wojtekmaj/react-daterange-picker/dist/DateRangePicker\";\nimport DataTable from \"../../../../utils/admin/DataTable\";\nimport { setSearchByDate } from \"../../../../store/actions/search/search\";\nimport { isSpecialProductHandle } from \"./block-it\";\nimport HeaderVendeur from \"../../../HeaderVendeur\";\nconst isModified = (contenu) => {\n  for (let i = 0; i < contenu.length; ++i) {\n    if (contenu[i].correction > 0 || contenu[i].correctionml > 0) {\n      return true;\n    } else return false;\n  }\n};\nexport const HistoriqueVenteVendeur = () => {\n  const search = useSelector((state) => state.searchbydate);\n  const { type } = useParams();\n  const [dateRange, onChangeDateRange] = useState([search.deb, search.fin]);\n  const refDateDeb = useRef(null);\n  const refDateFin = useRef(null);\n  const commandes = useSelector(getData(\"commandes\").value);\n  const meta = useSelector(getData(\"commandes\").meta);\n  const dispatch = useDispatch();\n \n  useEffect(() => {\n    dispatch(getCommandeCVA(search.deb, search.fin, type));\n  }, [search.deb, search.fin]);\n  useEffect(() => {\n    if (dateRange !== null) {\n      if (dateRange[0]) {\n        dispatch(setSearchByDate(dateRange[0], dateRange[1]));\n      }\n    }\n  }, [dateRange]);\n  const calculateTotal = (arr) => {\n    if (!arr || arr?.length === 0) return 0;\n    const total = arr.reduce((acc, val) => acc + val, 0);\n    return total;\n  };\n\n  const totalDevente = (arr) => {\n    return (\n      calculateTotal(\n        arr?.map((product) => {\n          return isSpecialProductHandle(product)\n            ? product.prixqttccvente *\n                product.quantityParProduct *\n                product.qttccpvente +\n                product.prixlitre * product.qttbylitre\n            : product.prixVente * product.quantityParProduct;\n        })\n      ) +\n      calculateTotal(\n        arr?.map((product) => {\n          return product.prixParCC * product.qttByCC;\n        })\n      )\n    );\n  };\n  const recetteDuJour = (arr = []) => {\n    let filteredCommande = arr.filter(v => v.isdeleted!=true);\n    let total = 0;\n    if (commandes.length > 0) {\n      filteredCommande.map((c) => {\n        total += totalDevente(c?.contenu);\n      });\n    } else {\n      total = 0;\n    }\n\n    return total;\n  };\n  const columns = React.useMemo(\n    () => [\n      {\n        Header: \"Date\",\n        Cell: (data) => {\n          return <>{displayDate(data.row.original?.dateCom)}</>;\n        },\n      },\n      {\n        Header: \"Produits\",\n        Cell: (data) => {\n          return (\n            <div style={{ width: \"350px\" }}>\n              {data.row.original.isdeleted == true && (\n                <>\n                  <div className=\"badge badge-danger\">Supprim</div>\n                  <div className=\"text text-danger\">\n                    Date de suppression :{\" \"}\n                    {displayDate(data.row.original.deletedat)}\n                  </div>\n                </>\n              )}\n             \n              {data.row.original?.contenu?.map((d) => (\n                <span>\n                  <span\n                    style={{\n                      background: \"white\",\n                      color:\n                        data.row.original?.isdeleted == true\n                          ? \"red\"\n                          : \"inherit\",\n                      padding: 2,\n                    }}\n                  >\n                    {d.name}\n                  </span>\n                  <span\n                    style={{\n                      color:\n                        data.row.original?.isdeleted == true\n                          ? \"red\"\n                          : \"inherit\",\n                    }}\n                  >\n                    {\" \"}\n                    {\" || \"}\n                  </span>\n                </span>\n              ))}\n            </div>\n          );\n        },\n      },\n      {\n        Header: \"Total\",\n        Cell: (data) => {\n          return (\n            <div>{displayMoney(totalDevente(data.row.original?.contenu))}</div>\n          );\n        },\n      },\n      {\n        Header: \"Actions\",\n        Cell: (data) => {\n          return (\n            <>\n              {!data.row.original.isdeleted && (\n                <>\n                  <Link\n                    to={`/detailvendeur/${data.row.original?.id}`}\n                    className=\"btn btn-green btn-sm mr-2\"\n                  >\n                    Dtails\n                  </Link>\n                 {/** <Link\n                                     to={`/vendeur-commande/${data.row.original?.id}`}\n                                     className=\"btn btn-warning btn-sm mr-2\"\n                                   >\n                                     Editer\n                                   </Link>**/}\n                  <DeleteFromMagasin\n                    model=\"fromagasins\"\n                    entity={data.row.original}\n                  />\n                </>\n              )}\n            </>\n          );\n        },\n      },\n    ],\n    []\n  );\n\n  return (\n    <>\n      <div>\n        <Container>\n          <HeaderVendeur />\n          <div className=\"row\">\n            <div className=\"col-lg-6\">\n              <div>\n                <h3 className=\"text-uppercase\">\n                  {type == \"vente-cva\" ? \"Historique de vente\" : \"CREDIT\"}\n                </h3>\n                <p>{`${displayDate(search.deb)} ->  ${displayDate(\n                  search.fin\n                )}`}</p>\n                <div\n                  className=\"bg-thead p-3 my-2\"\n                  style={{\n                    width: \"30%\",\n                  }}\n                >\n                  <h2>Recette: {displayMoney(recetteDuJour(commandes))}</h2>\n                </div>\n              </div>\n            </div>\n            <div className=\"col-lg-6 text-right\">\n              <DateRangePicker\n                locale=\"fr-FR\"\n                onChange={onChangeDateRange}\n                value={dateRange}\n              />\n            </div>{\" \"}\n          </div>\n          <DataTable\n            data={commandes.sort((low, high) => high.id - low.id)}\n            meta={meta}\n            columns={columns}\n            filter={false}\n            //  addUrl={NOUVELLEFACTURE}\n            //  urlName={\"Ajouter un facture\"}\n          />\n        </Container>\n      </div>\n    </>\n  );\n};\n","export const isSpecialProductHandle = (product) => {\n  return !!(\n    product.condml != 0 &&\n    product.condsize != 0 &&\n    product.qttccpvente != 0 &&\n    product.prixqttccvente != 0\n  );\n};\n\nconst incrementIncrement = (realproduct, qttcc, qtt = 0) => {\n  let moins = 0;\n  let reste = 0;\n  let dose = realproduct.doseDefault;\n  let add = Number(realproduct.quantityCCCVA) + Number(qttcc);\n  if (Number(add) >= Number(dose)) {\n    moins = Math.floor(add / Number(dose));\n    reste = Number(qttcc) - Number(dose) * moins;\n    if (realproduct.quantityCCCVA + reste >= Number(dose)) {\n      let diff = realproduct.quantityCCCVA + reste - Number(dose);\n      realproduct.quantityCCCVA += Number(diff);\n      moins += 1;\n    } else {\n      realproduct.quantityCCCVA = realproduct.quantityCCCVA + reste;\n    }\n  } else {\n    if (realproduct.quantityCCCVA + reste >= Number(dose)) {\n      let diff = realproduct.quantityCCCVA + reste - Number(dose);\n      realproduct.quantityCCCVA += Number(diff);\n      moins += 1;\n    } else {\n      realproduct.quantityCCCVA = realproduct.quantityCCCVA + Number(qttcc);\n    }\n  }\n  let x = moins + Number(qtt);\n  realproduct.quantityBruteCVA += x;\n};\nconst correctionValue = (product, diff, diffcc, diffl) => {\n  product.quantityParProduct = diff;\n  product.qttByCC = diffcc;\n  product.qttbylitre = diffl;\n};\nconst decrementDecrement = (realproduct, qttcc, qtt = 0) => {\n  let moins = 0;\n  let reste = 0;\n  let dose = realproduct.doseDefault;\n  let isValid = true;\n  if (Number(qttcc) >= Number(dose)) {\n    moins = Math.floor(Number(qttcc) / Number(dose));\n    reste = Number(qttcc) - Number(dose) * moins;\n    if (realproduct.quantityCCCVA - reste < 0) {\n      moins += 1;\n    } else {\n    }\n  } else {\n    if (realproduct.quantityCCCVA - Number(qttcc) < 0) {\n      moins += 1;\n    } else {\n    }\n  }\n  let x = moins + Number(qtt);\n  if (realproduct.quantityBruteCVA - x < 0) isValid = false;\n  return isValid;\n};\nconst incrementX = (realproduct, qttcc, qtt = 0, qttlitre, type = \"inc\") => {\n  let moins = 0,\n    moinscond = 0,\n    moinslitre = 0;\n  let reste = 0,\n    restelitre = 0,\n    restecond = 0,\n    isValid = true;\n  let dose = realproduct.condml;\n  let condsize = realproduct.condsize;\n  console.log(qttcc);\n  if (type == \"mcinc\") {\n    let add = Number(realproduct.quantityCCCVA) + Number(qttcc);\n    if (Number(add) >= Number(dose)) {\n      moins = Math.floor(add / Number(dose));\n      reste = Number(qttcc) - Number(dose) * moins;\n      if (realproduct.quantityCCCVA + reste >= Number(dose)) {\n        moins += 1;\n      } else {\n      }\n    } else {\n      if (realproduct.quantityCCCVA + Number(qttcc) >= Number(dose)) {\n        moins += 1;\n      } else {\n      }\n    }\n\n    let mm = Number(moins) + Number(qtt);\n    if (Number(mm) >= Number(condsize)) {\n      moinscond = Math.floor(mm / Number(condsize));\n      restecond = Number(mm) - Number(condsize) * moinscond;\n      if (realproduct.condval + restecond >= Number(condsize)) {\n        moinscond += 1;\n      } else {\n      }\n    } else {\n      if (realproduct.condval + Number(mm) >= Number(condsize)) {\n        moinscond += 1;\n      } else {\n      }\n    }\n    if (realproduct.quantityBruteCVA + moinscond - qttlitre < 0)\n      isValid = false;\n  } else if (type == \"mdecinc\") {\n    if (Number(qttcc) >= Number(dose)) {\n      moins = Math.floor(Number(qttcc) / Number(dose));\n      reste = Number(qttcc) - Number(dose) * moins;\n      if (realproduct.quantityCCCVA - reste < 0) {\n        moins += 1;\n      } else {\n      }\n    } else {\n      if (realproduct.quantityCCCVA - Number(qttcc) < 0) {\n        moins += 1;\n      } else {\n      }\n    }\n\n    let mn = Number(moins);\n    if (Number(mn) >= Number(condsize)) {\n      moinslitre = Math.floor(Number(mn) / Number(condsize));\n      restelitre = Number(mn) - Number(condsize) * moinslitre;\n      if (realproduct.condval - restelitre < 0) {\n        moinslitre += 1;\n      } else {\n      }\n    } else {\n      if (realproduct.condval - Number(mn) < 0) {\n        moinslitre += 1;\n      } else {\n      }\n    }\n    let mma = Number(qtt);\n    if (Number(mma) >= Number(condsize)) {\n      moinscond = Math.floor(mma / Number(condsize));\n      restecond = Number(mma) - Number(condsize) * moinscond;\n      if (realproduct.condval + restecond >= Number(condsize)) {\n        moinscond += 1;\n      } else {\n        realproduct.condval = Number(realproduct.condval) + restecond;\n      }\n    } else {\n      if (realproduct.condval + Number(mma) >= Number(condsize)) {\n        moinscond += 1;\n      } else {\n      }\n    }\n    let x1 = realproduct.quantityBruteCVA + qttlitre + moinscond;\n    if (x1 - moinslitre < 0) {\n      isValid = false;\n    }\n  } else if (type == \"decinc\") {\n    if (Number(qttcc) >= Number(dose)) {\n      moins = Math.floor(Number(qttcc) / Number(dose));\n      reste = Number(qttcc) - Number(dose) * moins;\n      if (realproduct.quantityCCCVA - reste < 0) {\n        moins += 1;\n      } else {\n      }\n    } else {\n      if (realproduct.quantityCCCVA - Number(qttcc) < 0) {\n        moins += 1;\n      } else {\n      }\n    }\n\n    let mn = Number(moins);\n    if (Number(mn) >= Number(condsize)) {\n      moinslitre = Math.floor(Number(mn) / Number(condsize));\n      restelitre = Number(mn) - Number(condsize) * moinslitre;\n      if (realproduct.condval - restelitre < 0) {\n        moinslitre += 1;\n      } else {\n      }\n    } else {\n      if (realproduct.condval - Number(mn) < 0) {\n        moinslitre += 1;\n      } else {\n      }\n    }\n\n    let mma = Number(qtt);\n    if (Number(mma) >= Number(condsize)) {\n      moinscond = Math.floor(mma / Number(condsize));\n      restecond = Number(mma) - Number(condsize) * moinscond;\n      if (realproduct.condval + restecond >= Number(condsize)) {\n        moinscond += 1;\n      } else {\n      }\n    } else {\n      if (realproduct.condval + Number(mma) >= Number(condsize)) {\n        moinscond += 1;\n      } else {\n      }\n    }\n    if (\n      realproduct.quantityBruteCVA + moinscond - (qttlitre + moinslitre) <\n      0\n    ) {\n      isValid = false;\n    }\n  } else {\n    let add = Number(realproduct.quantityCCCVA) + Number(qttcc);\n\n    if (Number(add) >= Number(dose)) {\n      moins = Math.floor(add / Number(dose));\n      reste = Number(qttcc) - Number(dose) * moins;\n      if (realproduct.quantityCCCVA + reste >= Number(dose)) {\n        moins += 1;\n      } else {\n      }\n    } else {\n      if (realproduct.quantityCCCVA + Number(qttcc) >= Number(dose)) {\n        moins += 1;\n      } else {\n      }\n      isValid = true;\n    }\n  }\n  return isValid;\n};\nconst decrementX = (realproduct, qttcc, qtt = 0, qttlitre, type = \"dec\") => {\n  let moins = 0,\n    moinslitre = 0,\n    moinscond = 0,\n    reste = 0,\n    restelitre = 0,\n    isValid = true,\n    restecond;\n  let dose = realproduct.condml;\n  let condsize = realproduct.condsize;\n  if (type == \"pcdec\") {\n    if (Number(qttcc) >= Number(dose)) {\n      moins = Math.floor(Number(qttcc) / Number(dose));\n      reste = Number(qttcc) - Number(dose) * moins;\n      if (realproduct.quantityCCCVA - reste < 0) {\n        moins += 1;\n      } else {\n      }\n    } else {\n      if (realproduct.quantityCCCVA - Number(qttcc) < 0) {\n        moins += 1;\n      } else {\n      }\n    }\n\n    let mn = Number(moins) + Number(qtt);\n    if (Number(mn) >= Number(condsize)) {\n      moinslitre = Math.floor(Number(mn) / Number(condsize));\n      restelitre = Number(mn) - Number(condsize) * moinslitre;\n      if (realproduct.condval - restelitre < 0) {\n        moinslitre += 1;\n      } else {\n      }\n    } else {\n      if (realproduct.condval - Number(mn) < 0) {\n        moinslitre += 1;\n      } else {\n      }\n    }\n    if (realproduct.quantityBruteCVA + qttlitre - moinslitre < 0) {\n      isValid = false;\n    }\n  } else if (type == \"mincdec\") {\n    let moins = 0,\n      moinscond = 0;\n    let reste = 0,\n      restecond = 0;\n    let dose = realproduct.condml;\n    let condsize = realproduct.condsize;\n\n    let add = Number(realproduct.quantityCCCVA) + Number(qttcc);\n    if (Number(add) >= Number(dose)) {\n      moins = Math.floor(add / Number(dose));\n      reste = Number(qttcc) - Number(dose) * moins;\n      if (realproduct.quantityCCCVA + reste >= Number(dose)) {\n        moins += 1;\n      } else {\n      }\n    } else {\n      if (realproduct.quantityCCCVA + Number(qttcc) >= Number(dose)) {\n        moins += 1;\n      } else {\n      }\n    }\n    let mm = Number(moins);\n    if (Number(mm) >= Number(condsize)) {\n      moinscond = Math.floor(mm / Number(condsize));\n      restecond = Number(mm) - Number(condsize) * moinscond;\n      if (realproduct.condval + restecond >= Number(condsize)) {\n        moinscond += 1;\n      } else {\n      }\n    } else {\n      if (realproduct.condval + Number(mm) >= Number(condsize)) {\n        moinscond += 1;\n      } else {\n      }\n    }\n\n    let mna = Number(qtt);\n    if (Number(mna) >= Number(condsize)) {\n      moinslitre = Math.floor(Number(mna) / Number(condsize));\n      restelitre = Number(mna) - Number(condsize) * moins;\n      if (realproduct.condval - restelitre < 0) {\n        moinslitre += 1;\n      } else {\n      }\n    } else {\n      if (realproduct.condval - Number(mna) < 0) {\n        moinslitre += 1;\n      } else {\n        realproduct.condval = realproduct.condval - Number(mna);\n      }\n    }\n    let x1 = realproduct.quantityBruteCVA + moinscond + qttlitre;\n    if (x1 - moinslitre) isValid = false;\n  } else if (type == \"incdec\") {\n    // mis erreur ici:\n    let moins = 0,\n      moinscond = 0;\n    let reste = 0,\n      restecond = 0;\n    let dose = realproduct.condml;\n    let condsize = realproduct.condsize;\n\n    let add = Number(realproduct.quantityCCCVA) + Number(qttcc);\n    if (Number(add) >= Number(dose)) {\n      moins = Math.floor(add / Number(dose));\n      reste = Number(qttcc) - Number(dose) * moins;\n      if (realproduct.quantityCCCVA + reste >= Number(dose)) {\n        moins += 1;\n      } else {\n      }\n    } else {\n      if (realproduct.quantityCCCVA + Number(qttcc) >= Number(dose)) {\n        moins += 1;\n      } else {\n      }\n    }\n    let mm = Number(moins);\n    if (Number(mm) >= Number(condsize)) {\n      moinscond = Math.floor(mm / Number(condsize));\n      restecond = Number(mm) - Number(condsize) * moinscond;\n      if (realproduct.condval + restecond >= Number(condsize)) {\n        moinscond += 1;\n      } else {\n      }\n    } else {\n      if (realproduct.condval + Number(mm) >= Number(condsize)) {\n        moinscond += 1;\n      } else {\n      }\n    }\n\n    let mna = Number(qtt);\n    if (Number(mna) >= Number(condsize)) {\n      moinslitre = Math.floor(Number(mna) / Number(condsize));\n      restelitre = Number(mna) - Number(condsize) * moins;\n      if (realproduct.condval - restelitre < 0) {\n        moinslitre += 1;\n      } else {\n      }\n    } else {\n      if (realproduct.condval - Number(mna) < 0) {\n        moinslitre += 1;\n      } else {\n      }\n    }\n    let x1 = realproduct.quantityBruteCVA + moinscond;\n    let x2 = moinslitre + qttlitre;\n    if (x1 - x2 < 0) isValid = false;\n  } else {\n    if (Number(qttcc) >= Number(dose)) {\n      moins = Math.floor(Number(qttcc) / Number(dose));\n      reste = Number(qttcc) - Number(dose) * moins;\n      if (realproduct.quantityCCCVA - reste < 0) {\n        moins += 1;\n      }\n    } else {\n      if (realproduct.quantityCCCVA - Number(qttcc) < 0) {\n        moins += 1;\n      }\n    }\n\n    let mn = Number(moins) + Number(qtt);\n    if (Number(mn) >= Number(condsize)) {\n      moinslitre = Math.floor(Number(mn) / Number(condsize));\n      restelitre = Number(mn) - Number(condsize) * moinslitre;\n      if (realproduct.condval - restelitre < 0) {\n        moinslitre += 1;\n      }\n    } else {\n      if (realproduct.condval - Number(mn) < 0) {\n        moinslitre += 1;\n      }\n    }\n    let mns = moinslitre + qttlitre;\n    if (realproduct.quantityBruteCVA - mns < 0) isValid = false;\n  }\n  return isValid;\n};\nconst decrement = (realproduct, qttcc, qtt = 0, type = \"dec\") => {\n  let moins = 0,\n    reste = 0;\n  let dose = realproduct.doseDefault;\n  let isValid = true;\n\n  if (type != \"incdec\") {\n    if (Number(qttcc) >= Number(dose)) {\n      moins = Math.floor(Number(qttcc) / Number(dose));\n      reste = Number(qttcc) - Number(dose) * moins;\n      if (realproduct.quantityCCCVA - reste < 0) {\n        moins += 1;\n      } else {\n      }\n    } else {\n      if (realproduct.quantityCCCVA - Number(qttcc) < 0) {\n        moins += 1;\n      } else {\n      }\n    }\n    let mn = moins + qtt;\n    if (realproduct.quantityBruteCVA - mn < 0) isValid = false;\n  } else {\n    let add = Number(realproduct.quantityCCCVA) + Number(qttcc);\n    if (Number(add) >= Number(dose)) {\n      moins = Math.floor(add / Number(dose));\n      reste = Number(qttcc) - Number(dose) * moins;\n      if (realproduct.quantityCCCVA + reste >= Number(dose)) {\n        moins += 1;\n      }\n    } else {\n      if (realproduct.quantityCCCVA + Number(qttcc) >= Number(dose)) {\n        moins += 1;\n      }\n    }\n    if (realproduct.quantityBruteCVA + moins - qtt < 0) {\n      isValid = false;\n    }\n  }\n\n  return isValid;\n};\nexport const blockItOnSold = (realQtt, realQttCC, realQttLitre, product) => {\n  let isSpecific = false;\n  if (isSpecialProductHandle(product)) {\n    isSpecific = true;\n    let qtt = realQtt;\n    let qttcc = realQttCC;\n    let qttlitre = realQttLitre;\n    let normalQtt = product.condval;\n    let normalQttCC = product.quantityCCCVA;\n    let normalQttLitre = product.quantityBruteCVA;\n    let condsize = product.condsize;\n    let dose = product.doseDefault;\n    let condml = product.condml;\n    let isValid = true;\n    if (qttlitre > 0 && qtt == 0 && qttcc == 0) {\n      if (qttlitre > normalQttLitre) {\n        isValid = false;\n        normalQtt = qtt;\n        normalQttCC = qttcc;\n      }\n    }\n    if (qttlitre == 0 && qtt > 0 && qttcc == 0) {\n      let moins = 0,\n        reste = 0;\n      if (Number(qtt) > Number(condsize)) {\n        moins = Math.floor(Number(qtt) / Number(condsize));\n        reste = Number(qtt) - Number(condsize) * moins;\n        if (normalQtt - reste < 0) {\n          moins += 1;\n        }\n      }\n      if (normalQttLitre - moins < 0) {\n        isValid = false;\n        normalQttLitre = qttlitre;\n        normalQttCC = qttcc;\n      }\n    }\n    if (qttlitre == 0 && qtt == 0 && qttcc > 0) {\n      if (normalQttCC - qttcc < 0) {\n        let moins = 0,\n          moinslitre = 0,\n          restelitre = 0,\n          reste = 0;\n        if (Number(qttcc) > Number(dose)) {\n          moins = Math.floor(Number(qttcc) / Number(dose));\n          reste = Number(qttcc) - Number(dose) * moins;\n          if (normalQttCC - reste < 0) {\n            moins += 1;\n          }\n        }\n        if (Number(moins) > Number(condsize)) {\n          moinslitre = Math.floor(Number(moins) / Number(condsize));\n          restelitre = Number(moins) - Number(condsize) * moins;\n          if (normalQtt - restelitre < 0) {\n            moinslitre += 1;\n          }\n        }\n        if (normalQttLitre - moinslitre < 0) {\n          isValid = false;\n          normalQttLitre = qttlitre;\n          normalQtt = qtt;\n        }\n      }\n    }\n\n    if (qttlitre == 0 && qtt > 0 && qttcc > 0) {\n      let moins = 0,\n        moinslitre = 0,\n        restelitre = 0,\n        reste = 0;\n      if (Number(qttcc) > Number(condml)) {\n        moins = Math.floor(Number(qttcc) / Number(condml));\n        reste = Number(qttcc) - Number(condml) * moins;\n        if (normalQttCC - reste < 0) {\n          moins += 1;\n        }\n      } else {\n        if (normalQttCC - Number(qttcc) < 0) {\n          moins = 1;\n        }\n      }\n      let mm = Number(qtt) + moins;\n      if (mm > Number(condsize)) {\n        moinslitre = Math.floor(mm / Number(condsize));\n        restelitre = mm - Number(condsize) * moinslitre;\n        if (normalQtt - restelitre < 0) {\n          moinslitre += 1;\n        }\n      } else {\n        if (normalQtt - mm < 0) {\n          moinslitre = 1;\n        }\n      }\n      if (normalQttLitre - moinslitre < 0) {\n        isValid = false;\n        normalQttLitre = qttlitre;\n        normalQtt = qtt;\n      }\n    }\n    if (qttlitre > 0 && qtt > 0 && qttcc == 0) {\n      let moins = 0,\n        moinslitre = 0,\n        restelitre = 0,\n        reste = 0;\n\n      if (Number(qtt) > Number(condsize)) {\n        moinslitre = Math.floor(Number(qtt) / Number(condsize));\n        restelitre = Number(qtt) - Number(condsize) * moinslitre;\n        if (normalQtt - (restelitre + qtt) < 0) {\n          moinslitre += 1;\n        }\n      } else {\n        if (normalQtt - Number(qtt) < 0) {\n          moinslitre = 1;\n        }\n      }\n\n      if (normalQttLitre - (moinslitre + qttlitre) < 0) {\n        isValid = false;\n        normalQttLitre = qttlitre;\n        normalQtt = qtt;\n      }\n    }\n    if (qttlitre > 0 && qtt == 0 && qttcc > 0) {\n      let moins = 0,\n        moinslitre = 0,\n        restelitre = 0,\n        reste = 0;\n      if (Number(qttcc) > Number(condml)) {\n        moins = Math.floor(Number(qttcc) / Number(condml));\n        reste = Number(qttcc) - Number(condml) * moins;\n        if (normalQttCC - reste < 0) {\n          moins += 1;\n        }\n      } else {\n        if (normalQttCC - Number(qttcc) < 0) {\n          moins = 1;\n        }\n      }\n\n      if (Number(moins) > Number(condsize)) {\n        moinslitre = Math.floor(Number(moins) / Number(condsize));\n        restelitre = Number(moins) - Number(condsize) * moinslitre;\n        if (normalQtt - restelitre < 0) {\n          moinslitre += 1;\n        }\n      } else {\n        if (normalQtt - moins < 0) {\n          moinslitre = 1;\n        }\n      }\n      if (normalQttLitre - (moinslitre + qttlitre) < 0) {\n        isValid = false;\n        normalQtt = qtt;\n      }\n    }\n    if (qttlitre > 0 && qtt > 0 && qttcc > 0) {\n      let moins = 0,\n        moinslitre = 0,\n        restelitre = 0,\n        reste = 0;\n      if (Number(qttcc) > Number(condml)) {\n        moins = Math.floor(Number(qttcc) / Number(condml));\n        reste = Number(qttcc) - Number(condml) * moins;\n        if (normalQttCC - reste < 0) {\n          moins += 1;\n        }\n      } else {\n        if (normalQttCC - Number(qttcc) < 0) {\n          moins = 1;\n        }\n      }\n      let mns = Number(moins) + Number(qtt);\n      if (mns > Number(condsize)) {\n        moinslitre = Math.floor(mns / Number(condsize));\n        restelitre = mns - Number(condsize) * moinslitre;\n        if (normalQtt - restelitre < 0) {\n          moinslitre += 1;\n        }\n      } else {\n        if (normalQtt - mns < 0) {\n          moinslitre = 1;\n        }\n      }\n      if (normalQttLitre - (moinslitre + qttlitre) < 0) {\n        isValid = false;\n      }\n    }\n\n    return {\n      normalQtt,\n      normalQttCC,\n      normalQttLitre,\n      isSpecific,\n      isValid,\n    };\n  } else {\n    let qtt = realQtt;\n    let qttcc = realQttCC;\n    let normalQtt = product.quantityBruteCVA;\n    let normalQttCC = product.quantityCCCVA;\n    let dose = product.doseDefault;\n    let normalQttLitre = product.quantityBruteCVA;\n    isSpecific = false;\n    let isValid = true;\n    if (qtt == 0 && qttcc > 0) {\n      let moins = 0,\n        reste = 0;\n      if (Number(qttcc) > Number(dose)) {\n        moins = Math.floor(Number(qttcc) / Number(dose));\n        reste = Number(qttcc) - Number(dose) * moins;\n        console.log(reste);\n        if (normalQttCC - reste < 0) {\n          moins += 1;\n        }\n      } else {\n        if (normalQttCC - Number(qttcc) < 0) {\n          moins = 1;\n        }\n      }\n\n      if (qttcc > normalQttCC) {\n        if (normalQtt - moins < 0) {\n          isValid = false;\n          normalQtt = qtt;\n        }\n      }\n    }\n    if (qtt > 0 && qttcc == 0) {\n      if (qtt > normalQtt) {\n        isValid = false;\n        normalQttCC = qttcc;\n      }\n    }\n    if (qtt > 0 && qttcc > 0) {\n      let moins,\n        reste = 0;\n      if (Number(qttcc) > Number(dose)) {\n        moins = Math.floor(Number(qttcc) / Number(dose));\n        reste = Number(qttcc) - Number(dose) * moins;\n        console.log(reste);\n        if (normalQttCC - reste < 0) {\n          moins += 1;\n        }\n      } else {\n        if (normalQttCC - Number(qttcc) < 0) {\n          moins = 1;\n        }\n      }\n\n      if (Number(normalQtt) - (Number(moins) + Number(qtt)) < 0) {\n        isValid = false;\n      }\n      if (qtt > normalQtt) {\n        isValid = false;\n        normalQttCC = qttcc;\n      }\n    }\n    return {\n      normalQtt,\n      normalQttCC,\n      normalQttLitre,\n      isValid,\n      isSpecific,\n    };\n  }\n};\n\nexport const blockItis = (product, minitial, initial) => {\n  const initialCom = minitial.contenu.find((e) => e.id == product.id);\n  console.log(\"minitial\", minitial);\n  let isSpecific = false;\n  let diff = 0,\n    diffcc = 0,\n    diffl = 0,\n    isValid = true;\n  let etat = \"none\";\n\n  let normalQtt = initial.quantityParProduct;\n  let normalQttCC = initial.qttByCC;\n  let normalQttLitre = initial.qttbylitre;\n\n  if (isSpecialProductHandle(product)) {\n    isSpecific = true;\n    isSpecific = false;\n    // commande actuel\n    let qtt = initial.quantityParProduct;\n    let qttcc = initial.qttByCC;\n    let qttlitre = initial.qttbylitre;\n    // commande initial\n    console.log(qtt, qttcc);\n    let cmdqtt = initialCom!=undefined\n      ? initialCom?.quantityParProduct\n      : initial.condval;\n    let cmdqttcc = initialCom!=undefined\n      ? initialCom?.qttByCC\n      : initial.quantityCCCVA;\n    let cmdqttlitre = initialCom!=undefined\n      ? initialCom?.qttbylitre\n      : initial.quantityBruteCVA;\n    console.log(cmdqtt, cmdqttcc, cmdqttlitre);\n    if (qttlitre == cmdqttlitre && qtt == cmdqtt && qttcc == cmdqttcc) {\n      etat = \"qttlitre == cmdqttlitre && qtt == cmdqtt && qttcc == cmdqttcc\";\n    }\n    if (qttlitre == cmdqttlitre && qtt == cmdqtt && qttcc > cmdqttcc) {\n      etat = \"qttlitre == cmdqttlitre && qtt == cmdqtt && qttcc > cmdqttcc\";\n      diffcc = qttcc - cmdqttcc;\n      isValid = decrementX(product, diffcc, diff, diffl);\n      if (isValid == false) {\n        normalQttCC = cmdqttcc;\n      }\n    }\n    if (qttlitre == cmdqttlitre && qtt == cmdqtt && qttcc < cmdqttcc) {\n      etat = \"qttlitre == cmdqttlitre && qtt == cmdqtt && qttcc < cmdqttcc\";\n      diffcc = cmdqttcc - qttcc;\n      //incrementX(product, diffcc, diff, diffl);\n      isValid = true;\n    }\n    if (qttlitre == cmdqttlitre && qtt > cmdqtt && qttcc == cmdqttcc) {\n      etat = \"qttlitre == cmdqttlitre && qtt > cmdqtt && qttcc == cmdqttcc\";\n      diff = qtt - cmdqtt;\n      isValid = decrementX(product, diffcc, diff, diffl);\n      if (isValid == false) {\n        normalQtt = cmdqtt;\n      }\n    }\n    if (qttlitre == cmdqttlitre && qtt < cmdqtt && qttcc == cmdqttcc) {\n      etat = \"qttlitre == cmdqttlitre && qtt < cmdqtt && qttcc == cmdqttcc\";\n      diff = cmdqtt - qtt;\n      //incrementX(product, diffcc, diff, diffl);\n      isValid = true;\n    }\n    if (qttlitre == cmdqttlitre && qtt > cmdqtt && qttcc > cmdqttcc) {\n      etat = \"qttlitre == cmdqttlitre && qtt > cmdqtt && qttcc > cmdqttcc\";\n      diff = qtt - cmdqtt;\n      diffcc = qttcc - cmdqttcc;\n      isValid = decrementX(product, diffcc, diff, diffl);\n      if (isValid == false) {\n        normalQttCC = cmdqttcc;\n        normalQtt = cmdqtt;\n      }\n    }\n    if (qttlitre == cmdqttlitre && qtt < cmdqtt && qttcc < cmdqttcc) {\n      etat = \"qttlitre == cmdqttlitre && qtt < cmdqtt && qttcc < cmdqttcc\";\n      diff = cmdqtt - qtt;\n      diffcc = cmdqttcc - qttcc;\n      //incrementX(product, diffcc, diff, diffl);\n      isValid = true;\n    }\n    if (qttlitre == cmdqttlitre && qtt > cmdqtt && qttcc < cmdqttcc) {\n      etat = \"qttlitre == cmdqttlitre && qtt > cmdqtt && qttcc < cmdqttcc\";\n      diff = qtt - cmdqtt;\n      diffcc = cmdqttcc - qttcc;\n      isValid = decrementX(product, diffcc, diff, diffl, \"incdec\");\n      if (isValid == false) {\n        normalQttCC = cmdqttcc;\n        normalQtt = cmdqtt;\n      }\n    }\n    if (qttlitre == cmdqttlitre && qtt < cmdqtt && qttcc > cmdqttcc) {\n      etat = \"qttlitre == cmdqttlitre && qtt < cmdqtt && qttcc > cmdqttcc\";\n      diff = cmdqtt - qtt;\n      diffcc = qttcc - cmdqttcc;\n      isValid = incrementX(product, diffcc, diff, diffl, \"decinc\");\n      if (isValid == false) {\n        normalQttCC = cmdqttcc;\n        normalQtt = cmdqtt;\n      }\n    }\n    if (qttlitre > cmdqttlitre && qtt == cmdqtt && qttcc == cmdqttcc) {\n      etat = \"qttlitre > cmdqttlitre && qtt == cmdqtt && qttcc == cmdqttcc\";\n      diffl = qttlitre - cmdqttlitre;\n      isValid = decrementX(product, diffcc, diff, diffl);\n      if (isValid == false) {\n        normalQttLitre = cmdqttlitre;\n      }\n    }\n    if (qttlitre < cmdqttlitre && qtt == cmdqtt && qttcc == cmdqttcc) {\n      etat = \"qttlitre < cmdqttlitre && qtt == cmdqtt && qttcc == cmdqttcc\";\n      diffl = cmdqttlitre - qttlitre;\n      //incrementX(product, diffcc, diff, diffl);\n      isValid = true;\n    }\n    if (qttlitre > cmdqttlitre && qtt > cmdqtt && qttcc > cmdqttcc) {\n      etat = \"qttlitre > cmdqttlitre && qtt > cmdqtt && qttcc > cmdqttcc\";\n      diff = qtt - cmdqtt;\n      diffcc = qttcc - cmdqttcc;\n      diffl = qttlitre - cmdqttlitre;\n      isValid = decrementX(product, diffcc, diff, diffl);\n      if (isValid == false) {\n        normalQttCC = cmdqttcc;\n        normalQtt = cmdqtt;\n        normalQttLitre = cmdqttlitre;\n      }\n    }\n    if (qttlitre > cmdqttlitre && qtt > cmdqtt && qttcc < cmdqttcc) {\n      etat = \"qttlitre > cmdqttlitre && qtt > cmdqtt && qttcc < cmdqttcc\";\n      diff = qtt - cmdqtt;\n      diffcc = cmdqttcc - qttcc;\n      diffl = qttlitre - cmdqttlitre;\n      isValid = decrementX(product, diffcc, diff, diffl, \"incdec\");\n      if (isValid == false) {\n        normalQttCC = cmdqttcc;\n        normalQtt = cmdqtt;\n        normalQttLitre = cmdqttlitre;\n      }\n    }\n    if (qttlitre > cmdqttlitre && qtt < cmdqtt && qttcc > cmdqttcc) {\n      etat = \"qttlitre > cmdqttlitre && qtt < cmdqtt && qttcc > cmdqttcc\";\n      diff = cmdqtt - qtt;\n      diffcc = qttcc - cmdqttcc;\n      diffl = qttlitre - cmdqttlitre;\n      isValid = incrementX(product, diffcc, diff, diffl, \"decinc\");\n      if (isValid == false) {\n        normalQttCC = cmdqttcc;\n        normalQtt = cmdqtt;\n        normalQttLitre = cmdqttlitre;\n      }\n    }\n    if (qttlitre > cmdqttlitre && qtt < cmdqtt && qttcc < cmdqttcc) {\n      etat = \"qttlitre > cmdqttlitre && qtt < cmdqtt && qttcc < cmdqttcc\";\n      diff = cmdqtt - qtt;\n      diffcc = cmdqttcc - qttcc;\n      diffl = qttlitre - cmdqttlitre;\n      isValid = incrementX(product, diffcc, diff, diffl, \"mcinc\");\n      if (isValid == false) {\n        normalQttCC = cmdqttcc;\n        normalQtt = cmdqtt;\n        normalQttLitre = cmdqttlitre;\n      }\n    }\n    if (qttlitre < cmdqttlitre && qtt > cmdqtt && qttcc > cmdqttcc) {\n      etat = \"qttlitre < cmdqttlitre && qtt > cmdqtt && qttcc > cmdqttcc\";\n      diff = qtt - cmdqtt;\n      diffcc = qttcc - cmdqttcc;\n      diffl = cmdqttlitre - qttlitre;\n      isValid = decrementX(product, diffcc, diff, diffl, \"pcdec\");\n      if (isValid == false) {\n        normalQttCC = cmdqttcc;\n        normalQtt = cmdqtt;\n        normalQttLitre = cmdqttlitre;\n      }\n    }\n    if (qttlitre < cmdqttlitre && qtt > cmdqtt && qttcc < cmdqttcc) {\n      etat = \"qttlitre < cmdqttlitre && qtt > cmdqtt && qttcc < cmdqttcc\";\n      diff = qtt - cmdqtt;\n      diffcc = cmdqttcc - qttcc;\n      diffl = cmdqttlitre - qttlitre;\n      isValid = decrementX(product, diffcc, diff, diffl, \"mincdec\");\n      if (isValid == false) {\n        normalQttCC = cmdqttcc;\n        normalQtt = cmdqtt;\n        normalQttLitre = cmdqttlitre;\n      }\n    }\n    if (qttlitre < cmdqttlitre && qtt < cmdqtt && qttcc > cmdqttcc) {\n      etat = \"qttlitre < cmdqttlitre && qtt < cmdqtt && qttcc > cmdqttcc\";\n      diff = cmdqtt - qtt;\n      diffcc = qttcc - cmdqttcc;\n      diffl = cmdqttlitre - qttlitre;\n      isValid = incrementX(product, diffcc, diff, diffl, \"mdecinc\");\n      if (isValid == false) {\n        normalQttCC = cmdqttcc;\n        normalQtt = cmdqtt;\n        normalQttLitre = cmdqttlitre;\n      }\n    }\n    if (qttlitre < cmdqttlitre && qtt < cmdqtt && qttcc < cmdqttcc) {\n      etat = \"qttlitre < cmdqttlitre && qtt < cmdqtt && qttcc < cmdqttcc\";\n      diff = cmdqtt - qtt;\n      diffcc = cmdqttcc - qttcc;\n      diffl = cmdqttlitre - qttlitre;\n      isValid = true;\n      //incrementX(product, diffcc, diff, diffl);\n    }\n  } else {\n    isSpecific = false;\n    // commande actuel\n    let qtt = initial.quantityParProduct;\n    let qttcc = initial.qttByCC;\n    // commande initial\n    console.log(qtt, qttcc);\n    let cmdqtt = initialCom!=undefined\n      ? initialCom?.quantityParProduct\n      : initial.quantityBruteCVA;\n    let cmdqttcc =  initialCom!=undefined\n      ? initialCom?.qttByCC\n      : initial.quantityCCCVA;\n    console.log(cmdqtt, cmdqttcc);\n    if (qtt > cmdqtt && qttcc == cmdqttcc) {\n      etat = \"qtt > cmdqtt && qttcc == cmdqttcc\";\n      diff = qtt - cmdqtt;\n      console.log(product.quantityBruteCVA, diff);\n      if (product.quantityBruteCVA - diff >= 0) {\n        isValid = true;\n      } else {\n        isValid = false;\n        normalQtt = cmdqtt;\n      }\n    }\n    if (qtt < cmdqtt && qttcc == cmdqttcc) {\n      etat = \"qtt < cmdqtt && qttcc == cmdqttcc\";\n      diff = cmdqtt - qtt;\n      isValid = true;\n    }\n    if (qtt == cmdqtt && qttcc == cmdqttcc) {\n      etat = \"qtt == cmdqtt && qttcc == cmdqttcc\";\n      isValid = true;\n    }\n\n    if (qtt == cmdqtt && qttcc > cmdqttcc) {\n      etat = \"qtt == cmdqtt && qttcc > cmdqttcc\";\n      diffcc = qttcc - cmdqttcc;\n      isValid = decrement(product, diffcc);\n      normalQttCC = cmdqttcc;\n    }\n    if (qtt == cmdqtt && qttcc < cmdqttcc) {\n      etat = \"qtt == cmdqtt && qttcc < cmdqttcc\";\n      diffcc = cmdqttcc - qttcc;\n      isValid = true;\n    }\n    if (qtt > cmdqtt && qttcc < cmdqttcc) {\n      // ok\n      etat = \"qtt > cmdqtt && qttcc < cmdqttcc\";\n      diff = qtt - cmdqtt;\n      diffcc = cmdqttcc - qttcc;\n      isValid = decrement(product, diffcc, diff, \"incdec\");\n      normalQtt = cmdqtt;\n      normalQttCC = cmdqttcc;\n    }\n    if (qtt < cmdqtt && qttcc > cmdqttcc) {\n      // ok - il faut tester derniere fois si le cc restant est insuffisant\n      etat = \"qtt < cmdqtt && qttcc > cmdqttcc\";\n      diff = cmdqtt - qtt;\n      diffcc = qttcc - cmdqttcc;\n      isValid = true;\n    }\n    if (qtt < cmdqtt && qttcc < cmdqttcc) {\n      diff = cmdqtt - qtt;\n      diffcc = cmdqttcc - qttcc;\n      etat = \"qtt < cmdqtt && qttcc < cmdqttcc\";\n      isValid = true;\n    }\n    if (qtt > cmdqtt && qttcc > cmdqttcc) {\n      diff = qtt - cmdqtt;\n      diffcc = qttcc - cmdqttcc;\n      etat = \"qtt > cmdqtt && qttcc > cmdqttcc\";\n      isValid = decrementDecrement(product, diffcc, diff);\n      normalQtt = cmdqtt;\n      normalQttCC = cmdqttcc;\n    }\n  }\n\n  console.log(\"--------\" + etat + \"---------\");\n\n  return { normalQtt, normalQttCC, normalQttLitre, isSpecific, isValid };\n};\n\nexport const blockItOnEdit = (\n  realQtt,\n  realQttCC,\n  realQttLitre,\n  product,\n  initialCommande\n) => {\n  let isSpecific = false;\n  if (isSpecialProductHandle(product)) {\n    isSpecific = true;\n    let qtt = realQtt;\n    let qttcc = realQttCC;\n    let qttlitre = realQttLitre;\n    let normalQtt = product?.condval;\n    let normalQttCC = product?.quantityCCCVA;\n    let normalQttLitre = product?.quantityBruteCVA;\n    let condsize = product?.condsize;\n    let dose = product?.doseDefault;\n    let condml = product?.condml;\n    let initialCQtt = initialCommande.quantityParProduct;\n    let initialCQttCC = initialCommande.qttByCC;\n    let initialCQttLitre = initialCommande.qttbylitre;\n\n    let isValid = true;\n    let diff = 0,\n      diffcc = 0,\n      diffl = 0;\n\n    if (qttlitre > initialCQttLitre && qtt == 0 && qttcc == 0) {\n      diffl = qttlitre - initialCQttLitre;\n      if (normalQttLitre - diffl < 0) {\n        isValid = false;\n        normalQttLitre = initialCQttLitre;\n        normalQtt = qtt;\n        normalQttCC = qttcc;\n      }\n    }\n    if (qttlitre == 0 && qtt > 0 && qttcc == 0) {\n      let moins = 0,\n        reste = 0;\n      diff = qtt - initialCQtt;\n\n      if (Number(diff) >= Number(condsize)) {\n        moins = Math.floor(Number(diff) / Number(condsize));\n        reste = Number(diff) - Number(condsize) * moins;\n        if (normalQtt - reste < 0) {\n          moins += 1;\n        }\n      } else {\n        if (normalQtt - diff < 0) {\n          moins = 1;\n        }\n      }\n      if (normalQttLitre - moins < 0) {\n        isValid = false;\n        normalQttLitre = qttlitre;\n        normalQtt = initialCQtt;\n        normalQttCC = qttcc;\n      }\n    }\n    if (qttlitre == 0 && qtt == 0 && qttcc > 0) {\n      let moins = 0,\n        reste = 0,\n        moinslitre = 0,\n        restelitre = 0;\n      diffcc = qttcc - initialCQttCC;\n      if (Number(diffcc) >= Number(condml)) {\n        moins = Math.floor(Number(diffcc) / Number(condml));\n        reste = Number(diffcc) - Number(condml) * moins;\n        if (normalQttCC - reste < 0) {\n          moins += 1;\n        }\n      } else if (normalQttCC - diffcc < 0) {\n        moins = 1;\n      }\n\n      if (Number(moins) >= Number(condsize)) {\n        moinslitre = Math.floor(Number(moins) / Number(condsize));\n        restelitre = Number(moins) - Number(condsize) * moinslitre;\n        if (normalQtt - restelitre < 0) {\n          moinslitre += 1;\n        }\n      } else {\n        if (normalQtt - moins < 0) {\n          moinslitre = 1;\n        }\n      }\n      if (normalQttLitre - moinslitre < 0) {\n        isValid = false;\n        normalQttLitre = qttlitre;\n        normalQtt = qtt;\n        normalQttCC = initialCQttCC;\n      }\n    }\n\n    if (qttlitre == 0 && qtt > 0 && qttcc > 0) {\n      let moins = 0,\n        reste = 0,\n        moinslitre = 0,\n        restelitre = 0;\n      diff = qtt - initialCQtt;\n      diffcc = qttcc - initialCQttCC;\n      if (Number(diffcc) >= Number(condml)) {\n        moins = Math.floor(Number(diffcc) / Number(condml));\n        reste = Number(diffcc) - Number(condml) * moins;\n        if (normalQttCC - reste < 0) {\n          moins += 1;\n        }\n      } else if (normalQttCC - diffcc < 0) {\n        moins = 1;\n      }\n      let mmm = Number(moins) + diff;\n      if (Number(mmm) >= Number(condsize)) {\n        moinslitre = Math.floor(Number(mmm) / Number(condsize));\n        restelitre = Number(mmm) - Number(condsize) * moinslitre;\n        if (normalQtt - restelitre < 0) {\n          moinslitre += 1;\n        }\n      } else {\n        if (normalQtt - mmm < 0) {\n          moinslitre = 1;\n        }\n      }\n\n      if (normalQttLitre - moinslitre < 0) {\n        isValid = false;\n        normalQttLitre = qttlitre;\n        normalQtt = initialCQtt;\n        normalQttCC = initialCQttCC;\n      }\n    }\n    if (qttlitre > 0 && qtt > 0 && qttcc == 0) {\n      let moins = 0;\n      diff = qtt - initialCQtt;\n      diffl = qttlitre - initialCQttLitre;\n\n      if (Number(diff) >= Number(condsize)) {\n        moins = Math.floor(Number(diff) / Number(condsize));\n        reste = Number(diff) - Number(condsize) * moins;\n        if (normalQttCC - reste < 0) {\n          moins += 1;\n        }\n      } else if (normalQtt - diff < 0) {\n        moins = 1;\n      }\n      if (normalQttLitre - (moins + diffl) < 0) {\n        isValid = false;\n        normalQttLitre = qttlitre;\n        normalQtt = qtt;\n        normalQttCC = initialCQttCC;\n      }\n    }\n\n    if (qttlitre > 0 && qtt == 0 && qttcc > 0) {\n      let moins = 0,\n        reste = 0;\n      let moinsl = 0,\n        restel = 0;\n      diff = qtt - initialCQtt;\n      diffl = qttlitre - initialCQttLitre;\n\n      if (Number(diffcc) >= Number(condml)) {\n        moins = Math.floor(Number(diffcc) / Number(condml));\n        reste = Number(diffcc) - Number(condml) * moins;\n        if (normalQttCC - reste < 0) {\n          moins += 1;\n        }\n      } else if (normalQttCC - diffcc < 0) {\n        moins = 1;\n      }\n\n      if (Number(moins) >= Number(condsize)) {\n        moinsl = Math.floor(Number(diff) / Number(condsize));\n        restel = Number(diff) - Number(condsize) * moinsl;\n        if (normalQtt - reste < 0) {\n          moinsl += 1;\n        }\n      } else if (normalQtt - moins < 0) {\n        moinsl = 1;\n      }\n      if (normalQttLitre - (moinsl + diffl) < 0) {\n        isValid = false;\n        normalQttLitre = initialCQttLitre;\n        normalQtt = qtt;\n        normalQttCC = initialCQttCC;\n      }\n    }\n    if (qttlitre > 0 && qtt > 0 && qttcc > 0) {\n      diff = qtt - initialCQtt;\n      diffl = qttlitre - initialCQttLitre;\n      diffcc = qttcc - initialCQttCC;\n\n      let moins = 0,\n        reste = 0;\n      let moinsl = 0,\n        restel = 0;\n\n      if (Number(diffcc) >= Number(condml)) {\n        moins = Math.floor(Number(diffcc) / Number(condml));\n        reste = Number(diffcc) - Number(condml) * moins;\n        if (normalQttCC - reste < 0) {\n          moins += 1;\n        }\n      } else if (normalQttCC - diffcc < 0) {\n        moins = 1;\n      }\n      let mmm = Number(moins) + diff;\n      if (mmm > Number(condsize)) {\n        moinsl = Math.floor(Number(diff) / Number(condsize));\n        restel = Number(diff) - Number(condsize) * moinsl;\n        if (normalQtt - reste < 0) {\n          moinsl += 1;\n        }\n      } else if (normalQtt - mmm < 0) {\n        moinsl = 1;\n      }\n      if (normalQttLitre - (moinsl + diffl) < 0) {\n        isValid = false;\n        normalQttLitre = initialCQttLitre;\n        normalQtt = initialCQtt;\n        normalQttCC = initialCQttCC;\n      }\n    }\n\n    return {\n      normalQtt,\n      normalQttCC,\n      normalQttLitre,\n      isValid,\n      isSpecific,\n    };\n  } else {\n    let qtt = realQtt;\n    let qttcc = realQttCC;\n    let normalQtt = product[0]?.quantityBruteCVA;\n    let normalQttCC = product[0]?.quantityCCCVA;\n    let normalQttLitre = product[0]?.quantityBruteCVA;\n    let initialCQtt = initialCommande.quantityParProduct;\n    let initialCQttCC = initialCommande.qttByCC;\n    let initialCQttLitre = initialCommande.qttbylitre;\n    let dose = product.condml;\n    let isValid = true;\n    isSpecific = false;\n    let diff = 0,\n      diffcc = 0,\n      diffl = 0;\n\n    if (qtt > initialCQtt && (qttcc == 0 || qttcc == null)) {\n      let moins = 0,\n        reste = 0;\n      diff = qtt - initialCQtt;\n\n      if (normalQtt - diff < 0) {\n        isValid = false;\n        normalQtt = initialCQtt;\n      }\n    }\n    if (qtt == 0 && qttcc > initialCQttCC) {\n      let moins = 0,\n        reste = 0;\n      diffcc = qttcc - initialCQttCC;\n\n      if (Number(diffcc) > Number(dose)) {\n        moins = Math.floor(Number(diffcc) / Number(dose));\n        reste = Number(diffcc) - Number(dose) * moins;\n        console.log(reste);\n        if (normalQttCC - reste < 0) {\n          moins += 1;\n        }\n      } else {\n        if (normalQttCC - Number(diffcc) < 0) {\n          moins = 1;\n        }\n      }\n\n      if (normalQtt - moins < 0) {\n        isValid = false;\n        normalQttCC = initialCQttCC;\n      }\n    }\n\n    if (qtt > 0 && qttcc > 0) {\n      let moins = 0,\n        reste = 0;\n      diff = qtt - initialCQtt;\n      diffcc = qttcc - initialCQttCC;\n      if (Number(diffcc) > Number(dose)) {\n        moins = Math.floor(Number(diffcc) / Number(dose));\n        reste = Number(diffcc) - Number(dose) * moins;\n        console.log(reste);\n        if (normalQttCC - reste < 0) {\n          moins += 1;\n        }\n      } else {\n        if (normalQttCC - Number(diffcc) < 0) {\n          moins = 1;\n        }\n      }\n\n      if (normalQtt - (moins + diff) < 0) {\n        isValid = false;\n        normalQtt = initialCQtt;\n        normalQttCC = initialCQttCC;\n      }\n    }\n\n    return {\n      normalQtt,\n      normalQttCC,\n      normalQttLitre,\n      isValid,\n      isSpecific,\n    };\n  }\n};\nexport const blockItOnMinus = (productItem, commandeItem) => {\n  let isValid = true;\n  let isSpecific = false;\n  if (isSpecialProductHandle(productItem)) {\n    isSpecific = true;\n  } else {\n    let normalQtt = productItem.quantityBruteCVA;\n    let normalQttCC = productItem.quantityCCCVA;\n    let normalQttLitre = productItem.quantityBruteCVA;\n    let initialCQtt = commandeItem.quantityParProduct;\n    let initialCQttCC = commandeItem.qttByCC;\n    let initialCQttLitre = commandeItem.qttbylitre;\n    isSpecific = false;\n    if (initialCQtt > 0 && (initialCQttCC == 0 || initialCQttCC == null)) {\n      if (normalQtt - initialCQtt < 0) {\n        isValid = false;\n      }\n    }\n    if (initialCQtt == 0 && initialCQttCC > 0) {\n      if (normalQttCC - initialCQttCC < 0) {\n        isValid = false;\n      }\n    }\n\n    if (initialCQtt > 0 && initialCQttCC > 0) {\n    }\n  }\n\n  return { isValid, isSpecific };\n};\nexport const blockItOnDelete = () => {};\nexport const isBlocked = (productItem) => {\n  if (isSpecialProductHandle(productItem)) {\n    if (\n      productItem.quantityBruteCVA == 0 &&\n      productItem.quantityCCCVA == 0 &&\n      productItem.condval == 0\n    )\n      return true;\n    else return false;\n  } else {\n    if (productItem.quantityBruteCVA == 0 && productItem.quantityCCCVA == 0)\n      return true;\n    else return false;\n  }\n};\nexport const isLocked = (productItem) => {\n  if (isSpecialProductHandle(productItem)) {\n    if (\n      productItem.quantityParProduct == 0 &&\n      productItem.qttByCC == 0 &&\n      productItem.qttbylitre == 0\n    )\n      return true;\n    else return false;\n  } else {\n    if (productItem.quantityParProduct == 0 && productItem.qttByCC == 0)\n      return true;\n    else return false;\n  }\n};\nexport const locked = (elements) => {\n  return elements.filter((el) => isLocked(el)).length > 0 ? true : false;\n};\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { action } from \"../../../../utils/lib/call\";\nfunction DeleteFromMagasinAdmin({ model, entity }) {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const deleteEntity = () => {\n    dispatch(\n      action(model).createTransaction(\n        {\n          commande: entity,\n          original: entity,\n        },\n        \"/delete-from-magasin\"\n      )\n    );\n    // history.goBack();\n  };\n  return (\n    <>\n      <button\n        className=\"btn btn-danger btn-sm\"\n        onClick={(e) => {\n          e.preventDefault();\n          if (window.confirm(`Vous voulez vraiment supprimer ce commande ?`)) {\n            deleteEntity();\n          }\n        }}\n      >\n        Supprimer\n      </button>\n    </>\n  );\n}\n\nexport default DeleteFromMagasinAdmin;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport ActiveLink from \"../../../../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../../../../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../../../../@adminlte/adminlte/Content/Page\";\nimport { useSelector } from \"react-redux\";\nimport { action, getData } from \"../../../../utils/lib/call\";\nimport { useDispatch } from \"react-redux\";\nimport { getCommandeCVA } from \"../../../../store/actions/commandes\";\nimport { displayDate, displayMoney } from \"../../../../utils/functions\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { Container } from \"react-bootstrap\";\nimport { VENDEUR, VENDEUR_ADMIN } from \"../../../../constants/routes\";\nimport moment from \"moment\";\nimport DateRangePicker from \"@wojtekmaj/react-daterange-picker/dist/DateRangePicker\";\nimport DataTable from \"../../../../utils/admin/DataTable\";\nimport { setSearchByDate } from \"../../../../store/actions/search/search\";\nimport { isSpecialProductHandle } from \"./block-it\";\nimport DeleteFromMagasinAdmin from \"./DeleteFromMagasin\";\nimport Content from \"../../../../@adminlte/adminlte/Content\";\nconst isModified = (contenu) => {\n  for (let i = 0; i < contenu.length; ++i) {\n    if (contenu[i].correction > 0 || contenu[i].correctionml > 0) {\n      return true;\n    } else return false;\n  }\n};\nexport const HistoriqueVenteVendeurAdmin = () => {\n  const search = useSelector((state) => state.searchbydate);\n  const { type } = useParams();\n  const [dateRange, onChangeDateRange] = useState([search.deb, search.fin]);\n  const refDateDeb = useRef(null);\n  const refDateFin = useRef(null);\n  const commandes = useSelector(getData(\"commandes\").value);\n  const meta = useSelector(getData(\"commandes\").meta);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getCommandeCVA(search.deb, search.fin, type));\n  }, [search.deb, search.fin]);\n  useEffect(() => {\n    if (dateRange !== null) {\n      if (dateRange[0]) {\n        dispatch(setSearchByDate(dateRange[0], dateRange[1]));\n      }\n    }\n  }, [dateRange]);\n  const calculateTotal = (arr) => {\n    if (!arr || arr?.length === 0) return 0;\n    const total = arr.reduce((acc, val) => acc + val, 0);\n    return total;\n  };\n\n  const totalDevente = (arr) => {\n    return (\n      calculateTotal(\n        arr?.map((product) => {\n          return isSpecialProductHandle(product)\n            ? product.prixqttccvente *\n                product.quantityParProduct *\n                product.qttccpvente +\n                product.prixVente * product.qttbylitre\n            : product.prixVente * product.quantityParProduct;\n      \n        })\n      ) +\n      calculateTotal(\n        arr?.map((product) => {\n          return product.prixParCC * product.qttByCC;\n        })\n      )\n    );\n  };\n  const recetteDuJour = (arr = []) => {\n    let filteredCommande = arr.filter(v => v.isdeleted!=true);\n    let total = 0;\n    if (commandes.length > 0) {\n      filteredCommande.map((c) => {\n        total += totalDevente(c?.contenu);\n      });\n    } else {\n      total = 0;\n    }\n\n    return total;\n  };\n  const columns = React.useMemo(\n    () => [\n      {\n        Header: \"Date\",\n        Cell: (data) => {\n          return <>{displayDate(data.row.original?.dateCom)}</>;\n        },\n      },\n      {\n        Header: \"Produits\",\n        Cell: (data) => {\n          return (\n            <div style={{ width: \"350px\" }}>\n              {data.row.original?.isdeleted == true && (\n                <>\n                  <div className=\"badge badge-danger\">Supprim</div>\n                  <div className=\"text text-danger\">\n                    Date de suppression :{\" \"}\n                    {displayDate(data.row.original?.deletedat)}\n                  </div>\n                </>\n              )}\n              {data.row.original?.isdeleted == null && (\n                <p>\n                  {isModified(data.row.original?.contenu) && (\n                    <div className=\"badge badge-warning\">Modifi</div>\n                  )}\n                </p>\n              )}\n              {data.row.original?.contenu?.map((d) => (\n                <span>\n                  <span\n                    style={{\n                      background: \"white\",\n                      color:\n                        data.row.original?.isdeleted == true\n                          ? \"red\"\n                          : \"inherit\",\n                      padding: 2,\n                    }}\n                  >\n                    {d.name}\n                  </span>\n                  <span\n                    style={{\n                      color:\n                        data.row.original?.isdeleted == true\n                          ? \"red\"\n                          : \"inherit\",\n                    }}\n                  >\n                    {\" \"}\n                    {\" || \"}\n                  </span>\n                </span>\n              ))}\n            </div>\n          );\n        },\n      },\n      {\n        Header: \"Total\",\n        Cell: (data) => {\n          return (\n            <div>{displayMoney(totalDevente(data.row.original?.contenu))}</div>\n          );\n        },\n      },\n      {\n        Header: \"Actions\",\n        Cell: (data) => {\n          return (\n            <>\n              {!data.row.original?.isdeleted && (\n                <>\n                  {\" \"}\n                  <Link\n                    to={`/detailvendeuradmin/${data.row.original?.id}`}\n                    className=\"btn btn-green btn-sm mr-2\"\n                  >\n                    Dtails\n                  </Link>\n                 {/** <Link\n                    to={`/vendeur-admin-commande/${data.row.original?.id}`}\n                    className=\"btn btn-warning btn-sm mr-2\"\n                  >\n                    Editer\n                  </Link> */}\n                  <DeleteFromMagasinAdmin\n                    model=\"fromagasins\"\n                    entity={data.row.original}\n                  />\n                </>\n              )}\n            </>\n          );\n        },\n      },\n    ],\n    []\n  );\n\n  return (\n    <>\n      <Content>\n        <ContentHeader title=\"Historique de vente du magasin\">\n          <ActiveLink title=\"Historique de vente du magasin\"></ActiveLink>\n        </ContentHeader>\n        <Page>\n          <div className=\"row\">\n            <div className=\"col-lg-6\">\n              <div>\n                <h3 className=\"text-uppercase\">\n                  {type == \"vente-cva\" ? \"Historique de vente\" : \"CREDIT\"}\n                </h3>\n                <p>{`${displayDate(search.deb)} ->  ${displayDate(\n                  search.fin\n                )}`}</p>\n                <div\n                  className=\"bg-thead p-3 my-2\"\n                  style={{\n                    width: \"30%\",\n                  }}\n                >\n                  <h2>Recette: {displayMoney(recetteDuJour(commandes))}</h2>\n                </div>\n              </div>\n            </div>\n            <div className=\"col-lg-6 text-right\">\n              <DateRangePicker\n                locale=\"fr-FR\"\n                onChange={onChangeDateRange}\n                value={dateRange}\n              />\n            </div>{\" \"}\n          </div>\n          <DataTable\n            data={commandes.sort((low, high) => high.id - low.id)}\n            meta={meta}\n            columns={columns}\n            filter={false}\n            //  addUrl={NOUVELLEFACTURE}\n            //  urlName={\"Ajouter un facture\"}\n          />\n        </Page>{\" \"}\n      </Content>\n    </>\n  );\n};\n","import React, { useEffect, useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport Content from \"../../../@adminlte/adminlte/Content\";\nimport ActiveLink from \"../../../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../../../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../../../@adminlte/adminlte/Content/Page\";\nimport { CREATEPRODUCT, EDITPRODUCT } from \"../../../constants/routes\";\nimport { action, getData } from \"../../../utils/lib/call\";\nimport NumberFormat from \"react-number-format\";\nimport ReactToPrint from \"react-to-print\";\nimport $ from \"jquery\";\nimport { displayMoney } from \"../../../utils/functions\";\nimport DataTable from \"../../../utils/admin/DataTable\";\n//initialize datatable\n/*   $(document).ready(function () {\n      $('table').DataTable();\n  });*/\nexport const EtatStockMagasin = () => {\n  const products = useSelector(getData(\"products\").value);\n  const meta = useSelector(getData(\"products\").meta);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(action(\"products\").fetch());\n  }, []);\n\n  const columns = React.useMemo(() => [\n    {\n      Header: \"Nom de l'article\",\n      accessor: \"name\",\n    },\n    {\n      Header: \"Fournisseur\",\n      Cell: (data) => {\n        return (\n          <div>\n            <h3 className=\"badge badge-primary\">\n              {data.row.original?.fournisseur?.name}\n            </h3>\n          </div>\n        );\n      },\n    },\n    {\n      Header: \"Quantit\",\n      accessor: \"quantityBruteCVA\",\n    },\n    {\n      Header: \"Conditionnement (ML)\",\n      accessor: \"condval\",\n    },\n    {\n      Header: \"Reste en ML\",\n      accessor: \"quantityCC\",\n      Cell: (data) => {\n        return (\n          <div>\n            {data.row.original?.quantityCCCVA == null\n              ? 0\n              : data.row.original?.quantityCCCVA}\n          </div>\n        );\n      },\n    },\n  ]);\n\n  return (\n    <Content>\n      <ContentHeader title=\"Etat de stock du Magasin\">\n        <ActiveLink title=\"Etat de stock du Magasin\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n        <div className=\"row\">\n          <div className=\"col-lg-6\">\n            <div>\n              <h3 className=\"text-uppercase\">Etat de stock du Magasin</h3>\n            </div>\n          </div>\n          <div className=\"col-lg-6 text-right\"></div>{\" \"}\n        </div>\n        <DataTable\n          data={products}\n          meta={meta}\n          columns={columns}\n        />\n      </Page>\n    </Content>\n  );\n};\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { Container } from \"react-bootstrap\";\nimport { action, getData } from \"../../../utils/lib/call\";\nimport { getCommandeCVA } from \"../../../store/actions/commandes\";\nimport { displayDate, displayMoney } from \"../../../utils/functions\";\nimport Content from \"../../../@adminlte/adminlte/Content/index\";\nimport ContentHeader from \"../../../@adminlte/adminlte/Content/ContentHeader\";\nimport ActiveLink from \"../../../@adminlte/adminlte/Content/ActiveLink\";\nimport Page from \"../../../@adminlte/adminlte/Content/Page\";\nimport DateRangePicker from \"@wojtekmaj/react-daterange-picker\";\nimport moment from \"moment\";\nimport DataTable from \"../../../utils/admin/DataTable\";\nimport { isSpecialProductHandle } from \"../vendeur/fromMagasin/block-it\";\nconst isModified = (contenu) => {\n  for (let i = 0; i < contenu.length; ++i) {\n    if (contenu[i].correction > 0 || contenu[i].correctionml > 0) {\n      return true;\n    } else return false;\n  }\n};\nexport const MagasinVente = () => {\n  var start = moment().isoWeekday(1).startOf(\"week\");\n  var end = moment().endOf(\"week\");\n  const [deb, setDeb] = useState(start);\n  const [fin, setFin] = useState(end);\n  const refDateDeb = useRef(null);\n  const refDateFin = useRef(null);\n  const commandes = useSelector(getData(\"commandes\").value);\n  const meta = useSelector(getData(\"commandes\").meta);\n  const [dateRange, onChangeDateRange] = useState([start, end]);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getCommandeCVA(deb, fin));\n  }, [deb, fin]);\n  useEffect(() => {\n    if (dateRange !== null) {\n      if (dateRange[0]) {\n        setDeb(dateRange[0]);\n      }\n      if (dateRange[1]) {\n        setFin(dateRange[1]);\n      }\n    } else {\n      setDeb(start);\n      setFin(end);\n    }\n  }, [dateRange]);\n  const calculateTotal = (arr) => {\n    if (!arr || arr?.length === 0) return 0;\n    const total = arr.reduce((acc, val) => acc + val, 0);\n    return total;\n  };\n\n  const totalDevente = (arr) => {\n    return (\n      calculateTotal(\n        arr?.map((product) => {\n          if(product.isdeleted!=true){\n          return isSpecialProductHandle(product) \n            ? product.prixqttccvente *\n                product.quantityParProduct *\n                product.qttccpvente +\n                product.prixVente * product.qttbylitre\n            : product.prixVente * product.quantityParProduct;\n          }\n        })\n      \n      ) +\n      calculateTotal(\n        arr?.map((product) => {\n          return product.isdeleted!=true && product.prixParCC * product.qttByCC;\n        })\n      )\n    );\n  };\n  const recetteDuJour = (arr = []) => {\n    let filteredCommande = arr.filter(v => v.isdeleted!=true);\n    let total = 0;\n    if (commandes.length > 0) {\n      filteredCommande.map((c) => {\n        total += totalDevente(c?.contenu);\n      });\n    } else {\n      total = 0;\n    }\n\n    return total;\n  };\n  const columns = React.useMemo(\n    () => [\n      {\n        Header: \"Date\",\n        Cell: (data) => {\n          return <>{displayDate(data.row.original?.dateCom)}</>;\n        },\n      },\n      {\n        Header: \"Produits\",\n        Cell: (data) => {\n          return (\n            <div style={{ width: \"350px\" }}>\n              {data.row.original?.isdeleted == true && (\n                <>\n                  <div className=\"badge badge-danger\">Supprim</div>\n                  <div className=\"text text-danger\">\n                    Date de suppression :{\" \"}\n                    {displayDate(data.row.original?.deletedat)}\n                  </div>\n                </>\n              )}\n              {data.row.original?.isdeleted == null && (\n                <p>\n                  {isModified(data.row.original?.contenu) && (\n                    <div className=\"badge badge-warning\">Modifi</div>\n                  )}\n                </p>\n              )}\n              {data.row.original?.contenu?.map((d) => (\n                <span>\n                  <span\n                    style={{\n                      background: \"white\",\n                      color:\n                        data.row.original?.isdeleted == true\n                          ? \"red\"\n                          : \"inherit\",\n                      padding: 2,\n                    }}\n                  >\n                    {d.name}\n                  </span>\n                  <span\n                    style={{\n                      color:\n                        data.row.original?.isdeleted == true\n                          ? \"red\"\n                          : \"inherit\",\n                    }}\n                  >\n                    {\" \"}\n                    {\" || \"}\n                  </span>\n                </span>\n              ))}\n            </div>\n          );\n        },\n      },\n      {\n        Header: \"Total\",\n        Cell: (data) => {\n          return (\n            <div>{displayMoney(totalDevente(data.row.original?.contenu))}</div>\n          );\n        },\n      },\n      {\n        Header: \"Actions\",\n        Cell: (data) => {\n          return (\n            <>\n              <Link\n                className=\"btn btn-sm  btn-green\"\n                to={`/magasin/detail/vente/${data.row.original?.id}`}\n              >\n                Dtails\n              </Link>\n            </>\n          );\n        },\n      },\n    ],\n    []\n  );\n\n  return (\n    <>\n      <Content>\n        <ContentHeader title=\"Historique de vente du magasin\">\n          <ActiveLink title=\"Historique de vente du magasin\"></ActiveLink>\n        </ContentHeader>\n        <Page>\n          <div className=\"row my-2\">\n            <div className=\"col-lg-8\">\n              <div>\n                {deb && fin && (\n                  <>\n                    <h2>Historique de vente du magasin</h2>\n                    <span>\n                      Du: {displayDate(deb)} Au {displayDate(fin)}\n                    </span>\n                  </>\n                )}{\" \"}\n              </div>\n            </div>\n            <div className=\"col-lg-4 text-right\">\n              <div>\n                <DateRangePicker\n                  locale=\"fr-FR\"\n                  onChange={onChangeDateRange}\n                  value={dateRange}\n                />\n              </div>\n            </div>\n          </div>\n          <DataTable\n            filter={false}\n            data={commandes}\n            meta={meta}\n            columns={columns}\n          />\n        </Page>\n      </Content>\n    </>\n  );\n};\n","import React, { useState,useEffect } from \"react\";\nimport moment from 'moment';\nimport PropTypes from \"prop-types\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, Redirect, useParams } from \"react-router-dom\";\nimport { useHistory } from \"react-router-dom\";\nimport NumberFormat from \"react-number-format\";\nimport { withRouter } from \"react-router-dom\";\nimport { action, getData } from \"../../../../utils/lib/call\";\nimport Page from \"../../../../@adminlte/adminlte/Content/Page\";\nimport ContentHeader from \"../../../../@adminlte/adminlte/Content/ContentHeader\";\nimport ActiveLink from \"../../../../@adminlte/adminlte/Content/ActiveLink\";\nimport Content from \"../../../../@adminlte/adminlte/Content/index\";\nimport { displayDate, displayMoney } from \"../../../../utils/functions\";\nimport { HISTORIQUEVENTEVENDEUR } from \"../../../../constants/routes\";\nimport { isSpecialProductHandle } from \"../../../../store/functions/function\";\nimport { toast } from 'react-toastify';\nconst calculateTotal = (arr) => {\n  if (!arr || arr?.length === 0) return 0;\n  const total = arr.reduce((acc, val) => acc + val, 0);\n  return total;\n};\n\nfunction Detail(props) {\n  let history = useHistory();\n  const { id } = useParams();\n  const commande = useSelector(getData(\"commandes\").value);\n  const [dateCom, setDateCom] = useState(commande[0]?.dateCom || moment(new Date()));\n  const [toggle, setToggle] = useState(false);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(action(\"commandes\").get(id));\n  }, [id]);\n  const toggleShow = (value) =>{\n    setToggle(value);\n  }\n  const appliquer = () =>{\n  dispatch(\n      action(\"commandes\").updateData(\n        {\n        id: id,\n        dateCom: dateCom\n        },\n        \"update-price\"\n      )\n    )\n   toast('Modification de la date appliqu !!!', { autoClose: 5000 });\n   history.push(\"/historique/vente/vendeur/vente-cva\");\n }\n \n  return (\n    <div>\n      <div className=\"bg-dark text-white p-3 d-flex justify-content-center align-items-center\">\n        <h1 className=\"\">CABINET VETERINAIRE AMBALAVAO</h1>\n      </div>\n      <div className=\"py-5 container\">\n        <div class=\"d-flex justify-content-start\">\n          <button class=\"btn btn-primary btn-sm \" onClick={()=> history.goBack()}>\n            Revenir en arriere\n          </button>\n        </div>\n        <div>\n          {commande[0]?.type == \"credit-cva\" && (\n            <div className=\"bg-info my-3 py-2\">\n              <>\n                <h3 className=\"p-2\">Nom:{commande[0]?.emprunter.name}</h3>\n                <h5 className=\"p-2\">Contact:{commande[0]?.emprunter.contact}</h5>\n              </>\n            </div>\n          )}\n          {commande.length > 0 && (\n            <div className=\"d-flex justify-content-between\">\n            {toggle == true ? (\n            <div className=\"my-2\">\n              <h5 className=\"mb-1 mt-2 text-md\">Changement de date</h5>\n              <div class=\"d-flex justify-content-between\">\n                <div>\n                  <input\n                    type=\"date\"\n                    onChange={(e) => setDateCom(e.target.value)}\n                    value={dateCom}\n                    className=\"form-control\"\n                  />\n                </div>\n                <div className=\"ml-2\">\n                  <button onClick={appliquer} className=\"btn btn-primary mr-1\">Appliquer</button>\n                  <button onClick={()=> toggleShow(false)}  className=\"btn btn-danger\">Annuler</button>\n                </div>\n              </div>\n              </div>\n            ): (\n              <div className=\"my-2\">\n                    <h3 className=\"p-2\">Date de commande :{displayDate(commande[0]?.dateCom)}</h3>\n                     <button  onClick={()=> toggleShow(true)} className=\"btn btn-warning btn-sm\">Changer la date</button>\n               </div>\n            )} \n\n              <div className=\"d-flex justify-content-end\">\n                <div className=\"bg-thead p-1 mb-1\">\n                  <strong>Recette:</strong>:\n                  <h3 className=\"text-lg\">\n                    {displayMoney(\n                      calculateTotal(\n                        commande[0]?.contenu?.map((product) => {\n                          return isSpecialProductHandle(product)\n                            ? product.prixqttccvente *\n                                product.quantityParProduct *\n                                product.qttccpvente +\n                                product.prixlitre * product.qttbylitre\n                            : product.prixVente * product.quantityParProduct;\n                        })\n                      ) +\n                        calculateTotal(\n                          commande[0]?.contenu?.map((product) => {\n                            return product.prixParCC * product.qttByCC;\n                          })\n                        )\n                    )}\n                  </h3>\n                </div>\n              </div>\n            </div>\n          )}\n          <table className=\"table table-bordered\">\n            <tr className=\"bg-thead\">\n              <td>Nom de l'article</td>\n              <td>Quantit</td>\n              <td>Sous total</td>\n            </tr>\n            {commande.length > 0 &&\n              commande[0]?.contenu.map((c) => (\n                <tr>\n                  <td style={{ width: \"40%\" }}>{c.name}</td>\n                  <>\n                    {isSpecialProductHandle(c) && (\n                      <>\n                        {c.qttbylitre != 0 && (\n                          <div className=\"d-flex align-items-center py-0 px-2\">\n                            <strong>Litre :</strong>\n                            {displayMoney(c.prixlitre)} ({\"x\"} {c.qttbylitre}){\" \"}\n                            {\" = \"}\n                            {displayMoney(c.prixlitre * c.qttbylitre)}\n                          </div>\n                        )}\n                      </>\n                    )}\n                    {c.quantityParProduct != 0 && (\n                      <div className=\"d-flex align-items-center py-0\">\n                        <strong className=\"text-lowercase\">{c.type}:</strong>\n                        {displayMoney(c.prixVente)} ({\"x\"}{\" \"}\n                        {c.quantityParProduct}) {\" = \"}\n                        {displayMoney(c.prixVente * c.quantityParProduct)}\n                      </div>\n                    )}\n                  </>\n\n                  {c.type == \"FLACON\" && (\n                    <>\n                      {c.qttByCC != 0 && (\n                        <div className=\"d-flex align-items-center  py-0\">\n                          <strong>ml:</strong> {displayMoney(c.prixParCC)} {\"x\"}{\" \"}\n                          {c.qttyspecificmirror != 0\n                            ? c.qttyspecificmirror + \" Dose\"\n                            : c.qttByCC + \" ml\"}{\" \"}\n                          {\" = \"} {displayMoney(c.prixParCC * c.qttByCC)}\n                        </div>\n                      )}\n                    </>\n                  )}\n                  <td>\n                    {isSpecialProductHandle(c)\n                      ? displayMoney(\n                          c.prixqttccvente *\n                            c.quantityParProduct *\n                            c.qttccpvente +\n                            c.prixlitre * c.qttbylitre +\n                            c.prixParCC * c.qttByCC\n                        )\n                      : displayMoney(\n                          c.prixVente * c.quantityParProduct +\n                            c.prixParCC * c.qttByCC\n                        )}\n                  </td>\n                </tr>\n              ))}\n          </table>\n        </div>{\" \"}\n      </div>{\" \"}\n    </div>\n  );\n}\n\nexport default withRouter(Detail);\n","import React, { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, Redirect, useParams } from \"react-router-dom\";\nimport { useHistory } from \"react-router-dom\";\nimport NumberFormat from \"react-number-format\";\nimport { withRouter } from \"react-router-dom\";\nimport { action, getData } from \"../../../../utils/lib/call\";\nimport Page from \"../../../../@adminlte/adminlte/Content/Page\";\nimport ContentHeader from \"../../../../@adminlte/adminlte/Content/ContentHeader\";\nimport ActiveLink from \"../../../../@adminlte/adminlte/Content/ActiveLink\";\nimport Content from \"../../../../@adminlte/adminlte/Content/index\";\nimport { displayDate, displayMoney } from \"../../../../utils/functions\";\nimport { HISTORIQUEVENTEVENDEUR_ADMIN } from \"../../../../constants/routes\";\nimport { isSpecialProductHandle } from \"../../../../store/functions/function\";\n\nconst calculateTotal = (arr) => {\n  if (!arr || arr?.length === 0) return 0;\n  const total = arr.reduce((acc, val) => acc + val, 0);\n  return total;\n};\n\nfunction DetailVendeurAdmin(props) {\n  let history = useHistory();\n  const { id } = useParams();\n  const commande = useSelector(getData(\"commandes\").value);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(action(\"commandes\").get(id));\n  }, [id]);\n  return (\n    <Content>\n      <ContentHeader title=\"Detail de vente du magasin\">\n        <ActiveLink title=\"Detail de vente du magasin\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n        <div className=\"py-5 container\">\n         \n          <div>\n            {commande[0]?.type == \"credit-cva\" && (\n              <div className=\"bg-info my-3 py-2\">\n                <>\n                  <h3 className=\"p-2\">Nom:{commande[0]?.emprunter.name}</h3>\n                  <h5 className=\"p-2\">\n                    Contact:{commande[0]?.emprunter.contact}\n                  </h5>\n                </>\n              </div>\n            )}\n            {commande.length > 0 && (\n              <div className=\"d-flex justify-content-between\">\n                <div className=\"my-2\">\n                  <h2 className=\"my-2\">\n                    Date : {displayDate(commande[0]?.dateCom)}\n                  </h2>\n                  <Link\n                    to={`/vendeur-admin-commande/${commande[0]?.id}`}\n                    className=\"btn btn-warning btn-sm mr-2\"\n                  >\n                    Editer le commande\n                  </Link>\n                </div>\n\n                <div className=\"d-flex justify-content-end\">\n                  <div className=\"bg-thead p-1 mb-1\">\n                    <strong>Recette:</strong>:\n                    <h3 className=\"text-lg\">\n                      {displayMoney(\n                        calculateTotal(\n                          commande[0]?.contenu?.map((product) => {\n                            return isSpecialProductHandle(product)\n                              ? product.prixqttccvente *\n                                  product.quantityParProduct *\n                                  product.qttccpvente +\n                                  product.prixlitre * product.qttbylitre\n                              : product.prixVente * product.quantityParProduct;\n                          })\n                        ) +\n                          calculateTotal(\n                            commande[0]?.contenu?.map((product) => {\n                              return product.prixParCC * product.qttByCC;\n                            })\n                          )\n                      )}\n                    </h3>\n                  </div>\n                </div>\n              </div>\n            )}\n            <table className=\"table table-bordered\">\n              <tr className=\"bg-thead\">\n                <td>Nom de l'article</td>\n                <td>Quantit</td>\n                <td>Sous total</td>\n              </tr>\n              {commande.length > 0 &&\n                commande[0]?.contenu.map((c) => (\n                  <tr>\n                    <td style={{ width: \"40%\" }}>{c.name}</td>\n                    <>\n                      {isSpecialProductHandle(c) && (\n                        <>\n                          {c.qttbylitre != 0 && (\n                            <div className=\"d-flex align-items-center py-0 px-2\">\n                              <strong>Litre :</strong>\n                              {displayMoney(c.prixlitre)} ({\"x\"} {c.qttbylitre}){\" \"}\n                              {\" = \"}\n                              {displayMoney(c.prixlitre * c.qttbylitre)}\n                            </div>\n                          )}\n                        </>\n                      )}\n                      {c.quantityParProduct != 0 && (\n                        <div className=\"d-flex align-items-center py-0\">\n                          <strong className=\"text-lowercase\">{c.type}:</strong>\n                          {displayMoney(c.prixVente)} ({\"x\"}{\" \"}\n                          {c.quantityParProduct}) {\" = \"}\n                          {displayMoney(c.prixVente * c.quantityParProduct)}\n                        </div>\n                      )}\n                    </>\n\n                    {c.type == \"FLACON\" && (\n                      <>\n                        {c.qttByCC != 0 && (\n                          <div className=\"d-flex align-items-center  py-0\">\n                            <strong>ml:</strong> {displayMoney(c.prixParCC)}{\" \"}\n                            {\"x\"}{\" \"}\n                            {c.qttyspecificmirror != 0\n                              ? c.qttyspecificmirror + \" Dose\"\n                              : c.qttByCC + \" ml\"}{\" \"}\n                            {\" = \"} {displayMoney(c.prixParCC * c.qttByCC)}\n                          </div>\n                        )}\n                      </>\n                    )}\n                    <td>\n                      {isSpecialProductHandle(c)\n                        ? displayMoney(\n                            c.prixqttccvente *\n                              c.quantityParProduct *\n                              c.qttccpvente +\n                              c.prixVente * c.qttbylitre +\n                              c.prixParCC * c.qttByCC\n                          )\n                        : displayMoney(\n                            c.prixVente * c.quantityParProduct +\n                              c.prixParCC * c.qttByCC\n                          )}\n                    </td>\n                  </tr>\n                ))}\n            </table>\n          </div>{\" \"}\n        </div>{\" \"}\n      </Page>\n    </Content>\n  );\n}\n\nexport default withRouter(DetailVendeurAdmin);\n","import React from \"react\";\nimport { MdDashboard, MdSettings } from \"react-icons/md\";\nimport { BiCategory, BiCircle, BiListUl } from \"react-icons/bi\";\nimport {\n  NavItem,\n  CollapseMenuItem,\n} from \"../../utils/admin/Navigation/NavItem\";\nimport {\n  CREATEPRODUCT,\n  ENTREE,\n  PERIME,\n  PRODUCTS,\n  RUPTURE,\n  SORTIE,\n  CREDIT,\n  CREDITVACCINATEUR,\n  PRODUCTBYCATEGORY,\n  PRODUCTBYFOURNISSEUR,\n  DIRECT,\n  BONDESORTIE,\n  PARAMETRES,\n  NOUVELLEFACTURE,\n  LISTAPPROV,\n  DEPOTOMAGASIN,\n  ADMIN,\n  HISTORIQUESORTIECVA,\n  ETATSTOCKMAGASIN,\n  HISTORIQUEVENTEVENDEURVUEPARADMIN,\n} from \"../../constants/routes\";\nfunction SideBarMenu() {\n  return (\n    <>\n      <NavItem icon={MdDashboard} to={\"/\"}>\n        Journal de sortie\n      </NavItem>\n      <CollapseMenuItem\n        ckey={1}\n        title=\"Approvisionnement\"\n        icon={BiCategory}\n        links={[\n          {\n            title: \"Nouvelle facture\",\n            path: NOUVELLEFACTURE,\n          },\n          {\n            title: \"Historique d'approvisionnement\",\n            path: LISTAPPROV,\n          },\n          \n        ]}\n      />\n      <CollapseMenuItem\n        ckey={2}\n        title=\"Produits\"\n        icon={BiListUl}\n        links={[\n          {\n            title: \"Tous les produits\",\n            path: PRODUCTS,\n          },\n          {\n            title: \"Ajouter un produit\",\n            path: CREATEPRODUCT,\n          },\n          \n        ]}\n      />\n      <CollapseMenuItem\n        ckey={3}\n        title=\"Dpot\"\n        icon={BiListUl}\n        links={[\n          {\n            title: \"Historique de sortie\",\n            path: SORTIE,\n          },\n          {\n            title: \"Credit\",\n            path: CREDIT,\n          },\n          {\n            title: \"Vaccinateur\",\n            path: CREDITVACCINATEUR,\n          },\n          {\n            title: \"Bon de sortie\",\n            path: BONDESORTIE,\n          }\n          \n        ]}\n      />\n      <CollapseMenuItem\n        ckey={4}\n        title=\"Magasin\"\n        icon={BiListUl}\n        links={[\n          {\n            title: \"Depot vers Magasin\",\n            path: ADMIN,\n          },\n          {\n            title: \"Historique de sortie Dpt vers Magasin\",\n            path: HISTORIQUESORTIECVA,\n          },\n          {\n            title: \"Etat de stock magasin\",\n            path: ETATSTOCKMAGASIN,\n          },\n          {\n            title: \"Historique de vente du magasin\",\n            path: HISTORIQUEVENTEVENDEURVUEPARADMIN,\n          }\n          \n        ]}\n      />\n      <CollapseMenuItem\n        ckey={4}\n        title=\"Etat des articles\"\n        icon={BiListUl}\n        links={[\n          {\n            title: \"Article perims\",\n            path: PERIME,\n          },\n          {\n            title: \"Articles en rupture de stock\",\n            path: RUPTURE,\n          }\n        ]}\n      />\n      <NavItem icon={MdSettings} to={PARAMETRES}>\n      Parametres\n      </NavItem>\n\n    </>\n  );\n}\n\nexport default SideBarMenu;\n","import PropType from \"prop-types\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport ChakraAdmin from \"../utils/admin/ChakraAdmin\";\nimport { ROLE_ADMIN, ROLE_VENDEUR } from \"../constants/roles\";\nimport SideBarMenu from \"../components/admin/SideBarMenu\";\nimport AdminLTE from \"../@adminlte/AdminLTE\";\nimport useScrollTop from \"../hooks/useScrollTop\";\nconst AdminRoute = ({ isAuth, role, component: Component, ...rest }) => {\n  useScrollTop();\n  return (\n    <Route\n      {...rest}\n      component={(props) => {\n          return (\n            <AdminLTE  title={\"CBV AMBALAVAO\"}>\n              <Component {...props} />\n            </AdminLTE>\n          );\n      }}\n    />\n  );\n};\n/**\nconst mapStateToProps = ({ users }) => ({\n  isAuth: users.authenticated,\n});**/\nconst mapStateToProps = ({ auth }) => ({\n  isAuth: auth?.isLoggedIn,\n  role: auth?.user?.role || \"\",\n});\n\nAdminRoute.defaultProps = {\n  isAuth: false,\n  role: ROLE_VENDEUR,\n};\n\nAdminRoute.propTypes = {\n  isAuth: PropType.bool,\n  role: PropType.string,\n  component: PropType.func.isRequired,\n  rest: PropType.any,\n};\n\nexport default connect(mapStateToProps)(AdminRoute);\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  addQtyApprovItem,\n  minusQtyApprovItem,\n  setQtyApprovItem,\n} from \"../../../store/approvis/actions/approvis\";\nimport {\n  NumberInput,\n  NumberInputField,\n  NumberInputStepper,\n  NumberIncrementStepper,\n  NumberDecrementStepper,\n} from \"@chakra-ui/react\";\nconst ApprovisionnementEditItemControl = ({\n  product,\n  index,\n  state,\n  setState,\n}) => {\n  const dispatch = useDispatch();\n  const updateObjectValue = (index, key, value) => {\n    let temp_state = [...state];\n    temp_state[index] = { ...temp_state[index], [key]: value };\n    setState(temp_state);\n  };\n  const onAddQty = () => {\n    //dispatch(addQtyApprovItem(product.id));\n  };\n  const onAddQtyBrute = (value) => {\n    // dispatch(setQtyApprovItem(product.id, value));\n    updateObjectValue(index, \"quantityParProduct\", value);\n  };\n\n  const onMinusQty = () => {\n    //  if ((product.quantityBrute >= product.quantityParProduct) && product.quantityParProduct !== 0) {\n    dispatch(minusQtyApprovItem(product.id));\n    // }\n  };\n\n  return (\n    <div className=\"basket-item-control\">\n      <NumberInput\n        w={28}\n        bg={\"whitesmoke\"}\n        onChange={(value) => {\n          onAddQtyBrute(Number(value));\n        }}\n        min={0}\n        defaultValue={product.quantityParProduct}\n        step={1}\n      >\n        <NumberInputField />\n        <NumberInputStepper>\n          <NumberIncrementStepper />\n          <NumberDecrementStepper />\n        </NumberInputStepper>\n      </NumberInput>\n      {/**    <button\n        className=\"btn btn-dark btn-sm\"\n        onClick={onAddQty}\n        type=\"button\"\n      >\n        +\n      </button>\n      <div className=\"mr-2 ml-1 d-flex\">\n      <span>{product.quantityParProduct}</span>\n      </div>\n      <button\n        className=\"btn btn-dark btn-sm\"\n        disabled={product.quantityParProduct === 0}\n        onClick={onMinusQty}\n        type=\"button\"\n      >\n        -\n      </button>*/}\n    </div>\n  );\n};\nexport default ApprovisionnementEditItemControl;\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  setRemisePerProduct,\n  setRemisePercent,\n} from \"../../../store/approvis/actions/approvis\";\nimport {\n  NumberInput,\n  NumberInputField,\n  NumberInputStepper,\n  NumberIncrementStepper,\n  NumberDecrementStepper,\n  Select,\n} from \"@chakra-ui/react\";\nconst EditApprovisionnementRemise = ({ product }) => {\n  const dispatch = useDispatch();\n\n  const onAddQtyBrute = (value) => {\n    dispatch(setRemisePerProduct(product.id, value));\n  };\n  const onAddPercent = (value) => {\n    dispatch(setRemisePercent(product.id, value));\n  };\n  return (\n    <tr>\n      <td>Remise : (en Ariary)</td>\n      <td className=\"d-flex\">\n        {\" \"}\n        <NumberInput\n          bg={\"whitesmoke\"}\n          onChange={(value) => {\n            onAddQtyBrute(Number(value));\n          }}\n          min={0}\n          defaultValue={product.remise}\n        >\n          <NumberInputField />\n          <NumberInputStepper>\n            <NumberIncrementStepper />\n            <NumberDecrementStepper />\n          </NumberInputStepper>\n        </NumberInput>\n      </td>\n    </tr>\n  );\n};\nexport default EditApprovisionnementRemise;\n","import React from \"react\";\nimport { Col, Row } from \"react-bootstrap\";\nimport NumberFormat from \"react-number-format\";\nimport { useDispatch } from \"react-redux\";\nimport { displayMoney } from \"../../../utils/functions\";\nimport ApprovisionnementEditItemControl from \"./ApprovisionnementEditItemControl\";\nimport EditApprovisionnementRemise from \"./EditApprovisionnementRemise\";\nconst ApprovisionnementEditItem = ({\n  product,\n  index,\n  isItemOnApprov,\n  addToApprov,\n  state,\n  setState,\n}) => {\n  const dispatch = useDispatch();\n  const handleAddToApprov = () => {\n    if (addToApprov) addToApprov(product);\n  };\n  const removeProduct = (id) => {\n    setState(state.filter((t) => t.id !== id));\n  };\n  const itemOnApprov = isItemOnApprov ? isItemOnApprov(product.id) : false;\n  return (\n    <div>\n      <div className=\"d-flex justify-content-between align-items-start border   mb-2 p-2\">\n        <div style={{ width: \"65%\" }}>\n          <table border=\"1\">\n            <tr>\n              <td>Nom de l'article : </td>\n              <td>{product?.name}</td>\n            </tr>\n            <tr>\n              <td>Prix unitaire:</td>\n              <td>{displayMoney(product.prixFournisseur)}</td>\n            </tr>\n            <tr>\n              <td>Montant HT:</td>\n              <td>\n                {displayMoney(\n                  product.prixFournisseur * product.quantityParProduct\n                )}\n              </td>\n            </tr>\n            <EditApprovisionnementRemise product={product} />\n          </table>\n        </div>\n\n        <div className=\"d-flex mt-3\">\n          <ApprovisionnementEditItemControl\n            product={product}\n            index={index}\n            state={state}\n            setState={setState}\n          />\n        </div>\n        <div>\n          <button\n            onClick={() => removeProduct(product?.id)}\n            className=\"btn btn-danger btn-xs text-right\"\n          >\n            X\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ApprovisionnementEditItem;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\nimport { NumberToLetter } from \"convertir-nombre-lettre\";\n//import useModal from '../../hooks/useModal';\nimport { Card } from \"react-bootstrap\";\nimport { action, getData } from \"../../../utils/lib/call\";\nimport NumberFormat from \"react-number-format\";\nimport {\n  clearApprov,\n  setApprovItems,\n} from \"../../../store/approvis/actions/approvis\";\nimport ApprovisionnementEditItem from \"./ApprovisionnementEditItem\";\nimport { omit } from \"../../../utils/functions\";\nimport { LISTAPPROV } from \"../../../constants/routes\";\nimport { handleSoldProduct } from \"../../../store/functions/function\";\nimport useApprov from \"../../../hooks/useApprov\";\nimport { arrayMissing } from \"../../../utils/array\";\nimport {displayDate} from \"../../../utils/functions\";\nconst calculateTotal = (arr) => {\n  if (!arr || arr?.length === 0) return 0;\n\n  const total = arr.reduce((acc, val) => acc + val, 0);\n\n  return total;\n};\nconst remiseEnAriary = (arr, remise) => {\n  return (calculateTotal(arr) * remise) / 100;\n};\n\nconst calculeTotalAvecRemise = (arr, remise) => {\n  return calculateTotal(arr) - remiseEnAriary(arr, remise);\n};\n\nconst EditApprovisionnement = ({ state, meta, setState, approv, disabled }) => {\n  const [remise, setRemise] = useState(state?.remise);\n  const [dateEcheance, setDateEcheance] = useState(state?.dateEcheance);\n  const [dateApprovis, setDateApprovis] = useState(state?.dateApprov);\n  const [realContent, setRealContent] = useState(approv?.contenu);\n  const [remarque, setRemarque] = useState(state?.remarque);\n  const [is, setIs] = useState(\"\");\n  const [typePaye, setTypePaye] = useState(state?.typePaye);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const updateQtt = (is, element, last, qtt) => {\n    let obj = { ...element };\n    return qtt;\n  };\n  function copy(object) {\n    var output, value, key;\n    output = Array.isArray(object) ? [] : {};\n    for (key in object) {\n      value = object[key];\n      output[key] = typeof value === \"object\" ? copy(value) : value;\n    }\n    return output;\n  }\n\n  function inArray(value, values) {\n    for (var i = 0; i < values.length; i++) {\n      if (value === values[i]) return true;\n    }\n    return false;\n  }\n\n  function isInArray(value, array) {\n    return array.find((a) => value.id === a.id);\n  }\n\n  const getContenu = () => {\n    // console.log(missing);\n    const missing = copy(realContent).filter(\n      (e) => !state.find((a) => e.id === a.id)\n    );\n    const added = copy(realContent).filter(\n      (e) => !state.find((a) => e.id === a.id)\n    );\n\n    const exist = copy(realContent).map((element) =>\n      state.find((p) => p.id == element.id)\n    );\n    return {\n      exist: exist.filter((e) => e != null),\n      added,\n      missing,\n    };\n  };\n\n  const onCheckOut = () => {\n    const { exist, added, missing } = getContenu();\n\n    dispatch(\n      action(\"approvis\").updateTransaction(\n        {\n          id: approv?.id,\n          contenu: state,\n          totalht: calculateTotal(\n            state.map(\n              (product) =>\n                product.prixFournisseur * product.quantityParProduct -\n                product.remise\n            )\n          ),\n          remise: remise,\n          total: calculeTotalAvecRemise(\n            state.map(\n              (product) =>\n                product.prixFournisseur * product.quantityParProduct -\n                product.remise\n            ),\n            remise\n          ),\n          dateApprov: dateApprovis,\n          dateEcheance: dateEcheance,\n          remarque: remarque,\n          typePaye: typePaye,\n          exist: exist,\n          missing: missing,\n          added: added,\n        },\n        \"update-facture\"\n      )\n    );\n    history.push(LISTAPPROV);\n  };\n\n  const onClearApprov = () => {\n    console.log(\"hiii\");\n  };\n  return (\n    <>\n      {\" \"}\n      {/**  <button onClick={() => setState(approv?.contenu)}>Annuler</button>\n      {state?.map((s, index) => (\n        <>\n          <p>{s.name}</p>\n          <p>{s.prixVente * s.quantityParProduct}</p>\n\n          <p>{s.quantityParProduct}</p>\n          <button\n            onClick={() => updateObjectValue(index, \"quantityParProduct\", 1)}\n          >\n           Editer\n          </button>\n          <button onClick={() => removeProduct(s.id)}>Delete</button>\n        </>\n      ))}\n */}\n\n      <Card>\n        <Card.Header className=\"d-flex justify-content-between align-items-center bg-dark text-white\">\n          <div>\n            Approvisionenement (\n            {` ${state?.length} ${state?.length > 1 ? \"articles\" : \"article\"}`})\n          </div>\n        </Card.Header>\n        <Card.Body\n          style={{\n            height: \"500px\",\n            maxHeight: \"500px\",\n            overflowY: \"auto\",\n            overflowX: \"hidden\",\n          }}\n        >\n          <div class=\"form-group\">\n            <label>Date de l'approvisionnement :</label>\n            <div>\n              <input\n                type=\"date\"\n                disabled={disabled}\n                onChange={(e) => setDateApprovis(e.target.value)}\n                value={dateApprovis}\n                className=\"form-control\"\n              />\n            </div>\n          </div>\n          {!meta.isFetching && state?.length <= 0 && (\n            <>\n              {\" \"}\n              <div class=\"alert alert-success \">\n                Aucune enregistrement trouv !!!\n              </div>\n            </>\n          )}\n         \n          {meta.isFetching && <p>Chargement en cours ...</p>}\n          {state?.map((product, i) => (\n            <ApprovisionnementEditItem\n              key={`${product?.id}_${i}`}\n              product={product}\n              state={state}\n              index={i}\n              setState={setState}\n              dispatch={dispatch}\n            />\n          ))}\n          {state?.length > 0 && (\n            <>\n              <div className=\"d-flex justify-content-end align-items-center my-3 \">\n                <table>\n                  <tr>\n                    <td>REMISE :</td>\n                    <td>\n                      <input\n                        type=\"number\"\n                        className=\"form-control\"\n                        placeholder=\"Remise\"\n                        min={0}\n                        disabled={disabled}\n                        value={remise}\n                        onChange={(e) => {\n                          setRemise(e.target.value);\n                        }}\n                      />\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>PAIEMENT LE :</td>\n                    <td>\n                      <input\n                        type=\"date\"\n                        disabled={disabled}\n                        onChange={(e) => setDateEcheance(e.target.value)}\n                        value={dateEcheance}\n                        className=\"form-control\"\n                      />\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>TYPE DE PAIEMENT:</td>\n                    <td>\n                      <select\n                        className=\"form-control\"\n                        onChange={(e) => {\n                          setTypePaye(e.target.value);\n                        }}\n                      >\n                        <option value=\"espece\" selected>\n                          ESPECE\n                        </option>\n                        <option value=\"boa\">CHEQUE - BOA</option>\n                        <option value=\"bni\">CHEQUE - BNI</option>\n                        <option value=\"MVola\">VIREMENT - MVola</option>\n                        <option value=\"OrangeMoney\">\n                          VIREMENT - ORANGE MONEY\n                        </option>\n                      </select>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>REMARQUE :</td>\n                    <td>\n                      <textarea\n                        disabled={disabled}\n                        className=\"form-control\"\n                        onChange={(e) => {\n                          setRemarque(e.target.value);\n                        }}\n                        placeholder=\"Ecriver ici quelque chose d'autre  savoir sur l'approvisionnement\"\n                      >\n                        {remarque}\n                      </textarea>\n                    </td>\n                  </tr>\n                </table>\n              </div>\n              <div className=\"d-flex flex-column  my-3 \">\n                {\" \"}\n                <p className=\"approvisionnement-total-amount\">\n                  Total HT:\n                  <strong>\n                    <NumberFormat\n                      value={calculateTotal(\n                        state?.map(\n                          (product) =>\n                            product.prixFournisseur * product.quantityParProduct\n                        )\n                      )}\n                      displayType={\"text\"}\n                      thousandSeparator={true}\n                      suffix={\"Ar\"}\n                      renderText={(value, props) => (\n                        <div {...props}>{value}</div>\n                      )}\n                    />\n                  </strong>\n                </p>\n                <p className=\"approvisionnement-total-amount\">\n                  Remise:\n                  <strong>\n                    <NumberFormat\n                      value={remiseEnAriary(\n                        state?.map(\n                          (product) =>\n                            product.prixFournisseur * product.quantityParProduct\n                        ),\n                        remise\n                      )}\n                      displayType={\"text\"}\n                      thousandSeparator={true}\n                      suffix={\"Ar\"}\n                      renderText={(value, props) => (\n                        <div {...props}>{value}</div>\n                      )}\n                    />\n                  </strong>\n                </p>\n                <p className=\"approvisionnement-total-amount\">\n                  Total avec remise :\n                  <strong>\n                    <NumberFormat\n                      value={calculeTotalAvecRemise(\n                        state?.map(\n                          (product) =>\n                            product.prixFournisseur * product.quantityParProduct\n                        ),\n                        remise\n                      )}\n                      displayType={\"text\"}\n                      thousandSeparator={true}\n                      suffix={\"Ar\"}\n                      renderText={(value, props) => (\n                        <div {...props}>{value}</div>\n                      )}\n                    />\n                  </strong>\n                </p>\n                <p>Arrt  la somme de </p>\n                <p className=\"text-uppercase\">\n                  <strong>\n                    {NumberToLetter(\n                      calculeTotalAvecRemise(\n                        state?.map(\n                          (product) =>\n                            product.prixFournisseur * product.quantityParProduct\n                        ),\n                        remise\n                      )\n                    )}{\" \"}\n                    ARIARY\n                  </strong>\n                </p>\n              </div>\n            </>\n          )}\n        </Card.Body>\n        <Card.Footer>\n          <div className=\"d-flex justify-content-end\">\n            <button\n              disabled={disabled}\n              className=\"btn btn-green btn-sm mr-2\"\n              onClick={onCheckOut}\n              type=\"button\"\n            >\n              Valider l'operation\n            </button>\n            <button\n              disabled={disabled}\n              className=\"btn btn-danger btn-sm\"\n              onClick={() => setState(approv?.contenu)}\n              type=\"button\"\n            >\n              <span>Annuler</span>\n            </button>\n          </div>\n        </Card.Footer>\n      </Card>\n    </>\n  );\n};\n\nexport default EditApprovisionnement;\n","import { Button } from \"@chakra-ui/button\";\nimport { useDomEvent } from \"framer-motion\";\nimport React from \"react\";\nimport { Col, ListGroup, Row } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport useApprov from \"../../../hooks/useApprov\";\nimport { displayMoney } from \"../../../utils/functions\";\nconst ProductItemEditApprov = ({ product, state, setState }) => {\n  const approvisionnements = useSelector((state) => state.approvisionnements);\n  const dispatch = useDispatch();\n\n  const itemOnApprov = !!state?.find((item) => item?.id === product.id);\n  const handleAddToApprov = () => {\n    setState(\n      state.some((p) => p.id === product.id) ? state : [product, ...state]\n    );\n  };\n  const removeProduct = (id) => {\n    setState(state.filter((t) => t.id !== id));\n  };\n  return (\n    <>\n      <ListGroup.Item>\n        <Row\n          className={`product-card m-2 ${!product.id ? \"product-loading\" : \"\"}`}\n          style={{\n            border: product && itemOnApprov ? \"1px solid #a6a5a5\" : \"\",\n            boxShadow:\n              product && itemOnApprov\n                ? \"0 10px 15px rgba(0, 0, 0, .07)\"\n                : \"none\",\n          }}\n        >\n          <Col xs={9}>\n            <>\n              <p>{product?.name}</p>\n              <div class=\"badge badge-primary\">\n                {product?.fournisseur?.name}\n              </div>\n              <p>\n                <strong> {displayMoney(product?.prixFournisseur)}</strong>\n              </p>\n            </>\n          </Col>\n\n          <Col xs={3}>\n            {product?.id && (\n              <>\n                {!itemOnApprov ? (\n                  <button\n                    className={\"btn btn-green btn-sm\"}\n                    onClick={handleAddToApprov}\n                  >\n                    Ajouter\n                  </button>\n                ) : (\n                  <button\n                    className={\"btn btn-danger btn-sm\"}\n                    onClick={()=>removeProduct(product?.id)}\n                  >\n                    Retirer\n                  </button>\n                )}\n              </>\n            )}\n          </Col>\n        </Row>\n      </ListGroup.Item>\n    </>\n  );\n};\n\nexport default ProductItemEditApprov;\n","import React, { useState, useEffect } from \"react\";\nimport { GetOne, Data, GetAll } from \"../../../utils/context/data-context\";\nimport Content from \"../../../@adminlte/adminlte/Content\";\nimport ContentHeader from \"../../../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../../../@adminlte/adminlte/Content/Page\";\nimport ActiveLink from \"../../../@adminlte/adminlte/Content/ActiveLink\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { action, getData } from \"../../../utils/lib/call\";\nimport { useParams } from \"react-router-dom\";\nimport EditApprovisionnement from \"./EditApprovisionnement\";\nimport { Container, Row, Col, ListGroup, Card } from \"react-bootstrap\";\nimport { fetchProductsByFournisseur } from \"../../../store/actions/products\";\nimport ProductItemEditApprov from \"./ProductItemEditApprov\";\nimport searchByNameAndFournisseur from \"../../../filters/searchByNameAndFournisseur\";\nimport searchByName from \"../../../filters/searchByName\";\nimport searchByFournisseur from \"../../../filters/searchByFournisseur\";\n\nexport const EditerApprov = () => {\n  const { id } = useParams();\n  const [regenerate, setRegenerate] = useState(false);\n  const dispatch = useDispatch();\n  const approv = useSelector(getData(\"approvis\").value);\n  const meta = useSelector(getData(\"approvis\").meta);\n  const products = useSelector(getData(\"products\").value);\n  const metaproducts = useSelector(getData(\"products\").meta);\n  const [productData, setProductData] = useState([]);\n  React.useEffect(() => {\n    dispatch(action(\"approvis\").get(id));\n  }, [id]);\n  const [value, setValue] = useState(\"\");\n\n  const [state, setState] = useState([]);\n  useEffect(() => {\n    if (regenerate == true) {\n      dispatch(action(\"products\").fetch());\n      setRegenerate(false);\n    }\n    return () => {\n      setRegenerate(false);\n    };\n  }, [regenerate]);\n\n  const [identif, setIdentif] = useState();\n\n  useEffect(() => {\n    if (identif != null) {\n      setProductData(searchByNameAndFournisseur(products, value, identif));\n    } else {\n      setProductData(searchByName(products, value));\n    }\n  }, [value]);\n  useEffect(() => {\n    if (value != \"\") {\n      setProductData(searchByNameAndFournisseur(products, value, identif));\n    } else {\n      setProductData(searchByFournisseur(products, identif));\n    }\n  }, [identif]);\n\n  useEffect(() => {\n    dispatch(action(\"products\").fetch());\n  }, []);\n  React.useEffect(() => {\n    if (!meta.isFetching) {\n      setState(approv[0]?.contenu);\n    }\n  }, [meta]);\n  useEffect(() => {\n    if (!metaproducts.isFetching) {\n      setProductData(products);\n    }\n  }, [metaproducts]);\n  console.log(id);\n  return (\n    <Content>\n      <ContentHeader title=\"Edition de facture\">\n        <ActiveLink title=\"Edition de facture\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n        <Container>\n          <Row>\n            <Col xs={5}>\n              <ListGroup>\n                <Card>\n                  <Card.Header className=\"d-flex justify-content-between align-items-center bg-dark text-white\">\n                    Produits\n                  </Card.Header>\n                  <Card.Body>\n                    <input\n                      type=\"text\"\n                      onChange={(e) => {\n                        setValue(e.target.value);\n                      }}\n                      placeholder=\"Rechercher un produit\"\n                      className=\"form-control mb-2\"\n                    />\n                    <GetAll model=\"fournisseurs\">\n                      <Data>\n                        {({ data, meta }) => (\n                          <div className=\"my-2\">\n                            <select\n                              className=\"form-control\"\n                              selected={identif == 2}\n                              onChange={(e) => {\n                                setIdentif(e.target.value);\n                              }}\n                            >\n                              <option value=\"\">\n                                Selectionner un fournisseur\n                              </option>\n                              {data.map((d) => (\n                                <option value={d.id}>{d.name}</option>\n                              ))}\n                            </select>\n                          </div>\n                        )}\n                      </Data>\n                    </GetAll>\n                    <div\n                      style={{\n                        overflowY: \"auto\",\n                        height: \"350px\",\n                        maxHeight: \"350px\",\n                        overflowX: \"hidden\",\n                      }}\n                    >\n                      <>\n                        {productData.map((p) => (\n                          <ProductItemEditApprov\n                            state={state}\n                            setState={setState}\n                            product={p}\n                          />\n                        ))}\n                        {productData.length == 0 &&\n                          \"Aucune enregistrement trouv\"}\n                      </>{\" \"}\n                    </div>\n                  </Card.Body>\n                </Card>\n              </ListGroup>\n            </Col>\n            <Col xs={7}>\n              <EditApprovisionnement\n                disabled={metaproducts.isFetching==true}\n                state={state}\n                meta={meta}\n                setState={setState}\n                products={products}\n                approv={approv[0]}\n              />\n            </Col>\n          </Row>\n        </Container>\n      </Page>\n    </Content>\n  );\n};\n","import React, { useEffect } from \"react\";\nimport { Col, ListGroup, Row } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport useFromDepot from \"../../hooks/useFromDepot\";\nimport { displayMoney } from \"../../utils/functions\";\nconst ProductItem = ({ key, product }) => {\n  const fromdepots = useSelector((state) => state.fromdepots);\n  const dispatch = useDispatch();\n  const { isItemFromDepot, addFromDepot } = useFromDepot(fromdepots, dispatch);\n\n  const itemOnBasket = isItemFromDepot ? isItemFromDepot(product.id) : false;\n  useEffect(() => {\n    if (!itemOnBasket) {\n      product.qttByCC = 0;\n      product.quantityParProduct = 0;\n    }\n  }, [itemOnBasket]);\n  const handleAddToBasket = () => {\n    if (addFromDepot) addFromDepot(product);\n  };\n  return (\n    <>\n      <ListGroup.Item key={key} style={{\n        width:\"100%\"\n      }}>\n        <Row\n          className={` ${!product.id ? \"product-loading\" : \"\"}`}\n          style={{\n            boxShadow:\n              product && itemOnBasket\n                ? \"15px 10px 15px rgba(0, 0, 0, .07)\"\n                : \"none\",\n          }}\n        >\n          <Col xs={9}>\n            <>\n              <p>{product?.name}</p>\n              <div class=\"badge badge-primary\">\n                {product?.fournisseur?.name}\n              </div>\n            </>\n          </Col>\n          <Col xs={3}>\n            {product?.id && (\n              <button\n                disabled={product.quantityBrute === 0}\n                className={`mt-3 ${\n                  itemOnBasket\n                    ? \"btn btn-danger btn-sm\"\n                    : \"btn btn-green btn-sm\"\n                }`}\n                onClick={handleAddToBasket}\n              >\n                {!itemOnBasket ? \"Ajouter\" : \"Retirer\"}\n              </button>\n            )}\n          </Col>\n        </Row>\n      </ListGroup.Item>\n    </>\n  );\n};\n\nexport default ProductItem;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport FromDepotItem from \"./FromDepotItem\";\nimport { Card } from \"react-bootstrap\";\nimport { action, getData } from \"../../utils/lib/call\";\nimport { displayMoney, checkHasExistText } from \"../../utils/functions\";\nimport { useHistory } from \"react-router-dom\";\nimport {\n  handleMinusProductDepot,\n  handlePhtyoSpecificDepot,\n  handleSoldQuantityCCDepot,\n} from \"../../store/functions/function-depot\";\nimport { clearFromDepot } from \"../../store/fromdepot/actions/fromdepot\";\nimport { SORTIE, CREDITVACCINATEUR, CREDIT } from \"../../constants/routes\";\nimport { Select } from '@chakra-ui/react';\nimport { isSpecialProductHandle } from '../composants/vendeur/fromMagasin/block-it';\nconst calculateTotal = (arr) => {\n  if (!arr || arr?.length === 0) return 0;\n  const total = arr.reduce((acc, val) => acc + val, 0);\n  return total;\n};\n\nconst FromDepot = ({ setRegenerate }) => {\n  const [type, setType] = useState(\"vente-depot\");\n  const [idFournisseur, setIdFournisseur] = useState(1);\n  const [vaccinateurId, setVaccinateurId] = useState(null);\n  const [emprunter, setEmprunter] = useState(null);\n  const history = useHistory();\n\n  const { fromdepots } = useSelector((state) => ({\n    fromdepots: state.fromdepots,\n  }));\n  const dispatch = useDispatch();\n  const emprunters = useSelector(getData(\"emprunters\").value);\n  const vaccinateurs = useSelector(getData(\"vaccinateurs\").value);\n  const meta = useSelector(getData(\"commandes\").meta);\n  const commandes = useSelector(getData(\"commandes\").value);\n  const date = new Date();\n  const [dateCom, setDateCom] = useState(date);\n  useEffect(() => {\n    dispatch(clearFromDepot());\n    dispatch(action(\"commandes\").fetch());\n    dispatch(action(\"emprunters\").fetch());\n    dispatch(action(\"vaccinateurs\").fetch());\n  }, []);\n\n  const onCheckOut = () => {\n    if (dateCom == null || dateCom == \"\") {\n      alert(\"Vous avez oubli de mettre la date de l'operation !!!\");\n      return;\n    }\n    for (let i = 0; i < fromdepots.length; ++i) {\n      if (fromdepots[i].quantityParProductDepot == 0) {\n        alert(\"Commande non conforme:\" + fromdepots[i].name + \" : 0\");\n        return;\n      }\n    }\n    fromdepots.forEach((element) => {\n      delete element.busy;\n      delete element.pendingCreate;\n      handleMinusProductDepot(element);\n      if (element.condmldepot != 0 && element.qttccpventedepot != 0) {\n        handlePhtyoSpecificDepot(element);\n      } else {\n        handleSoldQuantityCCDepot(element);\n      }\n    });\n    //console.log(fromdepots);\n    dispatch(\n      action(\"commandes\").createTransaction(\n        {\n          id: Math.floor(Date.now() / 1000),\n          contenu: fromdepots,\n          type: type,\n          sorte: \"sortie\",\n          vaccinateurId: vaccinateurId,\n          status: type === \"vente-depot\" ? true : false,\n          emprunterId: emprunter,\n          dateCom: dateCom != null || dateCom != \"\" ? dateCom : date,\n        },\n        \"add-from-depot\"\n      )\n    );\n    dispatch(clearFromDepot());\n    if (type === \"vente-depot-credit\") {\n      history.push(CREDIT);\n    } else if (type === \"vente-depot-vaccinateur\") {\n      history.push(CREDITVACCINATEUR);\n    } else {\n      history.push(SORTIE);\n    }\n  };\n\n  const onClearBasket = () => {\n    fromdepots.forEach((element) => {\n      element.quantityParProductDepot = 0;\n      element.qttByCCDepot = 0;\n    });\n\n    dispatch(clearFromDepot());\n  };\n\n  return (\n    <>\n      <Card>\n        <Card.Header className=\" bg-dark py-2 text-white d-flex justify-content-between align-items-center\">\n          <div style={{ width: \"60%\" }}>BON DE SORTIE </div>\n          <div style={{ width: \"30%\" }} className=\"text-right\">\n            <Select\n              onChange={(e) => {\n                setType(e.target.value);\n              }}\n            >\n              <option value=\"vente-depot\" selected>\n                Comptant\n              </option>\n              <option value=\"vente-depot-credit\">Credit</option>\n              <option value=\"vente-depot-vaccinateur\">Vaccinateur</option>\n            </Select>\n          </div>\n        </Card.Header>\n        <div className=\"commande-vente\">\n          <Card.Body\n            style={{ padding: 12, marginTop: 3, marginRight: 2, marginLeft: 2 }}\n          >\n            <div\n              style={{\n                overflowY: \"auto\",\n                height: \"350px\",\n                maxHeight: \"350px\",\n                overflowX: \"hidden\",\n              }}\n            >\n              <div class=\"form-group\">\n                <label>Date de sortie :</label>\n                <div>\n                  <input\n                    type=\"date\"\n                    onChange={(e) => setDateCom(e.target.value)}\n                    value={dateCom}\n                    className=\"form-control\"\n                  />\n                </div>\n              </div>\n              {type === \"vente-depot-credit\" && (\n                <>\n                  <label>Nom du persone:</label>\n                  <select\n                    className=\"form-control mb-2\"\n                    onChange={(e) => {\n                      setEmprunter(e.target.value);\n                    }}\n                  >\n                    <option>Selectionner une personne</option>\n                    {emprunters.map((v) => (\n                      <option value={v.id}>{v.name}</option>\n                    ))}\n                  </select>\n                </>\n              )}\n              {type === \"vente-depot-vaccinateur\" && (\n                <>\n                  <label>Nom du vaccinateur:</label>\n                  <select\n                    className=\"form-control mb-2\"\n                    onChange={(e) => {\n                      setVaccinateurId(e.target.value);\n                    }}\n                  >\n                    <option>Selectionner un vaccinateur</option>\n                    {vaccinateurs.map((v) => (\n                      <option value={v.id}>{v.name}</option>\n                    ))}\n                  </select>\n                </>\n              )}\n              {fromdepots?.length <= 0 && (\n                <div className=\"alert alert-success\">\n                Choississez un produit sur la section \"Produits\" puis cliquez sur \"Ajouter\"\n                </div>\n              )}\n              {fromdepots?.map((product, i) => (\n                <FromDepotItem\n                  key={`${product?.id}_${i}`}\n                  product={product}\n                  basket={fromdepots}\n                  dispatch={dispatch}\n                />\n              ))}\n            </div>\n          </Card.Body>\n\n          {fromdepots?.length > 0 && (\n            <Card.Footer className=\"d-flex align-items-center justify-content-between\">\n              <div style={{ width: \"30%\" }}>\n                <h2 className=\"p-2 text-uppercase bg-primary\">\n                  <strong data-test-id=\"total-price-orders\">\n                    Total:\n                    {displayMoney(\n                      calculateTotal(\n                        fromdepots.map((product) => {\n                          return isSpecialProductHandle(product) ? product.prixlitre * product.quantityParProductDepot : product.prixVente * product.quantityParProductDepot;\n                        })\n                      ) +\n                        calculateTotal(\n                          fromdepots.map((product) => {\n                            return product.prixParCC * product.qttByCCDepot;\n                          })\n                        )\n                    )}\n                  </strong>\n                </h2>\n              </div>\n              <div style={{ width: \"70%\" }}>\n                {fromdepots.length > 0 && (\n                  <div className=\"d-flex text-right align-items-end justify-content-end\">\n                    <button\n                      className=\"btn btn-green btn-sm mr-2\"\n                      disabled={fromdepots.length === 0}\n                      onClick={onCheckOut}\n                      type=\"button\"\n                    >\n                      Valider l'operation\n                    </button>\n                    <button\n                      className=\"btn btn-danger btn-sm\"\n                      onClick={onClearBasket}\n                      type=\"button\"\n                    >\n                      <span>Annuler</span>\n                    </button>\n                  </div>\n                )}\n              </div>\n            </Card.Footer>\n          )}\n        </div>\n      </Card>\n    </>\n  );\n};\n\nexport default FromDepot;\n","import React, { useEffect, useState, useRef } from \"react\";\nimport ProductItem from \"./item\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Container, Row, Col, Card, ListGroup } from \"react-bootstrap\";\nimport FromDepot from \"./FromDepot\";\nimport { action, getData } from \"../../utils/lib/call\";\nimport { Link } from \"react-router-dom\";\nimport { HISTORIQUEVENTEVENDEUR } from \"../../constants/routes\";\nimport { fetchProductsByFournisseur } from \"../../store/actions/products\";\nimport { GetAll, Data } from \"../../context\";\nimport { Select } from \"@chakra-ui/select\";\nimport { displayDate, displayMoney } from \"../../utils/functions\";\nimport { getCommandeCVA } from \"../../store/actions/commandes\";\nimport searchByNameAndFournisseur from \"../../filters/searchByNameAndFournisseur\";\nimport searchByFournisseur from \"../../filters/searchByFournisseur\";\nimport searchByName from \"../../filters/searchByName\";\nimport { isSpecialProductHandle } from '../../store/functions/function';\nconst Products = () => {\n  const parameterizeObjectQuery = (key, value) => {\n    return '{\"' + key + '\":\"' + value + '\"}';\n  };\n  const products = useSelector(getData(\"products\").value);\n  const meta = useSelector(getData(\"products\").meta);\n  const dispatch = useDispatch();\n  const [value, setValue] = useState(\"\");\n  const [idFournisseur, setIdFournisseur] = useState(2);\n  const [regenerate, setRegenerate] = useState(false);\n  const refDateDeb = useRef(null);\n  const refDateFin = useRef(null);\n\n  const [productData, setProductData] = useState([]);\n  const commandes = useSelector(getData(\"commandes\").value);\n  const metameta = useSelector(getData(\"commandes\").meta);\n  const [deb, setDeb] = useState(new Date());\n  const [fin, setFin] = useState(new Date());\n\n  useEffect(() => {\n    dispatch(getCommandeCVA(deb, fin));\n  }, [deb, fin]);\n\n  useEffect(() => {\n    setDeb(new Date());\n    setFin(new Date());\n    dispatch(action(\"products\").fetch());\n  }, []);\n  useEffect(() => {\n    if (regenerate == true) {\n      dispatch(action(\"products\").fetch());\n      setRegenerate(false);\n    }\n    return () => {\n      setRegenerate(false);\n    };\n  }, [regenerate]);\n\n  useEffect(() => {\n    if (!meta.isFetching) {\n      setProductData(products);\n    }\n  }, [meta]);\n  useEffect(() => {\n  \n      setProductData(searchByName(products, value));\n  }, [value]);\n\n  const calculateTotal = (arr) => {\n    if (!arr || arr?.length === 0) return 0;\n    const total = arr.reduce((acc, val) => acc + val, 0);\n    return total;\n  };\n\n  const totalDevente = (arr) => {\n    return (\n      calculateTotal(\n        arr.map((product) => {\n          return isSpecialProductHandle(product) ? product.prixlitre * product.quantityParProductDepot : product.prixVente * product.quantityParProductDepot;;\n        })\n      ) +\n      calculateTotal(\n        arr.map((product) => {\n          return product.prixParCC * product.qttByCC;\n        })\n      )\n    );\n  };\n  const recetteDuJour = (arr = []) => {\n    let filteredCommande = arr.filter(v => v.isdeleted!=true);\n    let total = 0;\n    if (commandes.length > 0) {\n      filteredCommande.map((c) => {\n        total += totalDevente(c?.contenu);\n      });\n    } else {\n      total = 0;\n    }\n\n    return total;\n  };\n  return (\n    <>\n      <Container fluid>\n        <div className=\"py-2\">\n          <Row>\n            <Col xs={6}>\n              <Card className=\"mt-2\">\n                <Card.Header className=\"bg-dark p-2 text-white d-flex text-uppercase justify-content-between align-items-center\">\n                  <div style={{ width: \"80%\" }}>Produits</div>\n                  <div>\n                    <button\n                      className=\"btn btn-green btn-sm\"\n                      onClick={() => {\n                        setValue(\"\");\n                        setRegenerate(true);\n                      }}\n                    >\n                      Mettre  jour\n                    </button>\n                  </div>\n                </Card.Header>\n                <Card.Body>\n                  <div>\n                  \n                    <input\n                      type=\"text\"\n                      onChange={(e) => {\n                        setValue(e.target.value);\n                      }}\n                      placeholder=\"Nom du produit\"\n                      className=\"form-control mb-2\"\n                    />{\" \"}\n                   \n                  </div>\n                  <ListGroup>\n                    <div\n                      style={{\n                        overflowY: \"auto\",\n                        height: \"350px\",\n                        maxHeight: \"350px\",\n                        overflowX: \"hidden\",\n                      }}\n                    >\n                      <div class=\"d-flex justify-content-start flex-wrap\">\n                        {productData.map((p) => (\n                          <ProductItem product={p} />\n                        ))}\n                        {productData.length == 0 &&\n                          \"Aucune enregistrement trouv\"}\n                      </div>{\" \"}\n                    </div>\n                  </ListGroup>\n                </Card.Body>\n              </Card>\n            </Col>\n            <Col xs={6}>\n              <div className=\" py-2\">\n                <FromDepot setRegenerate={setRegenerate} />\n              </div>\n            </Col>\n          </Row>\n        </div>\n      </Container>\n    </>\n  );\n};\n\nexport default Products;\n","import React from \"react\";\nimport ContentHeader from \"../../@adminlte/adminlte/Content/ContentHeader\";\nimport ActiveLink from \"../../@adminlte/adminlte/Content/ActiveLink\";\nimport Page from \"../../@adminlte/adminlte/Content/Page\";\nimport Content from \"../../@adminlte/adminlte/Content\";\nimport Products from \"./product\";\nconst BonDepot = () => {\n  return (\n    <Content>\n      <ContentHeader title=\"Bon de sortie du dpot\">\n        <ActiveLink title=\"Bon de sortie du dpot\"></ActiveLink>\n      </ContentHeader>\n\n      <Page>\n        <div>\n          <button disabled={true} className=\"btn btn-green btn-xs ml-3 mb-2\">\n            Ajouter\n          </button>{\" \"}\n          : <span>Le produit n'a pas de stock disponible</span>\n          <button className=\"btn btn-green btn-xs ml-3 mb-2\">\n            Mettre  jour\n          </button>{\" \"}\n          : <span>Mettre  jour la liste des produits</span>\n        </div>\n        <select disabled={true} className=\"  ml-3 bg-white py-2 input-xs\">\n          <option>Comptant</option>\n        </select>{\" \"}\n        : <span>Choix du mode sortie ( Comptant,credit,vaccinateur)</span>\n        <Products />\n      </Page>\n    </Content>\n  );\n};\n\nexport default BonDepot;\n","import React, { useEffect, useState } from \"react\";\nexport const ItemsApprov = ({ flat, gr, id }) => {\n  let orderItem = flat.filter((f) => f.id == id);\n  let lastElement =\n    orderItem[orderItem.length - 1] != undefined\n      ? orderItem[orderItem.length - 1]\n      : {};\n\n  let value = 0;\n  if (orderItem) {\n    value = orderItem\n      .map((item) => item.quantityParProduct * 1)\n      .reduce((prev, curr) => prev + curr, 0);\n  } else {\n    value = 0;\n  }\n  return <td className=\"text-center p-1\">{value != 0 ? value : \"-\"}</td>;\n};\n\nexport default ItemsApprov;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport Stock from \"./Stock\";\nimport moment from \"moment\";\nimport getByRangeDateAndProduct from \"../../../filters/getByRangeDateAndProduct\";\nimport { displayDate } from \"../../../utils/functions\";\n\nexport const NoItemsApprov = () => {\n  return (\n    <td className=\"text-center p-1\">\n        {/**<div className=\"mb-2\">\n          <span className=\"text-center  p-1\">-</span>\n          <span className=\"text-center  p-1\">-</span>\n        </div>{\" \"}**/}\n        <div>\n          <span className=\"text-center  p-1\">-</span>\n        </div>\n    </td>\n  );\n};\n\nexport default NoItemsApprov;\n","import React, { useEffect, useState } from \"react\";\nexport const LastStockApprov = ({ flat, gr, id }) => {\n  let orderItem = flat.filter((f) => f.id == id);\n  let lastElement =\n    orderItem[orderItem.length - 1] != undefined\n      ? orderItem[orderItem.length - 1]\n      : {};\n  let lastStock = {\n    bruteCva: lastElement.hasOwnProperty(\"id\")\n      ? lastElement.quantityBrute\n      : 0,\n    ccCva: lastElement.hasOwnProperty(\"id\") ? lastElement.quantityCC : 0,\n  };\n  return (\n    <>\n      <td className=\"text-center\">\n        {orderItem.length != 0 ? lastStock.bruteCva : 0}\n      </td>\n\n    </>\n  );\n};\n\nexport default LastStockApprov;\n","import React, { useState, useEffect } from \"react\";\nimport ActiveLink from \"../../../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../../../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../../../@adminlte/adminlte/Content/Page\";\nimport Content from \"../../../@adminlte/adminlte/Content\";\nimport moment from \"moment\";\nimport { useSelector } from \"react-redux\";\nimport { useDispatch } from \"react-redux\";\nimport { getApprov, getApprovData } from \"../../../store/actions/approv\";\nimport { getData } from \"../../../utils/lib/call\";\nimport flatify from \"../../../filters/flatify\";\nimport getByRangeDate from \"../../../filters/getByRangeDate\";\nimport { displayDate } from \"../../../utils/functions\";\nimport DateRangePicker from \"@wojtekmaj/react-daterange-picker/dist/DateRangePicker\";\nimport DateInterval from \"./DateInterval\";\nimport ItemsApprov from \"./ItemsApprov\";\nimport NoItemsApprov from \"./NoItemsApprov\";\nimport LastStockApprov from \"./LastStockApprov\";\nimport { MenuTdb } from \"./MenuTdb\";\nexport const groupBy = (array, key, subkey) => {\n  return array.reduce((result, currentValue) => {\n    if (!subkey) {\n      (result[currentValue[key]] = result[currentValue[key]] || []).push(\n        currentValue\n      );\n    } else {\n      (result[currentValue[key][subkey]] =\n        result[currentValue[key][subkey]] || []).push(currentValue);\n    }\n    return result;\n  }, {});\n};\nfunction last(array) {\n  return array[array.length - 1];\n}\nexport const Facturation = () => {\n  var start = moment().isoWeekday(1).startOf(\"week\");\n  var end = moment().endOf(\"week\");\n  const [rangeDate, setRangeDate] = useState([]);\n  const [rangeMonth, setRangeMonth] = useState([]);\n  let [startofDate, setStartofDate] = useState(start);\n  let [endDate, setEndDate] = useState(end);\n  const [dateRange, onChangeDateRange] = useState([start, end]);\n  const [byDateProduct, setByDateProduct] = useState([]);\n  const [result, setResult] = useState([]);\n  const approvis = useSelector(getData(\"approvis\").value);\n  const meta = useSelector(getData(\"approvis\").meta);\n  const dispatch = useDispatch();\n\n  let getAllMonthBetweenDates = (startDate, endDate) => {\n    const months = [];\n    while (endDate.diff(startDate, \"months\") >= 0) {\n      months.push(startDate.format(\"MMMM YYYY\"));\n      startDate.add(1, \"month\");\n    }\n    return months;\n  };\n  let getDaysBetweenDates = (startDate, endDate) => {\n    let now = startDate.clone();\n    const dates = [];\n    while (now.isSameOrBefore(endDate)) {\n      dates.push(now.format(\"YYYY-MM-DD\"));\n      now.add(1, \"days\");\n    }\n    return dates;\n  };\n\n  useEffect(() => {\n    if (dateRange !== null) {\n      if (dateRange[0]) {\n        setStartofDate(dateRange[0]);\n      }\n      if (dateRange[0]) {\n        setEndDate(dateRange[1]);\n      }\n    } else {\n      setStartofDate(start);\n      setEndDate(end);\n    }\n  }, [dateRange]);\n\n  useEffect(() => {\n    if (startofDate && endDate) {\n      setRangeDate(getDaysBetweenDates(moment(startofDate), moment(endDate)));\n      setRangeMonth(\n        getAllMonthBetweenDates(moment(startofDate), moment(endDate))\n      );\n      dispatch(getApprovData(startofDate, endDate));\n    }\n  }, [startofDate, endDate]);\n  useEffect(() => {\n    if (!meta.isFetching) {\n      setByDateProduct(\n        getByRangeDate(approvis, \"dateApprov\", startofDate, endDate)\n      );\n    }\n  }, [meta]);\n  let rs = flatify(byDateProduct, \"contenu\");\n  let res = rs\n    .reduce(\n      (r, { id, name, type, category, fournisseur,quantityBrute,quantityCC, quantityParProduct }) => {\n        var temp = r.find((o) => o.id === id);\n        if (!temp) {\n          r.push({\n            id,\n            name,\n            type,\n            category,\n            fournisseur,\n            quantityBrute,\n            quantityCC,\n            quantityParProduct,\n          });\n        } else {\n          temp.quantityParProduct =\n            parseInt(temp.quantityParProduct) + parseInt(quantityParProduct);\n        }\n        return r;\n      },\n      []\n    )\n    .sort(function (a, b) {\n      return a.id > b.id;\n    });\n  const flato = (data, attribute) => {\n    return [...new Set([].concat(...data.map((o) => o[attribute])))];\n  };\n\n  const groupedBasket = groupBy(byDateProduct, \"dateApprov\");\n  return (\n    <Content>\n      <ContentHeader title=\"Journal de facturation\">\n        <ActiveLink title=\"Journal de facturation\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n      <MenuTdb/>\n        <div className=\"date-range\">\n          <div className=\"d-flex justify-content-between my-3\">\n            <div>\n              {startofDate && endDate && (\n                <>\n                  <h2 class=\"text-uppercase my-1\">Journal de facturation </h2>\n                  <span>\n                    Du: {displayDate(startofDate)} Au {displayDate(endDate)}\n                  </span>\n                </>\n              )}{\" \"}\n            </div>\n            <div>\n              <DateRangePicker\n                locale=\"fr-FR\"\n                onChange={onChangeDateRange}\n                value={dateRange}\n              />\n            </div>\n          </div>\n          <div className=\"bg-white py-3 px-2 mb-2\">\n            <div className=\"table-responsive\">\n              <table class=\"table\">\n                <tr className=\"sticky-this\">\n                  <td>Produit</td>\n                  {rangeDate.map((r) => (\n                    <>\n                      <DateInterval date={r} />\n                    </>\n                  ))}\n                  <td className=\"bg-thead text-uppercase text-center\">Total</td>\n                  <td className=\"bg-thead text-uppercase text-center\">Stock</td>\n                </tr>\n                {res.map((b) => (\n                  <>\n                    <tr class=\"bg-white\">\n                      <td className=\"bg-thead\">{b.name}</td>\n                      {rangeDate.map((r) => (\n                        <>\n                          {groupedBasket[r] != undefined ? (\n                            <ItemsApprov\n                              flat={flato(groupedBasket[r], \"contenu\")}\n                              gr={r}\n                              id={b.id}\n                            />\n                          ) : (\n                            <NoItemsApprov />\n                          )}\n                        </>\n                      ))}\n                      <td className=\"text-center\">{b.quantityParProduct}</td>\n\n                      <LastStockApprov\n                        flat={flato(\n                          groupedBasket[last(Object.keys(groupedBasket))],\n                          \"contenu\"\n                        )}\n                        gr={last(Object.keys(groupedBasket))}\n                        id={b.id}\n                      />\n                    </tr>\n                  </>\n                ))}\n                {res.length == 0 && (\n                  <tr>\n                    <td className=\"text-center\" colSpan={rangeDate.length + 3}>\n                      Aucune enregistrement trouv\n                    </td>\n                  </tr>\n                )}\n              </table>\n            </div>\n          </div>{\" \"}\n        </div>\n      </Page>\n    </Content>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport Stock from \"./Stock\";\nimport moment from \"moment\";\nimport getByRangeDateAndProduct from \"../../../filters/getByRangeDateAndProduct\";\nimport { displayDate } from \"../../../utils/functions\";\n\nexport const NoItemsApprov = () => {\n  return (\n    <td className=\"text-center p-1\">\n        {/**<div className=\"mb-2\">\n          <span className=\"text-center  p-1\">-</span>\n          <span className=\"text-center  p-1\">-</span>\n        </div>{\" \"}**/}\n        <div>\n          <span className=\"text-center  p-1\">-</span>\n        </div>\n    </td>\n  );\n};\n\nexport default NoItemsApprov;\n","import React, { useEffect, useState } from \"react\";\nexport const ItemsVente = ({ flat, gr, id }) => {\n  let orderItem = flat.filter((f) => f.id == id);\n  let lastElement =\n    orderItem[orderItem.length - 1] != undefined\n      ? orderItem[orderItem.length - 1]\n      : {};\n\n  let value = 0;\n  if (orderItem) {\n    value = orderItem\n      .map((item) => item.quantityParProductDepot * 1)\n      .reduce((prev, curr) => prev + curr, 0);\n  } else {\n    value = 0;\n  }\n  return <td className=\"text-center p-1\">{value != 0 ? value : \"-\"}</td>;\n};\n\nexport default ItemsVente;\n","import React, { useEffect, useState } from \"react\";\nexport const LastStockVente = ({ flat, gr, id }) => {\n  let orderItem = flat.filter((f) => f.id == id);\n  let lastElement =\n    orderItem[orderItem.length - 1] != undefined\n      ? orderItem[orderItem.length - 1]\n      : {};\n  let lastStock = {\n    bruteCva: lastElement.hasOwnProperty(\"id\")\n      ? lastElement.quantityBrute\n      : 0,\n    ccCva: lastElement.hasOwnProperty(\"id\") ? lastElement.quantityCC : 0,\n  };\n  return (\n    <>\n      <td className=\"text-center\">\n        {orderItem.length != 0 ? lastStock.bruteCva : 0}\n      </td>\n\n    </>\n  );\n};\n\nexport default LastStockVente;\n","import React,{useState,useEffect} from \"react\";\nimport ActiveLink from \"../../../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../../../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../../../@adminlte/adminlte/Content/Page\";\nimport Content from \"../../../@adminlte/adminlte/Content\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport moment from 'moment';\nimport { getData } from \"../../../utils/lib/call\";\nimport flatify from \"../../../filters/flatify\";\nimport getByRangeDate from \"../../../filters/getByRangeDate\";\nimport { getTdbCommande } from \"../../../store/actions/commandes\";\nimport { displayDate } from \"../../../utils/functions\";\nimport DateRangePicker from \"@wojtekmaj/react-daterange-picker/dist/DateRangePicker\";\nimport DateInterval from \"./DateInterval\";\nimport LastStock from \"./LastStock\";\nimport NoItemsVente from \"./NoItemsVente\";\nimport ItemsVente from \"./ItemsVente\";\nimport LastStockVente from \"./LastStockVente\";\nimport { MenuTdb } from './MenuTdb';\nexport const groupBy = (array, key, subkey) => {\n  return array.reduce((result, currentValue) => {\n    if (!subkey) {\n      (result[currentValue[key]] = result[currentValue[key]] || []).push(\n        currentValue\n      );\n    } else {\n      (result[currentValue[key][subkey]] =\n        result[currentValue[key][subkey]] || []).push(currentValue);\n    }\n    return result;\n  }, {});\n};\nfunction last(array) {\n  return array[array.length - 1];\n}\nexport const VenteCBV = () => {\n  var start = moment().isoWeekday(1).startOf(\"week\");\n  var end = moment().endOf(\"week\");\n  const [rangeDate, setRangeDate] = useState([]);\n  const [rangeMonth, setRangeMonth] = useState([]);\n  let [startofDate, setStartofDate] = useState(start);\n  let [endDate, setEndDate] = useState(end);\n  const [dateRange, onChangeDateRange] = useState([start, end]);\n  const [byDateProduct, setByDateProduct] = useState([]);\n  const [result, setResult] = useState([]);\n  const commandes = useSelector(getData(\"commandes\").value);\n  const meta = useSelector(getData(\"commandes\").meta);\n  const dispatch = useDispatch();\n\n  let getAllMonthBetweenDates = (startDate, endDate) => {\n    const months = [];\n    while (endDate.diff(startDate, \"months\") >= 0) {\n      months.push(startDate.format(\"MMMM YYYY\"));\n      startDate.add(1, \"month\");\n    }\n    return months;\n  };\n  let getDaysBetweenDates = (startDate, endDate) => {\n    let now = startDate.clone();\n    const dates = [];\n    while (now.isSameOrBefore(endDate)) {\n      dates.push(now.format(\"YYYY-MM-DD\"));\n      now.add(1, \"days\");\n    }\n    return dates;\n  };\n\n  useEffect(() => {\n    if (dateRange !== null) {\n      if (dateRange[0]) {\n        setStartofDate(dateRange[0]);\n      }\n      if (dateRange[0]) {\n        setEndDate(dateRange[1]);\n      }\n    } else {\n      setStartofDate(start);\n      setEndDate(end);\n    }\n  }, [dateRange]);\n\n  useEffect(() => {\n    if (startofDate && endDate) {\n      setRangeDate(getDaysBetweenDates(moment(startofDate), moment(endDate)));\n      setRangeMonth(\n        getAllMonthBetweenDates(moment(startofDate), moment(endDate))\n      );\n      dispatch(getTdbCommande('vente-depot',startofDate, endDate));\n    }\n  }, [startofDate, endDate]);\n  useEffect(() => {\n    if (!meta.isFetching) {\n      setByDateProduct(\n        getByRangeDate(commandes, \"dateCom\", startofDate, endDate)\n      );\n    }\n  }, [meta]);\n  let rs = flatify(byDateProduct, \"contenu\");\n  let res = rs\n    .reduce(\n      (\n        r,\n        {\n          id,\n          name,\n          type,\n          category,\n          fournisseur,\n          quantityParProductDepot,\n          quantityBruteCVA,\n          quantityCCCVA,\n          qttByCC,\n        }\n      ) => {\n        var temp = r.find((o) => o.id === id);\n        if (!temp) {\n          r.push({\n            id,\n            name,\n            type,\n            category,\n            fournisseur,\n            quantityBruteCVA,\n            quantityCCCVA,\n            quantityParProductDepot\n          });\n        } else {\n            (temp.quantityParProductDepot =\n              parseInt(temp.quantityParProductDepot) + parseInt(quantityParProductDepot));\n        }\n        return r;\n      },\n      []\n    )\n    .sort(function (a, b) {\n      return a.id > b.id;\n    });\n  const flato = (data, attribute) => {\n    return [...new Set([].concat(...data.map((o) => o[attribute])))];\n  };\n\n  const groupedBasket = groupBy(byDateProduct, \"dateCom\");\n  return (\n    <Content>\n      <ContentHeader title=\"Journal de vente\">\n        <ActiveLink title=\"Journal de vente\"></ActiveLink>\n      </ContentHeader>\n      <Page><MenuTdb/>\n      <div className=\"date-range\">\n          <div className=\"d-flex justify-content-between my-3\">\n            <div>\n              {startofDate && endDate && (\n                <>\n                  <h2 class=\"text-uppercase my-1\">\n                    Journal de vente \n                  </h2>\n                  <span>\n                    Du: {displayDate(startofDate)} Au {displayDate(endDate)}\n                  </span>\n                </>\n              )}{\" \"}\n            </div>\n            <div>\n              <DateRangePicker\n                locale=\"fr-FR\"\n                onChange={onChangeDateRange}\n                value={dateRange}\n              />\n            </div>\n          </div>\n        \n          <div className=\"table-responsive\">\n        \n            <table class=\"table\">\n              <tr className=\"sticky-this\">\n                <td>Produit</td>\n                {rangeDate.map((r) => (\n                  <>\n                    <DateInterval date={r} />\n                  </>\n                ))}\n                <td className=\"bg-thead text-uppercase text-center\">Total</td>\n              \n                <td className=\"bg-thead text-uppercase text-center\">Stock</td>\n               \n              </tr>\n              {res.map((b) => (\n                <>\n                  <tr class=\"bg-white\">\n                    <td className=\"bg-thead\">{b.name}</td>\n                    {rangeDate.map((r) => (\n                      <>\n                        {groupedBasket[r] != undefined ? (\n                          <ItemsVente\n                            flat={flato(groupedBasket[r], \"contenu\")}\n                            gr={r}\n                            id={b.id}\n                          />\n                        ) : (\n                          <NoItemsVente />\n                        )}\n                      </>\n                    ))}\n                    <td className=\"text-center\">{b.quantityParProductDepot}</td>\n                    <LastStockVente\n                      flat={flato(\n                        groupedBasket[last(Object.keys(groupedBasket))],\n                        \"contenu\"\n                      )}\n                      gr={last(Object.keys(groupedBasket))}\n                      id={b.id}\n                    />\n                  </tr>\n                </>\n              ))}\n              {res.length == 0 && (\n                <tr>\n                  <td className=\"text-center\" colSpan={rangeDate.length + 3}>\n                    Aucune enregistrement trouv\n                  </td>\n                </tr>\n              )}\n            </table>\n          </div>\n        </div>\n      </Page>\n    </Content>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport ActiveLink from \"../../../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../../../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../../../@adminlte/adminlte/Content/Page\";\nimport Content from \"../../../@adminlte/adminlte/Content\";\nimport moment from \"moment\";\nimport { useSelector } from \"react-redux\";\nimport { useDispatch } from \"react-redux\";\nimport { getApprov, getApprovData } from \"../../../store/actions/approv\";\nimport { getData } from \"../../../utils/lib/call\";\nimport flatify from \"../../../filters/flatify\";\nimport getByRangeDate from \"../../../filters/getByRangeDate\";\nimport { displayDate } from \"../../../utils/functions\";\nimport DateRangePicker from \"@wojtekmaj/react-daterange-picker/dist/DateRangePicker\";\nimport DateInterval from \"./DateInterval\";\nimport Items from \"./Items\";\nimport NoItems from \"./NoItems\";\nimport LastStock from \"./LastStock\";\nimport { getTdbCommande } from '../../../store/actions/commandes';\nimport ItemsApprov from \"./ItemsApprov\";\nimport NoItemsApprov from \"./NoItemsApprov\";\nimport LastStockApprov from \"./LastStockApprov\";\nimport { MenuTdb } from \"./MenuTdb\";\nexport const groupBy = (array, key, subkey) => {\n  return array.reduce((result, currentValue) => {\n    if (!subkey) {\n      (result[currentValue[key]] = result[currentValue[key]] || []).push(\n        currentValue\n      );\n    } else {\n      (result[currentValue[key][subkey]] =\n        result[currentValue[key][subkey]] || []).push(currentValue);\n    }\n    return result;\n  }, {});\n};\nfunction last(array) {\n  return array[array.length - 1];\n}\nexport const DepotVersMagasin = () => {\n  var start = moment().isoWeekday(1).startOf(\"week\");\n  var end = moment().endOf(\"week\");\n  const [rangeDate, setRangeDate] = useState([]);\n  const [rangeMonth, setRangeMonth] = useState([]);\n  let [startofDate, setStartofDate] = useState(start);\n  let [endDate, setEndDate] = useState(end);\n  const [dateRange, onChangeDateRange] = useState([start, end]);\n  const [byDateProduct, setByDateProduct] = useState([]);\n  const [result, setResult] = useState([]);\n  const commandes = useSelector(getData(\"commandes\").value);\n  const meta = useSelector(getData(\"commandes\").meta);\n  const dispatch = useDispatch();\n\n  let getAllMonthBetweenDates = (startDate, endDate) => {\n    const months = [];\n    while (endDate.diff(startDate, \"months\") >= 0) {\n      months.push(startDate.format(\"MMMM YYYY\"));\n      startDate.add(1, \"month\");\n    }\n    return months;\n  };\n  let getDaysBetweenDates = (startDate, endDate) => {\n    let now = startDate.clone();\n    const dates = [];\n    while (now.isSameOrBefore(endDate)) {\n      dates.push(now.format(\"YYYY-MM-DD\"));\n      now.add(1, \"days\");\n    }\n    return dates;\n  };\n\n  useEffect(() => {\n    if (dateRange !== null) {\n      if (dateRange[0]) {\n        setStartofDate(dateRange[0]);\n      }\n      if (dateRange[0]) {\n        setEndDate(dateRange[1]);\n      }\n    } else {\n      setStartofDate(start);\n      setEndDate(end);\n    }\n  }, [dateRange]);\n\n  useEffect(() => {\n    if (startofDate && endDate) {\n      setRangeDate(getDaysBetweenDates(moment(startofDate), moment(endDate)));\n      setRangeMonth(\n        getAllMonthBetweenDates(moment(startofDate), moment(endDate))\n      );\n      dispatch(getTdbCommande('cva',startofDate, endDate));\n    }\n  }, [startofDate, endDate]);\n  useEffect(() => {\n    if (!meta.isFetching) {\n      setByDateProduct(\n        getByRangeDate(commandes, \"dateCom\", startofDate, endDate)\n      );\n    }\n  }, [meta]);\n  let rs = flatify(byDateProduct, \"contenu\");\n  let res = rs\n    .reduce(\n      (r, { id, name, type, category, fournisseur,quantityBrute,quantityCC, quantityParProduct }) => {\n        var temp = r.find((o) => o.id === id);\n        if (!temp) {\n          r.push({\n            id,\n            name,\n            type,\n            category,\n            fournisseur,\n            quantityBrute,\n            quantityCC,\n            quantityParProduct,\n          });\n        } else {\n          temp.quantityParProduct =\n            parseInt(temp.quantityParProduct) + parseInt(quantityParProduct);\n        }\n        return r;\n      },\n      []\n    )\n    .sort(function (a, b) {\n      return a.id > b.id;\n    });\n  const flato = (data, attribute) => {\n    return [...new Set([].concat(...data.map((o) => o[attribute])))];\n  };\n\n  const groupedBasket = groupBy(byDateProduct, \"dateCom\");\n  return (\n    <Content>\n      <ContentHeader title=\"Journal de dept vers magasin\">\n        <ActiveLink title=\"Journal de dept vers magasin\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n      <MenuTdb/>\n        <div className=\"date-range\">\n          <div className=\"d-flex justify-content-between my-3\">\n            <div>\n              {startofDate && endDate && (\n                <>\n                  <h2 class=\"text-uppercase my-1\">Journal de dept vers magasin </h2>\n                  <span>\n                    Du: {displayDate(startofDate)} Au {displayDate(endDate)}\n                  </span>\n                </>\n              )}{\" \"}\n            </div>\n            <div>\n              <DateRangePicker\n                locale=\"fr-FR\"\n                onChange={onChangeDateRange}\n                value={dateRange}\n              />\n            </div>\n          </div>\n          <div className=\"bg-white py-3 px-2 mb-2\">\n            <div className=\"table-responsive\">\n              <table class=\"table\">\n                <tr className=\"sticky-this\">\n                  <td>Produit</td>\n                  {rangeDate.map((r) => (\n                    <>\n                      <DateInterval date={r} />\n                    </>\n                  ))}\n                  <td className=\"bg-thead text-uppercase text-center\">Total</td>\n                  <td className=\"bg-thead text-uppercase text-center\">Stock</td>\n                </tr>\n                {res.map((b) => (\n                  <>\n                    <tr class=\"bg-white\">\n                      <td className=\"bg-thead\">{b.name}</td>\n                      {rangeDate.map((r) => (\n                        <>\n                          {groupedBasket[r] != undefined ? (\n                            <ItemsApprov\n                              flat={flato(groupedBasket[r], \"contenu\")}\n                              gr={r}\n                              id={b.id}\n                            />\n                          ) : (\n                            <NoItemsApprov />\n                          )}\n                        </>\n                      ))}\n                      <td className=\"text-center\">{b.quantityParProduct}</td>\n                      <LastStockApprov\n                        flat={flato(\n                          groupedBasket[last(Object.keys(groupedBasket))],\n                          \"contenu\"\n                        )}\n                        gr={last(Object.keys(groupedBasket))}\n                        id={b.id}\n                      />\n                    </tr>\n                  </>\n                ))}\n                {res.length == 0 && (\n                  <tr>\n                    <td className=\"text-center\" colSpan={rangeDate.length + 3}>\n                      Aucune enregistrement trouv\n                    </td>\n                  </tr>\n                )}\n              </table>\n            </div>\n          </div>{\" \"}\n        </div>\n      </Page>\n    </Content>\n  );\n};\n","import React, { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, Redirect, useParams } from \"react-router-dom\";\nimport { action, getData } from \"../../../../utils/lib/call\";\nimport { useLocation } from \"react-router-dom\";\nimport { CREDIT } from \"../../../../constants/routes\";\nimport {isSpecialProductHandle} from \"../../../../store/functions/function\";\nimport {\n  getCredit,\n  setPayerCommande,\n} from \"../../../../store/actions/commandes\";\nimport Content from \"../../../../@adminlte/adminlte/Content\";\nimport ActiveLink from \"../../../../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../../../../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../../../../@adminlte/adminlte/Content/Page\";\nimport NumberFormat from \"react-number-format\";\nimport { withRouter } from \"react-router-dom\";\nimport { displayDate, displayMoney } from \"../../../../utils/functions\";\nimport { useHistory } from \"react-router-dom\";\nconst calculateTotal = (arr) => {\n  if (!arr || arr?.length === 0) return 0;\n  let total = 0;\n  arr.forEach((el) => {\n    total += el.prixVente * el.quantityParProduct * 1;\n  });\n  return total;\n};\nexport const getCorrection = (product,attribute,tl) => {\n  if (product[t] == 1) {\n    return {\n      text: \"plus (+\" + product[attribute] + \")(\"+tl+\")\",\n      textStyle:'text text-info',\n      date: displayDate(product.datedecorrection),\n      style: \"badge badge-info\",\n    };\n  } else if (product[t] == 2) {\n    return {\n      text: \"moins (-\" + product[attribute] + \")(\"+tl+\")\",\n      textStyle:'text text-warning',\n      date: displayDate(product.datedecorrection),\n      style: \"badge badge-warning\",\n    };\n  } else if (product[t]  == 3) {\n    return {\n      text: \"ajouter au commande ( + \" + product[attribute] + \"(\"+tl+\")\",\n      textStyle:'text text-success',\n      date: displayDate(product.datedecorrection),\n      style: \"badge badge-success\",\n    };\n  } else if (product[t] == 4) {\n    return {\n      text: \"supprimer du commande ( - \" + product[attribute] + \"(\"+tl+\")\",\n      textStyle:'text text-danger',\n      date: displayDate(product.datedecorrection),\n      style: \"badge badge-danger\",\n    };\n  }\n};\nfunction DepotToMagasinDetail(props) {\n  let history = useHistory();\n  const { id } = useParams();\n  const commande = useSelector(getData(\"commandes\").value);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(action(\"commandes\").get(id));\n  }, [id]);\n\n  return (\n    <Content>\n      <ContentHeader title=\"Dtail de sortie vers magasin\">\n        <ActiveLink title=\"Dtail de sortie vers magasin\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n        <table className=\"table table-bordered \">\n          <tr className=\"bg-thead\">\n            <td>Nom de l'article</td>\n            <td>Quantit</td>\n            <td>Sous total</td>\n          </tr>\n          {commande.length >0 &&\n            commande[0]?.contenu.map((c) => (\n              <tr>\n                <td style={{ width: \"40%\" }}>\n                  <h2>{c.name}</h2>\n                  {c.correction > 0 && (\n                    <div>\n                      <div className={getCorrection(c,'correction','correctiontype','(F,B,S,U)').style}>\n                        <p>{getCorrection(c).text}</p>\n                      </div>\n                 \n                    </div>\n                  )}\n                  {c.correctionml > 0 && (\n                    <div>\n                      <div className={getCorrection(c,'correctionml','correctiontml','ml').style}>\n                        <p>{getCorrection(c,'correctionml','correctiontml','ml').text}</p>\n                      </div>\n                 \n                    </div>\n                  )}\n                  {c.correctionl > 0 && (\n                    <div>\n                      <div className={getCorrection(c,'correctionl','correctiontl','l').style}>\n                        <p>{getCorrection(c,'correctionl','correctiontl','l').text}</p>\n                      </div>\n                 \n                    </div>\n                  )}\n                  <p>Date de modification:{displayDate(c.datedecorrection)}</p>\n                </td>\n\n                <td className=\"d-flex align-items-center\">\n\n                  {displayMoney(isSpecialProductHandle(c) ? c.prixlitre  : c.prixVente)}({\"x\"} {c.quantityParProduct})\n                </td>\n\n                <td>{displayMoney(isSpecialProductHandle(c) ? c.prixlitre  : c.prixVente  * c.quantityParProduct)}</td>\n              </tr>\n            ))}\n        </table>\n        <div className=\"d-flex justify-content-end\">\n          <strong>Total</strong>:\n          {displayMoney(calculateTotal(commande[0]?.contenu))}\n        </div>\n      </Page>\n    </Content>\n  );\n}\n\nexport default withRouter(DepotToMagasinDetail);\n","import React, { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, Redirect, useParams } from \"react-router-dom\";\nimport { useLocation } from \"react-router-dom\";\nimport NumberFormat from \"react-number-format\";\nimport { withRouter } from \"react-router-dom\";\nimport { action, getData } from \"../../../../utils/lib/call\";\nimport Page from \"../../../../@adminlte/adminlte/Content/Page\";\nimport ContentHeader from \"../../../../@adminlte/adminlte/Content/ContentHeader\";\nimport ActiveLink from \"../../../../@adminlte/adminlte/Content/ActiveLink\";\nimport Content from \"../../../../@adminlte/adminlte/Content/index\";\nimport { displayDate, displayMoney } from \"../../../../utils/functions\";\nimport { HISTORIQUEVENTEVENDEUR } from \"../../../../constants/routes\";\nimport { isSpecialProductHandle } from '../../../../store/functions/function';\n\nconst calculateTotal = (arr) => {\n  if (!arr || arr?.length === 0) return 0;\n  const total = arr.reduce((acc, val) => acc + val, 0);\n  return total;\n};\n\nfunction DetailMagasinVente(props) {\n  let history = useLocation();\n  const { id } = useParams();\n  const commande = useSelector(getData(\"commandes\").value);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(action(\"commandes\").get(id));\n  }, [id]);\n  return (\n    <Content>\n      <ContentHeader title=\"Dtail de vente du magasin\">\n        <ActiveLink title=\"Dtail de vente du magasin\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n        <div>\n          <div>\n            <p>{commande[0]?.type == \"credit-cva\" && <p>Credit</p>}</p>\n            {commande[0]?.type == \"credit-cva\" && (\n              <div className=\"border\">\n                <>\n                  <h3>{commande[0]?.emprunter.name}</h3>\n                  <h5>{commande[0]?.emprunter.contact}</h5>\n                </>\n              </div>\n            )}\n            {commande.length > 0 && (\n              <div className=\"d-flex justify-content-between\">\n                <h2 className=\"my-2\">\n                  Date : {displayDate(commande[0]?.dateCom)}\n                </h2>\n                <div className=\"d-flex justify-content-end\">\n                  <div className=\"bg-thead p-1 mb-1\">\n                    <strong>Recette:</strong>:\n                    <h3 className=\"text-lg\">\n                      {displayMoney(\n                        calculateTotal(\n                          commande[0]?.contenu.map((product) => {\n                            return isSpecialProductHandle(product) ? product.prixlitre * product.quantityParProduct : product.prixVente * product.quantityParProduct;\n          \n                          })\n                        ) +\n                          calculateTotal(\n                            commande[0]?.contenu.map((product) => {\n                              return product.prixParCC * product.qttByCC;\n                            })\n                          )\n                      )}\n                    </h3>\n                  </div>\n                </div>\n              </div>\n            )}\n            <table className=\"table table-bordered\">\n              <tr className=\"bg-thead\">\n                <td>Nom de l'article</td>\n                <td>Quantit</td>\n                <td>Sous total</td>\n              </tr>\n              {commande.length > 0 &&\n                commande[0]?.contenu.map((c) => (\n                  <tr>\n                    <td style={{ width: \"40%\" }}>{c.name}</td>\n                    <>\n                      {c.quantityParProduct != 0 && (\n                        <div className=\"d-flex align-items-center py-0\">\n                          <strong>{c.type}:</strong>\n                          {displayMoney(c.prixVente)} ({\"x\"}{\" \"}\n                          {c.quantityParProduct}) {\" = \"}\n                          {displayMoney(c.prixVente * c.quantityParProduct)}\n                        </div>\n                      )}\n                    </>\n\n                    {c.type == \"FLACON\" && (\n                      <>\n                        {c.qttByCC != 0 && (\n                          <div className=\"d-flex align-items-center  py-0\">\n                            <strong>ML:</strong> {displayMoney(c.prixParCC)}{\" \"}\n                            {\"x\"}{\" \"}\n                            {c.qttyspecificmirror != 0\n                              ? c.qttyspecificmirror + \" Dose\"\n                              : c.qttByCC + \" Ml\"}{\" \"}\n                            {\" = \"} {displayMoney(c.prixParCC * c.qttByCC)}\n                          </div>\n                        )}\n                      </>\n                    )}\n                    <td>\n                      {displayMoney(\n                        c.prixVente * c.quantityParProduct +\n                          c.prixParCC * c.qttByCC\n                      )}\n                    </td>\n                  </tr>\n                ))}\n            </table>\n          </div>{\" \"}\n        </div>{\" \"}\n      </Page>\n    </Content>\n  );\n}\n\nexport default withRouter(DetailMagasinVente);\n","import React, { useState } from \"react\";\nimport ContentHeader from \"../../../../@adminlte/adminlte/Content/ContentHeader\";\nimport ActiveLink from \"../../../../@adminlte/adminlte/Content/ActiveLink\";\nimport Page from \"../../../../@adminlte/adminlte/Content/Page\";\nimport Content from \"../../../../@adminlte/adminlte/Content/index\";\nimport { Row, Col } from \"react-bootstrap\";\nimport { Container } from \"react-bootstrap\";\nimport { ListGroup } from \"react-bootstrap\";\nimport { Card } from \"react-bootstrap\";\nimport { useParams } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { useSelector } from \"react-redux\";\nimport { action, getData } from \"../../../../utils/lib/call\";\nimport searchByNameAndFournisseur from \"../../../../filters/searchByNameAndFournisseur\";\nimport searchByName from \"../../../../filters/searchByName\";\nimport searchByFournisseur from \"../../../../filters/searchByFournisseur\";\nimport { GetAll, Data } from \"../../../../utils/context/data-context\";\nimport EditProductItemToMag from \"./edit-item\";\nimport EditToFromMag from \"./EditFromMag\";\n\nconst EditFromMagasin = () => {\n  const { id } = useParams();\n  const [regenerate, setRegenerate] = useState(false);\n  const dispatch = useDispatch();\n  const commandes = useSelector(getData(\"commandes\").value);\n  //const realcommande = useSelector(getData(\"commandesclone\").value);\n  const metacommandes = useSelector(getData(\"commandes\").meta);\n  const products = useSelector(getData(\"products\").value);\n  const metaproducts = useSelector(getData(\"products\").meta);\n  const [productData, setProductData] = useState([]);\n  React.useEffect(() => {\n    dispatch(action(\"commandes\").get(id));\n    // dispatch(action(\"commandesclone\").getWithPath(id, \"commandes\"));\n  }, [id]);\n  const [value, setValue] = useState(\"\");\n\n  const [state, setState] = useState([]);\n  React.useEffect(() => {\n    if (regenerate == true) {\n      dispatch(action(\"products\").fetch());\n      setRegenerate(false);\n    }\n    return () => {\n      setRegenerate(false);\n    };\n  }, [regenerate]);\n\n  const [identif, setIdentif] = useState();\n\n  React.useEffect(() => {\n    setProductData(searchByName(products, value));\n  }, [value]);\n\n\n  React.useEffect(() => {\n    if (!metacommandes.isFetching) {\n      setState(commandes[0]?.contenu);\n    }\n  }, [metacommandes]);\n  React.useEffect(() => {\n    if (!metaproducts.isFetching) {\n      setProductData(products);\n    }\n  }, [metaproducts]);\n  return (\n    <div>\n      <div className=\"bg-dark text-white p-3 d-flex justify-content-center align-items-center\">\n        <h1 className=\"\">CABINET VETERINAIRE AMBALAVAO</h1>\n      </div>\n      <Container className=\"mt-3\">\n        <Row>\n          \n          <Col xs={12}>\n            <EditToFromMag\n              state={state}\n              meta={metacommandes}\n              disabled={metaproducts.isFetching}\n              setState={setState}\n              products={products}\n              commandes={commandes[0]}\n            />\n          </Col>\n        </Row>\n      </Container>\n    </div>\n  );\n};\n\nexport default EditFromMagasin;\n","import React, { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, Redirect, useParams } from \"react-router-dom\";\nimport { useLocation } from \"react-router-dom\";\nimport NumberFormat from \"react-number-format\";\nimport { withRouter } from \"react-router-dom\";\nimport { action, getData } from \"../../../../utils/lib/call\";\nimport Page from \"../../../../@adminlte/adminlte/Content/Page\";\nimport ContentHeader from \"../../../../@adminlte/adminlte/Content/ContentHeader\";\nimport ActiveLink from \"../../../../@adminlte/adminlte/Content/ActiveLink\";\nimport Content from \"../../../../@adminlte/adminlte/Content/index\";\nimport { displayDate, displayMoney } from \"../../../../utils/functions\";\nimport { HISTORIQUEVENTEVENDEUR_ADMIN } from \"../../../../constants/routes\";\nimport { isSpecialProductHandle } from '../../../../store/functions/function';\n\nconst calculateTotal = (arr) => {\n  if (!arr || arr?.length === 0) return 0;\n  const total = arr.reduce((acc, val) => acc + val, 0);\n  return total;\n};\n\nfunction DetailMagasinVente(props) {\n  let history = useLocation();\n  const { id } = useParams();\n  const commande = useSelector(getData(\"commandes\").value);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(action(\"commandes\").get(id));\n  }, [id]);\n  return (\n    <Content>\n      <ContentHeader title=\"Dtail de vente du magasin\">\n        <ActiveLink title=\"Dtail de vente du magasin\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n        <div>\n          <div>\n            <p>{commande[0]?.type == \"credit-cva\" && <p>Credit</p>}</p>\n            {commande[0]?.type == \"credit-cva\" && (\n              <div className=\"border\">\n                <>\n                  <h3>{commande[0]?.emprunter.name}</h3>\n                  <h5>{commande[0]?.emprunter.contact}</h5>\n                </>\n              </div>\n            )}\n            {commande.length > 0 && (\n              <div className=\"d-flex justify-content-between\">\n                <h2 className=\"my-2\">\n                  Date : {displayDate(commande[0]?.dateCom)}\n                </h2>\n                <div className=\"d-flex justify-content-end\">\n                  <div className=\"bg-thead p-1 mb-1\">\n                    <strong>Recette:</strong>:\n                    <h3 className=\"text-lg\">\n                      {displayMoney(\n                        calculateTotal(\n                          commande[0]?.contenu.map((product) => {\n                            return isSpecialProductHandle(product) ? product.prixlitre * product.quantityParProduct : product.prixVente * product.quantityParProduct;\n          \n                          })\n                        ) +\n                          calculateTotal(\n                            commande[0]?.contenu.map((product) => {\n                              return product.prixParCC * product.qttByCC;\n                            })\n                          )\n                      )}\n                    </h3>\n                  </div>\n                </div>\n              </div>\n            )}\n            <table className=\"table table-bordered\">\n              <tr className=\"bg-thead\">\n                <td>Nom de l'article</td>\n                <td>Quantit</td>\n                <td>Sous total</td>\n              </tr>\n              {commande.length > 0 &&\n                commande[0]?.contenu.map((c) => (\n                  <tr>\n                    <td style={{ width: \"40%\" }}>{c.name}</td>\n                    <>\n                      {c.quantityParProduct != 0 && (\n                        <div className=\"d-flex align-items-center py-0\">\n                          <strong>{c.type}:</strong>\n                          {displayMoney(c.prixVente)} ({\"x\"}{\" \"}\n                          {c.quantityParProduct}) {\" = \"}\n                          {displayMoney(c.prixVente * c.quantityParProduct)}\n                        </div>\n                      )}\n                    </>\n\n                    {c.type == \"FLACON\" && (\n                      <>\n                        {c.qttByCC != 0 && (\n                          <div className=\"d-flex align-items-center  py-0\">\n                            <strong>ML:</strong> {displayMoney(c.prixParCC)}{\" \"}\n                            {\"x\"}{\" \"}\n                            {c.qttyspecificmirror != 0\n                              ? c.qttyspecificmirror + \" Dose\"\n                              : c.qttByCC + \" Ml\"}{\" \"}\n                            {\" = \"} {displayMoney(c.prixParCC * c.qttByCC)}\n                          </div>\n                        )}\n                      </>\n                    )}\n                    <td>\n                      {displayMoney(\n                        c.prixVente * c.quantityParProduct +\n                          c.prixParCC * c.qttByCC\n                      )}\n                    </td>\n                  </tr>\n                ))}\n            </table>\n          </div>{\" \"}\n        </div>{\" \"}\n      </Page>\n    </Content>\n  );\n}\n\nexport default withRouter(DetailMagasinVente);\n","import React, { useEffect } from \"react\";\nimport { Col, ListGroup, Row } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { blockItOnMinus } from \"./block-it\";\nconst EditProductItemToMag = ({\n  state,\n  setState,\n  product,\n}) => {\n  const dispatch = useDispatch();\n\n  const itemOnBasket = !!state?.find((item) => item?.id === product.id);\n  const removeProduct = (id) => {\n    setState(state.filter((t) => t.id !== id));\n  };\n  const handleAddToBasket = () => {\n    setState(\n      state.some((p) => p.id === product.id) ? state : [product, ...state]\n    );\n  };\n  \n  const isEmptyBrute = React.useCallback(() => {\n    if (product.quantityBruteCVA > 15 && product.quantityBruteCVA <= 20) {\n      return \"yellow\";\n    }\n    if (product.quantityBruteCVA > 10 && product.quantityBruteCVA <= 15) {\n      return \"#ffdb4c\";\n    }\n    if (product.quantityBruteCVA > 5 && product.quantityBruteCVA <= 10) {\n      return \" orange\";\n    }\n    if (product.quantityBruteCVA > 0 && product.quantityBruteCVA <= 5) {\n      return \"#c44e14b8\";\n    }\n    if (product.quantityBruteCVA == 0) {\n      return \"red\";\n    } else {\n      return \"green\";\n    }\n  }, [product]);\n  const isEmptyCC = React.useCallback(() => {\n    if (product.quantityCCCVA > 15 && product.quantityCCCVA <= 20) {\n      return \"yellow\";\n    }\n    if (product.quantityCCCVA > 10 && product.quantityCCCVA <= 15) {\n      return \"#ffdb4c\";\n    }\n    if (product.quantityCCCVA > 5 && product.quantityCCCVA <= 10) {\n      return \" orange\";\n    }\n    if (product.quantityCCCVA > 0 && product.quantityCCCVA <= 5) {\n      return \"#c44e14b8\";\n    }\n    if (product.quantityCCCVA == 0) {\n      return \"red\";\n    } else {\n      return \"green\";\n    }\n  }, [product]);\n  return (\n    <>\n      <ListGroup.Item\n        className=\"mb-2 mr-3\"\n        style={{\n          width: \"100%\",\n          border: \"1px solid gray\",\n          background: \"whitesmoke\",\n          borderLeft: `10px solid ${isEmptyBrute()}`,\n        }}\n      >\n        <div className=\" d-flex justify-content-between align-items-center\">\n          <div\n            className={` ${!product.id ? \"product-loading\" : \"\"}`}\n            style={{\n              boxShadow:\n                product && itemOnBasket\n                  ? \"15px 10px 15px rgba(0, 0, 0, .07)\"\n                  : \"none\",\n            }}\n          >\n            <div>\n              <div\n                style={{\n                  width: 10,\n                  height: 4,\n                  background: `${isEmptyCC()}`,\n                }}\n              ></div>\n              <div>{product.name} </div>\n              <div class=\"badge badge-primary\">\n                {product?.fournisseur?.name}\n              </div>\n              <br />\n              {/**    <strong>\n              {product.type}:{product.quantityBruteCVA}\n\n             \n            </strong>\n            <br />\n            {product.type == \"FLACON\" && (\n              <>\n                <strong>ML: {product.quantityCCCVA} ml</strong>\n                <br />\n                \n              </>           disabled={ \n              product.quantityBruteCVA === 0 && (product.quantityCCCVA == 0 || product.quantityCCCVA == null) && product.condval==0\n            }\n            )}\n            <strong>CondML: {product.condml}- Condval:{product.condval}</strong> */}\n            </div>{\" \"}\n          </div>\n          <div>\n            {product?.id && (\n              <>\n                {!itemOnBasket ? (\n                  <button\n                    disabled={\n                      product.quantityBruteCVA === 0 &&\n                      (product.quantityCCCVA == 0 ||\n                        product.quantityCCCVA == null)\n                    }\n                    className={\"btn btn-green btn-sm\"}\n                    onClick={handleAddToBasket}\n                  >\n                    Ajouter\n                  </button>\n                ) : (\n                  <button\n                    disabled={\n                      product.quantityBruteCVA === 0 &&\n                      (product.quantityCCCVA == 0 ||\n                        product.quantityCCCVA == null)\n                    }\n                    className={\"btn btn-danger btn-sm\"}\n                    onClick={() => {\n                        removeProduct(product?.id);\n                    }}\n                  >\n                    Retirer\n                  </button>\n                )}\n              </>\n            )}\n          </div>\n        </div>\n      </ListGroup.Item>\n    </>\n  );\n};\n\nexport default EditProductItemToMag;\n","import React, { useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  NumberInput,\n  NumberInputField,\n  NumberInputStepper,\n  NumberIncrementStepper,\n  NumberDecrementStepper,\n} from \"@chakra-ui/react\";\nconst EditFromMagasinItemControl = ({\n  product,\n  index,\n  state,\n  setState,\n  setRealQtt,\n  realQtt,\n  maxRealQtt,\n}) => {\n  //const dispatch = useDispatch();\n\n  const updateObjectValue = (index, key, value) => {\n    let temp_state = [...state];\n    temp_state[index] = { ...temp_state[index], [key]: value };\n    setState(temp_state);\n  };\n  const onAddQtyBrute = (value) => {\n    updateObjectValue(index, \"quantityParProduct\", value);\n  };\n  return (\n    <div className=\"basket-item-control\">\n      <NumberInput\n        inputMode={\"numeric\"}\n        w={28}\n        bg={\"whitesmoke\"}\n        onChange={(value) => {\n          if (value == \"\") {\n            setRealQtt(product?.quantityParProduct);\n            onAddQtyBrute(product?.quantityParProduct);\n          } else {\n            setRealQtt(Number(value));\n            onAddQtyBrute(Number(value));\n          }\n        }}\n        min={0}\n        value={realQtt}\n        defaultValue={product?.quantityParProduct}\n      >\n        <NumberInputField />\n        <NumberInputStepper>\n          <NumberIncrementStepper />\n          <NumberDecrementStepper />\n        </NumberInputStepper>\n      </NumberInput>\n    </div>\n  );\n};\nexport default EditFromMagasinItemControl;\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  addQtyFromMagasinDoseItem,\n  minusQtyFromMagasinDoseItem,\n} from \"../../../../store/frommagasin/actions/itanewMagasin\";\nimport {\n  NumberInput,\n  NumberInputField,\n  NumberInputStepper,\n  NumberIncrementStepper,\n  NumberDecrementStepper,\n} from \"@chakra-ui/react\";\nexport const ItaNewInputDose = ({\n  product,\n  setRealQttCC,\n  realQttCC,\n  maxRealQttCC\n}) => {\n  const dispatch = useDispatch();\n  const onAddQtyPortion = (value) => {\n    dispatch(addQtyFromMagasinDoseItem(product.id, value));\n  };\n  return (\n    <div className=\"basket-item-control\">\n      <NumberInput\n        inputMode={\"decimal\"}\n        w={28}\n        step={1}\n        bg={\"whitesmoke\"}\n        onChange={(value) => {\n          onAddQtyPortion(value);\n          setRealQttCC(value);\n        }}\n        min={0}\n        value={realQttCC}\n        defaultValue={product?.qttByCC}\n        max={maxRealQttCC}\n      >\n        <NumberInputField />\n        <NumberInputStepper>\n          <NumberIncrementStepper />\n          <NumberDecrementStepper />\n        </NumberInputStepper>\n      </NumberInput>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  addQtyFromMagasinPhytoCondItem,\n  minusQtyFromMagasinPhytoCondItem,\n} from \"../../../../store/frommagasin/actions/itanewMagasin\";\nimport {\n  NumberInput,\n  NumberInputField,\n  NumberInputStepper,\n  NumberIncrementStepper,\n  NumberDecrementStepper,\n} from \"@chakra-ui/react\";\n\nexport const PhytoConditionnementInput = ({\n  product,\n  setRealQttCC,\n  realQttCC,\n  maxRealQttCC,\n}) => {\n  const dispatch = useDispatch();\n  const onAddQtyPortion = (value) => {\n    dispatch(addQtyFromMagasinPhytoCondItem(product.id, value));\n  };\n  return (\n    <div className=\"basket-item-control\">\n      <NumberInput\n        inputMode={\"decimal\"}\n        w={28}\n        bg={\"whitesmoke\"}\n        onChange={(value) => {\n          if (value == \"\") {\n            onAddQtyPortion(0);\n            setRealQttCC(0);\n          } else {\n            onAddQtyPortion(Number(value));\n            setRealQttCC(Number(value));\n          }\n        }}\n        min={0}\n        value={realQttCC}\n        defaultValue={product?.qttByCC}\n        max={maxRealQttCC}\n      >\n        <NumberInputField />\n        <NumberInputStepper>\n          <NumberIncrementStepper />\n          <NumberDecrementStepper />\n        </NumberInputStepper>\n      </NumberInput>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  addQtyFromMagasinSovaxItem,\n  minusQtyFromMagasinSovaxItem,\n} from \"../../../../store/frommagasin/actions/itanewMagasin\";\nimport {\n  NumberInput,\n  NumberInputField,\n  NumberInputStepper,\n  NumberIncrementStepper,\n  NumberDecrementStepper,\n} from \"@chakra-ui/react\";\nexport const SovaxInputDose = ({\n  product,\n  setRealQttCC,\n  maxRealQttCC,\n  realQttCC,\n}) => {\n  const dispatch = useDispatch();\n  const onAddQtyPortion = (value) => {\n    dispatch(addQtyFromMagasinSovaxItem(product.id, value));\n  };\n\n  return (\n    <div className=\"basket-item-control\">\n      <NumberInput\n        inputMode={\"numeric\"}\n        w={28}\n        step={1}\n        bg={\"whitesmoke\"}\n        onChange={(value) => {\n          onAddQtyPortion(Number(value));\n          setRealQttCC(Number(value));\n        }}\n        min={0}\n        value={realQttCC}\n        defaultValue={product?.qttByCC}\n        max={maxRealQttCC}\n      >\n        <NumberInputField />\n        <NumberInputStepper>\n          <NumberIncrementStepper />\n          <NumberDecrementStepper />\n        </NumberInputStepper>\n      </NumberInput>\n    </div>\n  );\n};\n","import React, { useEffect, useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  addQtyFromMagasinPortionItem,\n  minusQtyFromMagasinPortionItem,\n} from \"../../../../store/frommagasin/actions/frommagasin\";\nimport {\n  NumberInput,\n  NumberInputField,\n  NumberInputStepper,\n  NumberIncrementStepper,\n  NumberDecrementStepper,\n} from \"@chakra-ui/react\";\n\nconst EditFromMagasinItemPartial = ({\n  product,\n  setRealQttCC,\n  maxRealQttCC,\n  index,\n  setState,\n  state,\n  realQttCC,\n}) => {\n  // const dispatch = useDispatch();\n\n  const updateObjectValue = (index, key, value) => {\n    let temp_state = [...state];\n    temp_state[index] = { ...temp_state[index], [key]: value };\n    setState(temp_state);\n  };\n  const onAddQtyByCC = (value) => {\n    updateObjectValue(index, \"qttByCC\", value);\n  };\n  return (\n    <div className=\"basket-item-control\">\n      <NumberInput\n        inputMode={\"numeric\"}\n        w={28}\n        bg={\"whitesmoke\"}\n        onChange={(value) => {\n          if (value == \"\") {\n            onAddQtyByCC(product?.qttByCC);\n            setRealQttCC(product?.qttByCC);\n          } else {\n            setRealQttCC(value * 1);\n            onAddQtyByCC(value * 1); \n          }\n        }}\n        min={0}\n        value={realQttCC}\n      >\n        <NumberInputField />\n        <NumberInputStepper>\n          <NumberIncrementStepper />\n          <NumberDecrementStepper />\n        </NumberInputStepper>\n      </NumberInput>\n      {/*<button\n        className=\"btn btn-dark btn-sm\"\n        data-testid=\"from-magasin-item-partial-plus\"\n        disabled={\n          Number(product.qttByCC) == Number(product.doseDefault - 1) ||\n          (product.quantityParProduct == product.quantityBruteCVA &&\n            product.quantityCCCVA == 0)\n        }\n        onClick={onAddQtyPortion}\n        type=\"button\"\n      >\n        +\n      </button>\n      <span className=\"mx-1\" data-testid=\"counter-partial\">{product.qttByCC}</span>\n      <button\n        className=\"btn btn-dark btn-sm\"\n        data-testid=\"from-magasin-item-partial-minus\"\n        disabled={product.qttByCC == 0}\n        onClick={onMinusQtyPortiion}\n        type=\"button\"\n      >\n        -\n      </button>*/}\n    </div>\n  );\n};\nexport default EditFromMagasinItemPartial;\n","import React, { useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { setQtyLitreFromMagasinItem } from \"../../../../store/frommagasin/actions/frommagasin\";\n\n\nimport {\n  NumberInput,\n  NumberInputField,\n  NumberInputStepper,\n  NumberIncrementStepper,\n  NumberDecrementStepper,\n} from \"@chakra-ui/react\";\n\nconst EditFromMagasinItemLitre = ({\n  product,\n  setRealQttLitre,\n  setState,\n  state,\n  realQttLitre,\n  index,\n}) => {\n  const updateObjectValue = (index, key, value) => {\n    let temp_state = [...state];\n    temp_state[index] = { ...temp_state[index], [key]: value };\n    setState(temp_state);\n  };\n  const onAddQtyBrute = (value) => {\n    updateObjectValue(index, \"qttbylitre\", value);\n  };\n\n  return (\n    <div className=\"basket-item-control\">\n      <NumberInput\n        inputMode={\"numeric\"}\n        w={28}\n        step={1}\n        bg={\"whitesmoke\"}\n        min={0}\n        value={realQttLitre}\n        defaultValue={product?.qttbylitre}\n        onChange={(value) => {\n          if (value == \"\") {\n            setRealQttLitre(product?.qttbylitre);\n            onAddQtyBrute(product?.qttbylitre);\n          } else {\n            setRealQttLitre(Number(value));\n            onAddQtyBrute(Number(value));\n          }\n        }}\n      >\n        <NumberInputField />\n        <NumberInputStepper>\n          <NumberIncrementStepper />\n          <NumberDecrementStepper />\n        </NumberInputStepper>\n      </NumberInput>\n    </div>\n  );\n};\nexport default EditFromMagasinItemLitre;\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  addQtyFromMagasinPhytoCondItem,\n  minusQtyFromMagasinPhytoCondItem,\n} from \"../../../../store/frommagasin/actions/itanewMagasin\";\nimport {\n  NumberInput,\n  NumberInputField,\n  NumberInputStepper,\n  NumberIncrementStepper,\n  NumberDecrementStepper,\n} from \"@chakra-ui/react\";\nexport const EditPhytoConditionnementInput = ({\n  product,\n  state,\n  setState,\n  realQttCC,\n  setRealQttCC,\n  maxRealQttCC,\n  index,\n}) => {\n  const dispatch = useDispatch();\n  const updateObjectValue = (index, key, value) => {\n    let temp_state = [...state];\n    temp_state[index] = { ...temp_state[index], [key]: value };\n    setState(temp_state);\n  };\n  const onAddQtyPortion = (value) => {\n    updateObjectValue(index, \"qttByCC\", value);\n  };\n  \n  return (\n    <div className=\"basket-item-control\">\n      <NumberInput\n        inputMode={\"decimal\"}\n        w={28}\n        bg={\"whitesmoke\"}\n        onChange={(value) => {\n          if (value == \"\") {\n            onAddQtyPortion(0);\n            setRealQttCC(0);\n          } else {\n            setRealQttCC(Number(value));\n            onAddQtyPortion(Number(value));\n          }\n        }}\n        min={0}\n        value={realQttCC}\n        defaultValue={product?.qttByCC}\n      >\n        <NumberInputField />\n        <NumberInputStepper>\n          <NumberIncrementStepper />\n          <NumberDecrementStepper />\n        </NumberInputStepper>\n      </NumberInput>\n    </div>\n  );\n};\n","export const isSpecialProductHandle = (product) => {\n  return !!(\n    product.condml != 0 &&\n    product.condsize != 0 &&\n    product.qttccpvente != 0 &&\n    product.prixqttccvente != 0\n  );\n};\n\nexport const buy = (product) => {\n  let isSpecific = false;\n  if (isSpecialProductHandle(product)) {\n    isSpecific = true;\n    let qtt = product.quantityParProduct;\n    let qttcc = product.qttByCC;\n    let qttlitre = product.qttbylitre;\n    let normalQtt = product.condval;\n    let normalQttCC = product.quantityCCCVA;\n    let condsize = product.condsize;\n    let dose = product.doseDefault;\n    let condml = product.condml;\n    if (qttlitre > 0 && qtt == 0 && qttcc == 0) {\n      product.quantityBruteCVA -= qttlitre;\n      //tester le 12 avril 2022 : marche tres bien\n    }\n    if (qttlitre == 0 && qtt > 0 && qttcc == 0) {\n      //tester le 12 avril 2022 : marche tres bien\n      let moins = 0,\n        reste = 0;\n      if (Number(qtt) >= Number(condsize)) {\n        moins = Math.floor(Number(qtt) / Number(condsize));\n        reste = Number(qtt) - Number(condsize) * moins;\n\n        if (normalQtt - reste < 0) {\n          //tester le 12 avril 2022 : marche tres bien\n          let diff = Number(reste) - Number(normalQtt);\n          product.condval = Number(condsize) - Number(diff);\n          moins += 1;\n        } else {\n          product.condval = normalQtt - reste;\n        }\n      } else {\n        //tester le 12 avril 2022 : marche tres bien\n        if (product.condval - Number(qtt) < 0) {\n          let diff = Number(qtt) - Number(product.condval);\n          let mireste = Number(condsize) - Number(diff);\n          product.condval = mireste;\n          moins += 1;\n        } else {\n          product.condval -= Number(qtt);\n        }\n      }\n      product.quantityBruteCVA -= moins;\n    }\n    if (qttlitre == 0 && qtt == 0 && qttcc > 0) {\n      let moins = 0,\n        moinslitre = 0,\n        restelitre = 0,\n        reste = 0;\n      if (Number(qttcc) >= Number(condml)) {\n        moins = Math.floor(Number(qttcc) / Number(condml));\n        reste = Number(qttcc) - Number(condml) * moins;\n        if (normalQttCC - reste < 0) {\n          let diff = Number(reste) - Number(normalQttCC);\n          product.quantityCCCVA = Number(condml) - Number(diff);\n          moins += 1;\n        } else {\n          product.quantityCCCVA = normalQttCC - reste;\n        }\n      } else {\n        //tester le 12 avril 2022 : marche tres bien\n        if (Number(qttcc) >= product.quantityCCCVA) {\n          moins += 1;\n          let diff = Number(qttcc) - product.quantityCCCVA;\n          product.quantityCCCVA = Number(condml) - diff;\n        } else {\n          product.quantityCCCVA -= Number(qttcc);\n        }\n      }\n      if (Number(moins) >= Number(condsize)) {\n        moinslitre = Math.floor(Number(moins) / Number(condsize));\n        restelitre = Number(moins) - Number(condsize) * restelitre;\n        if (normalQtt - restelitre < 0) {\n          //tester le 12 avril 2022 : marche tres bien\n          let diff = Number(restelitre) - Number(normalQtt);\n          product.condval = Number(condsize) - Number(diff);\n          moinslitre += 1;\n        } else {\n          product.condval = normalQtt - restelitre;\n        }\n      } else {\n        //tester le 12 avril 2022 : marche tres bien\n        if (product.condval - Number(moins) < 0) {\n          let diff = Number(moins) - Number(product.condval);\n          let mireste = Number(condsize) - Number(diff);\n          product.condval = mireste;\n          moinslitre += 1;\n        } else {\n          product.condval -= Number(moins);\n        }\n      }\n      product.quantityBruteCVA -= moinslitre;\n    }\n\n    if (qttlitre == 0 && qtt > 0 && qttcc > 0) {\n      let moins = 0,\n        moinslitre = 0,\n        restelitre = 0,\n        reste = 0;\n      if (Number(qttcc) >= Number(condml)) {\n        moins = Math.floor(Number(qttcc) / Number(condml));\n        reste = Number(qttcc) - Number(condml) * moins;\n        if (normalQttCC - reste < 0) {\n          let diff = Number(reste) - Number(normalQttCC);\n          product.quantityCCCVA = Number(condml) - Number(diff);\n          moins += 1;\n        } else {\n          // ok\n          product.quantityCCCVA = Number(normalQttCC) - reste;\n        }\n      } else {\n        // ok\n        if (Number(qttcc) >= product.quantityCCCVA) {\n          moins += 1;\n          let diff = Number(qttcc) - product.quantityCCCVA;\n          product.quantityCCCVA = Number(condml) - diff;\n        } else {\n          product.quantityCCCVA -= Number(qttcc);\n        }\n      }\n      let mm = Number(qtt) + moins;\n      if (mm >= Number(condsize)) {\n        moinslitre = Math.floor(mm / Number(condsize));\n        restelitre = mm - Number(condsize) * moins;\n        if (normalQtt - restelitre < 0) {\n          let diff = Number(restelitre) - Number(normalQtt);\n          product.condval = Number(condsize) - Number(diff);\n          moinslitre += 1;\n        } else {\n          product.condval = normalQtt - restelitre;\n        }\n      } else {\n        // a teste avant\n        if (product.condval - Number(mm) < 0) {\n          let diffic = Number(mm) - Number(product.condval);\n          let mireste = Number(condsize) - Number(diffic);\n          product.condval = mireste;\n          moinslitre += 1;\n        } else {\n          product.condval -= Number(mm);\n        }\n      }\n      product.quantityBruteCVA -= moinslitre;\n    }\n\n    if (qttlitre > 0 && qtt > 0 && qttcc == 0) {\n      let moinslitre = 0,\n        restelitre = 0;\n\n      if (Number(qtt) >= Number(condsize)) {\n        moinslitre = Math.floor(Number(qtt) / Number(condsize));\n        restelitre = Number(qtt) - Number(condsize) * moinslitre;\n        if (normalQtt - restelitre < 0) {\n          let diff = Number(restelitre) - Number(normalQtt);\n          product.condval = Number(condsize) - Number(diff);\n          moinslitre += 1;\n        } else {\n          product.condval = normalQtt - restelitre;\n        }\n      } else {\n        if (product.condval - Number(qtt) < 0) {\n          let diffic = Number(qtt) - Number(product.condval);\n          let mireste = Number(condsize) - Number(diffic);\n          product.condval = mireste;\n          moinslitre += 1;\n        } else {\n          product.condval -= Number(qtt);\n        }\n      }\n      product.quantityBruteCVA -= moinslitre + qttlitre;\n    }\n\n    if (qttlitre > 0 && qtt == 0 && qttcc > 0) {\n      let moins = 0,\n        moinslitre = 0,\n        restelitre = 0,\n        reste = 0;\n      if (Number(qttcc) >= Number(condml)) {\n        moins = Math.floor(Number(qttcc) / Number(condml));\n        reste = Number(qttcc) - Number(condml) * moins;\n        if (normalQttCC - reste < 0) {\n          let diffcc = Number(reste) - Number(normalQttCC);\n          product.quantityCCCVA = Number(condml) - Number(diffcc);\n          moins += 1;\n        } else {\n          product.quantityCCCVA = normalQttCC - reste;\n        }\n      } else {\n        // ok\n        if (Number(qttcc) >= product.quantityCCCVA) {\n          moins += 1;\n          let diff = Number(qttcc) - product.quantityCCCVA;\n          product.quantityCCCVA = Number(condml) - diff;\n        } else {\n          product.quantityCCCVA -= Number(qttcc);\n        }\n      }\n\n      if (Number(moins) >= Number(condsize)) {\n        moinslitre = Math.floor(Number(moins) / Number(condsize));\n        restelitre = Number(moins) - Number(condsize) * moinslitre;\n        if (normalQtt - restelitre < 0) {\n          let diff = Number(restelitre) - Number(normalQtt);\n          product.condval = Number(condsize) - Number(diff);\n          moinslitre += 1;\n        } else {\n          product.condval = normalQtt - reste;\n        }\n      } else {\n        //ok\n        if (product.condval - Number(moins) < 0) {\n          let diff = Number(moins) - Number(product.condval);\n          let mireste = Number(condsize) - Number(diff);\n          product.condval = mireste;\n          moinslitre += 1;\n        } else {\n          product.condval -= Number(moins);\n        }\n      }\n      product.quantityBruteCVA -= moinslitre + qttlitre;\n    }\n    if (qttlitre > 0 && qtt > 0 && qttcc > 0) {\n      let moins = 0,\n        moinslitre = 0,\n        restelitre = 0,\n        reste = 0;\n      if (Number(qttcc) >= Number(condml)) {\n        moins = Math.floor(Number(qttcc) / Number(condml));\n        reste = Number(qttcc) - Number(condml) * moins;\n        if (normalQttCC - reste < 0) {\n          let diffcc = Number(reste) - Number(normalQttCC);\n          product.quantityCCCVA = Number(condml) - Number(diffcc);\n          moins += 1;\n        } else {\n          product.quantityCCCVA = normalQttCC - reste;\n        }\n      } else {\n        if (Number(qttcc) >= product.quantityCCCVA) {\n          moins += 1;\n          let diff = Number(qttcc) - product.quantityCCCVA;\n          product.quantityCCCVA = Number(condml) - diff;\n        } else {\n          product.quantityCCCVA -= Number(qttcc);\n        }\n      }\n      let mns = Number(moins) + Number(qtt);\n      if (mns >= Number(condsize)) {\n        moinslitre = Math.floor(mns / Number(condsize));\n        restelitre = mns - Number(condsize) * moinslitre;\n        if (normalQtt - restelitre < 0) {\n          let diff = Number(restelitre) - Number(normalQtt);\n          product.condval = Number(condsize) - Number(diff);\n          moinslitre += 1;\n        } else {\n          product.condval = normalQtt - reste;\n        }\n      } else {\n        if (product.condval - Number(mns) < 0) {\n          let diff = Number(mns) - Number(product.condval);\n          let mireste = Number(condsize) - Number(diff);\n          product.condval = mireste;\n          moinslitre += 1;\n        } else {\n          product.condval -= Number(mns);\n        }\n      }\n      product.quantityBruteCVA -= moinslitre + qttlitre;\n    }\n  } else {\n    let qtt = product.quantityParProduct;\n    let qttcc = product.qttByCC;\n    let normalQtt = product.quantityBruteCVA;\n    let normalQttCC = product.quantityCCCVA;\n    let dose = product.doseDefault;\n    isSpecific = false;\n    let isValid = true;\n    if (qtt == 0 && qttcc > 0) {\n      //tester le 12 avril 2022 : marche tres bien\n      let moins = 0,\n        reste = 0;\n      if (Number(qttcc) >= Number(dose)) {\n        moins = Math.floor(Number(qttcc) / Number(dose));\n        reste = Number(qttcc) - Number(dose) * moins;\n        if (normalQttCC - reste < 0) {\n          let diff = Number(reste) - Number(normalQttCC);\n          product.quantityCCCVA = Number(dose) - Number(diff);\n          moins += 1;\n        } else {\n          product.quantityCCCVA = Number(normalQttCC) - reste;\n        }\n      } else {\n        // a tester avant la saisie\n        if (product.quantityCCCVA - Number(qttcc) < 0) {\n          let diff = Number(qttcc) - Number(product.quantityCCCVA);\n          product.quantityCCCVA = Number(dose) - Number(diff);\n          moins += 1;\n        } else {\n          product.quantityCCCVA -= Number(qttcc);\n        }\n      }\n      console.log(moins);\n      product.quantityBruteCVA -= moins;\n    }\n    if (qtt > 0 && qttcc == 0) {\n      //tester le 12 avril 2022 : marche tres bien\n      product.quantityBruteCVA -= qtt;\n    }\n    if (qtt > 0 && qttcc > 0) {\n      //tester le 12 avril 2022 : marche tres bien\n      let moins = 0,\n        reste = 0;\n      if (Number(qttcc) >= Number(dose)) {\n        moins = Math.floor(Number(qttcc) / Number(dose));\n        reste = Number(qttcc) - Number(dose) * moins;\n        if (normalQttCC - reste < 0) {\n          let diff = Number(reste) - Number(normalQttCC);\n          product.quantityCCCVA = Number(dose) - Number(diff);\n          moins += 1;\n        } else {\n          product.quantityCCCVA = Number(normalQttCC) - reste;\n        }\n      } else {\n        if (product.quantityCCCVA - Number(qttcc) < 0) {\n          let diff = Number(qttcc) - Number(product.quantityCCCVA);\n          product.quantityCCCVA = Number(dose) - Number(diff);\n          moins += 1;\n        } else {\n          product.quantityCCCVA -= Number(qttcc);\n        }\n      }\n      let x = moins + Number(qtt);\n      product.quantityBruteCVA -= x;\n    }\n  }\n};\n","import React, { useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  displayMoney,\n  checkHasExistText,\n  displayDate,\n} from \"../../../../utils/functions\";\nimport EditFromDepotItemControl from \"./EditFromMagasinItemControl\";\nimport { ItaNewInputDose } from \"./ItaNewInputDose\";\nimport { PhytoConditionnementInput } from \"./PhytoConditionnementInput\";\nimport { SovaxInputDose } from \"./SovaxInputDose\";\nimport EditFromMagasinItemPartial from \"./EditFromMagasinItemPartial\";\nimport EditFromMagasinItemLitre from \"./EditFromMagasinItemLitre\";\nimport { EditPhytoConditionnementInput } from \"./EditPhytoConditionnementInput\";\nimport { blockItOnEdit, blockItis } from \"./block-it\";\nimport { action, getData } from \"../../../../utils/lib/call\";\nimport { isSpecialProductHandle } from './buy-it';\nconst getCorrection = (product) => {\n  if (product.correctiontype == 1) {\n    return {\n      text:\n        \"plus (+\" + product.correction + \") et (\" + product.correctionml + \")\",\n      textStyle: \"text text-info\",\n      date: displayDate(product.datedecorrection),\n      style: \"badge badge-info\",\n    };\n  } else if (product.correctiontype == 2) {\n    return {\n      text:\n        \"moins (-\" +\n        product.correction +\n        \")  et (\" +\n        product.correctionml +\n        \")\",\n      textStyle: \"text text-warning\",\n      date: displayDate(product.datedecorrection),\n      style: \"badge badge-warning\",\n    };\n  } else if (product.correctiontype == 3) {\n    return {\n      text:\n        \"ajouter au commande ( + \" +\n        product.correction +\n        \")  et (\" +\n        product.correctionml +\n        \")\",\n      textStyle: \"text text-success\",\n      date: displayDate(product.datedecorrection),\n      style: \"badge badge-success\",\n    };\n  } else if (product.correctiontype == 4) {\n    return {\n      text:\n        \"supprimer du commande ( - \" +\n        product.correction +\n        \")  et (\" +\n        product.correctionml +\n        \")\",\n      textStyle: \"text text-danger\",\n      date: displayDate(product.datedecorrection),\n      style: \"badge badge-danger\",\n    };\n  }\n};\nconst EditItem = ({ state, index, setState, product, products }) => {\n  const dispatch = useDispatch();\n  const [realQttCC, setRealQttCC] = useState(product?.qttByCC);\n  const [realQtt, setRealQtt] = useState(product?.quantityParProduct);\n  const [realQttLitre, setRealQttLitre] = useState(product?.qttbylitre);\n  const [maxRealQtt, setMaxRealQtt] = useState(2000);\n  const [maxRealQttCC, setMaxRealQttCC] = useState(2000);\n  const [maxRealQttByLitre, setMaxRealQttByLitre] = useState(2000);\n  const x = useSelector(getData(\"commandes\").value);\n\n  React.useEffect(() => {\n    if (products != undefined && state != undefined && x.length > 0) {\n      let realpr = state?.find((s) => product?.id);\n      const { normalQtt, normalQttCC, normalQttLitre, isSpecific, isValid } =\n        blockItis(products, x[0], realpr);\n\n      if (isValid == false) {\n        alert(\"stock insuffisant :(\");\n        if (!isSpecific) {\n          setRealQtt(normalQtt);\n          setMaxRealQtt(normalQtt);\n          setRealQttCC(normalQttCC);\n          setMaxRealQttCC(normalQttCC);\n        } else {\n          setRealQttLitre(normalQttLitre);\n          setMaxRealQttByLitre(normalQttLitre);\n          setRealQtt(normalQtt);\n          setMaxRealQtt(normalQtt);\n          setRealQttCC(normalQttCC);\n          setMaxRealQttCC(normalQttCC);\n        }\n      }\n      console.log(realQttLitre);\n    }\n  }, [realQtt, realQttCC, realQttLitre, products]);\n  return (\n    <div>\n      <div className=\"d-flex justify-content-between align-items-center border mt-3  mb-2 p-2\">\n        <div style={{ width: \"45%\" }}>\n          {product.correction > 0 && (\n            <div>\n              <div className={getCorrection(product).style}>\n                <p>{getCorrection(product).text}</p>\n              </div>\n              <p className={getCorrection(product).textStyle}>\n                Date de modification:{getCorrection(product).date}\n              </p>\n            </div>\n          )}\n          <p className=\"text-blue\">{product.name}</p>\n          {isSpecialProductHandle(product) ? (\n            <>\n              <p className=\"text-lowercase\">\n                <strong>\n                  {product.qttbylitre != 0 && (\n                    <span style={{ marginRight: \"30px\" }}>\n                      {displayMoney(product.prixVente) +\n                        \" x \" +\n                        product.qttbylitre +\n                        \" Litre(s)\"}\n                    </span>\n                  )}\n                </strong>\n              </p>\n              <p className=\"text-lowercase\">\n                <strong>\n                  {product.quantityParProduct != 0 && (\n                    <span style={{ marginRight: \"30px\" }}>\n                      {displayMoney(\n                        product.prixqttccvente * product.qttccpvente\n                      ) +\n                        \" x \" +\n                        product.quantityParProduct +\n                        \" \" +\n                        product.type}\n                    </span>\n                  )}\n                </strong>\n              </p>\n            </>\n          ) : (\n            <p className=\"text-lowercase\">\n              <strong>\n                {product.quantityParProduct != 0 && (\n                  <span style={{ marginRight: \"30px\" }}>\n                    {displayMoney(product.prixVente) +\n                      \" x \" +\n                      product.quantityParProduct +\n                      \" \" +\n                      product.type}\n                  </span>\n                )}\n              </strong>\n            </p>\n          )}\n\n          <p className=\"text-lowercase\">\n            <strong>\n              {product.qttByCC != 0 && (\n                <span style={{ marginRight: \"30px\" }}>\n                  {displayMoney(product.prixParCC) +\n                    \" x \" +\n                    product.qttByCC +\n                    \" ML\"}\n                </span>\n              )}\n            </strong>\n          </p>\n        </div>\n        {product.condml !== 0 && product.qttccpvente !== 0 && (\n          <div className=\"text-inline text-center mr-3\">\n            <h5 className=\"mb-1 text-uppercase\">Litre</h5>\n            <EditFromMagasinItemLitre\n              product={product}\n              setState={setState}\n              state={state}\n              index={index}\n              realQttLitre={realQttLitre}\n              setRealQttLitre={setRealQttLitre}\n              maxRealQttByLitre={maxRealQttByLitre}\n            />{\" \"}\n          </div>\n        )}\n        <div className=\"d-flex  justify-content-between align-items-center \">\n          <div className=\"text-center mr-2\">\n            <h5 className=\"mb-1\">{product.type}</h5>\n            <EditFromDepotItemControl\n              index={index}\n              state={state}\n              setState={setState}\n              product={product}\n              setRealQtt={setRealQtt}\n              realQtt={realQtt}\n              maxRealQtt={maxRealQtt}\n            />\n          </div>\n          {product.type === \"FLACON\" && (\n            <div className=\"text-inline text-center\">\n              <h5 className=\"mb-1\">\n                {product.categoryId == 3 ? \"DOSE\" : \"ML\"}\n              </h5>\n              {checkHasExistText(product.name, \"ita new\") && (\n                <ItaNewInputDose\n                  product={product}\n                  index={index}\n                  state={state}\n                  setState={setState}\n                  setRealQttCC={setRealQttCC}\n                  realQttCC={realQttCC}\n                  maxRealQttCC={maxRealQttCC}\n                />\n              )}\n              {checkHasExistText(product.name, \"sovax\") && (\n                <SovaxInputDose\n                  index={index}\n                  state={state}\n                  setState={setState}\n                  realQttCC={realQttCC}\n                  setRealQttCC={setRealQttCC}\n                  product={product}\n                  maxRealQttCC={maxRealQttCC}\n                />\n              )}\n              {product.condml == 0 &&\n                product.qttccpvente == 0 &&\n                !checkHasExistText(product.name, \"sovax\") &&\n                !checkHasExistText(product.name, \"ita new\") && (\n                  <EditFromMagasinItemPartial\n                    index={index}\n                    realQttCC={realQttCC}\n                    setRealQttCC={setRealQttCC}\n                    state={state}\n                    setState={setState}\n                    product={product}\n                    maxRealQttCC={maxRealQttCC}\n                  />\n                )}\n              {product.condml !== 0 && product.qttccpvente !== 0 && (\n                <EditPhytoConditionnementInput\n                  product={product}\n                  state={state}\n                  realQttCC={realQttCC}\n                  setRealQttCC={setRealQttCC}\n                  maxRealQttCC={maxRealQttCC}\n                  setState={setState}\n                  index={index}\n                />\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default EditItem;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Card } from \"react-bootstrap\";\nimport { action, getData } from \"../../../../utils/lib/call\";\nimport {\n  displayMoney,\n  checkHasExistText,\n  displayDate,\n} from \"../../../../utils/functions\";\n\nimport { useHistory } from \"react-router-dom\";\nimport {\n  handleMinusProductDepot,\n  handlePhtyoSpecificDepot,\n  handleSoldQuantityCCDepot,\n} from \"../../../../store/functions/function-depot\";\nimport { clearFromDepot } from \"../../../../store/fromdepot/actions/fromdepot\";\nimport EditFromDepotItem from \"./EditItem\";\nimport { HISTORIQUEVENTEVENDEUR_ADMIN } from \"../../../../constants/routes\";\nimport { Link } from \"react-router-dom\";\nimport { isSpecialProductHandle, locked } from \"./block-it\";\nconst calculateTotal = (arr) => {\n  if (!arr || arr?.length === 0) return 0;\n  const total = arr.reduce((acc, val) => acc + val, 0);\n  return total;\n};\nfunction copy(object) {\n  var output, value, key;\n  output = Array.isArray(object) ? [] : {};\n  for (key in object) {\n    value = object[key];\n    output[key] = typeof value === \"object\" ? copy(value) : value;\n  }\n  return output;\n}\nconst EditToFromMag = ({\n  state,\n  meta,\n  setState,\n  disabled,\n  products,\n  commandes,\n}) => {\n  const [type, setType] = useState(\"direct\");\n  const [idFournisseur, setIdFournisseur] = useState(1);\n  const [vaccinateurId, setVaccinateurId] = useState(null);\n  const [emprunter, setEmprunter] = useState(null);\n  const history = useHistory();\n  const [realContent, setRealContent] = useState([]);\n\n  const { fromdepots } = useSelector((state) => ({\n    fromdepots: state.fromdepots,\n  }));\n  useEffect(() => {\n    setRealContent(commandes?.contenu);\n  }, [commandes]);\n  const dispatch = useDispatch();\n  const emprunters = useSelector(getData(\"emprunters\").value);\n  //const meta = useSelector(getData(\"commandes\").meta);\n  const date = new Date();\n  const [dateCom, setDateCom] = useState(date);\n  useEffect(() => {\n    //  dispatch(action(\"commandes\").fetch());\n    dispatch(action(\"emprunters\").fetch());\n  }, []);\n\n  const getContenu = () => {\n    // console.log(missing);\n    const missing = copy(realContent).filter(\n      (e) => !state.find((a) => e.id === a.id)\n    );\n    const added = copy(realContent).filter(\n      (e) => !state.find((a) => e.id === a.id)\n    );\n\n    const exist = copy(realContent).map((element) =>\n      state.find((p) => p.id === element.id)\n    );\n    return {\n      exist: exist.filter((e) => e != null),\n      added,\n      missing,\n    };\n  };\n\n  const onCheckOut = () => {\n    const { exist, added, missing } = getContenu();\n\n    if (!locked(state)) {\n      dispatch(\n        action(\"commandes\").updateTransaction(\n          {\n            id: commandes?.id,\n            contenu: state,\n            commande: state,\n            type: \"vente-cva\",\n            sorte: \"sortie\",\n            sorte: \"sortie\",\n            status: true,\n            dateCom: dateCom != null ? dateCom : date,\n            exist: exist,\n            added: added,\n            missing: missing,\n          },\n          \"update-from-magasin\"\n        )\n      );\n      //history.push(HISTORIQUEVENTEVENDEUR);\n    } else {\n      alert(\"modification non conforme,veuillez verifier\");\n    }\n  };\n\n  const onClearBasket = () => {\n    state?.forEach((element) => {\n      element.quantityParProduct = 0;\n      element.qttByCCDepot = 0;\n    });\n\n    dispatch(clearFromDepot());\n  };\n  return (\n    <>\n      <Card>\n        <Card.Header className=\" bg-dark py-3 text-white d-flex justify-content-between align-items-center\">\n          <div style={{ width: \"60%\" }}>BON DE SORTIE</div>\n        </Card.Header>\n        <div className=\"commande-vente\">\n          <Card.Body\n            style={{ padding: 12, marginTop: 3, marginRight: 2, marginLeft: 2 }}\n          >\n            <div className=\"d-flex justify-content-end\">\n              <Link\n                className=\"btn btn-primary mb-2 btn-sm\"\n                to={HISTORIQUEVENTEVENDEUR_ADMIN}\n              >\n                Voir l'historique de vente\n              </Link>\n            </div>\n            <div\n              style={{\n                overflowY: \"auto\",\n                height: \"350px\",\n                maxHeight: \"350px\",\n                overflowX: \"hidden\",\n              }}\n            >\n              <div class=\"form-group\">\n                <label>Date de sortie : {displayDate(dateCom)}</label>\n                <div>\n                  <input\n                    type=\"date\"\n                    disabled={disabled}\n                    onChange={(e) => setDateCom(e.target.value)}\n                    value={dateCom}\n                    className=\"form-control\"\n                  />\n                </div>\n              </div>\n              {type === \"credit\" && (\n                <>\n                  <label>Crediteur:</label>\n                  <select\n                    disabled={disabled}\n                    className=\"form-control\"\n                    onChange={(e) => {\n                      setEmprunter(e.target.value);\n                    }}\n                  >\n                    <option value=\"\"></option>\n                    {emprunters.map((v) => (\n                      <option value={v.id}>{v.name}</option>\n                    ))}\n                  </select>\n                </>\n              )}\n              {state?.length <= 0 && (\n                <div className=\"alert alert-success \">\n                  Aucune enregistrement trouv\n                </div>\n              )}\n              {state\n                ?.sort(\n                  (low, high) => high.quantityBruteCVA - low.quantityBruteCVA\n                )\n                .map((product, i) => (\n                  <EditFromDepotItem\n                    key={`${product?.id}_${i}`}\n                    product={product}\n                    realcommande={commandes[0]?.find((e) => e.id == product.id)}\n                    state={state}\n                    index={i}\n                    products={products?.find((e) => e.id == product.id)}\n                    setState={setState}\n                    basket={fromdepots}\n                    dispatch={dispatch}\n                  />\n                ))}\n            </div>\n          </Card.Body>\n\n          {state?.length > 0 && (\n            <Card.Footer className=\"d-flex align-items-center justify-content-between\">\n              <div style={{ width: \"40%\" }}>\n                <h2 className=\"p-2 text-uppercase bg-primary\">\n                  <strong data-test-id=\"total-price-orders\">\n                    Total:\n                    {displayMoney(\n                      calculateTotal(\n                        state?.map((product) => {\n                          return isSpecialProductHandle(product)\n                            ? product.prixqttccvente *\n                                product.quantityParProduct *\n                                product.qttccpvente +\n                                product.prixlitre * product.qttbylitre\n                            : product.prixVente * product.quantityParProduct;\n                        })\n                      ) +\n                        calculateTotal(\n                          state?.map((product) => {\n                            return product.prixParCC * product.qttByCC;\n                          })\n                        )\n                    )}\n                  </strong>\n                </h2>\n              </div>\n              <div style={{ width: \"60%\" }}>\n                {state?.length > 0 && (\n                  <div className=\"d-flex text-right align-items-end justify-content-end\">\n                    <button\n                      className=\"btn btn-green btn-sm mr-2\"\n                      disabled={state?.length === 0}\n                      onClick={onCheckOut}\n                      type=\"button\"\n                    >\n                      Valider l'operation\n                    </button>\n                    <button\n                      className=\"btn btn-danger btn-sm\"\n                      onClick={() => history.goBack()}\n                      type=\"button\"\n                    >\n                      <span>Annuler</span>\n                    </button>\n                  </div>\n                )}\n              </div>\n            </Card.Footer>\n          )}\n        </div>\n      </Card>\n    </>\n  );\n};\n\nexport default EditToFromMag;\n","import React, { useState } from \"react\";\nimport ContentHeader from \"../../../../@adminlte/adminlte/Content/ContentHeader\";\nimport ActiveLink from \"../../../../@adminlte/adminlte/Content/ActiveLink\";\nimport Page from \"../../../../@adminlte/adminlte/Content/Page\";\nimport Content from \"../../../../@adminlte/adminlte/Content/index\";\nimport { Row, Col } from \"react-bootstrap\";\nimport { Container } from \"react-bootstrap\";\nimport { ListGroup } from \"react-bootstrap\";\nimport { Card } from \"react-bootstrap\";\nimport { useParams } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { useSelector } from \"react-redux\";\nimport { action, getData } from \"../../../../utils/lib/call\";\nimport searchByNameAndFournisseur from \"../../../../filters/searchByNameAndFournisseur\";\nimport searchByName from \"../../../../filters/searchByName\";\nimport searchByFournisseur from \"../../../../filters/searchByFournisseur\";\nimport { GetAll, Data } from \"../../../../utils/context/data-context\";\nimport EditProductItemToMag from \"./edit-item\";\nimport EditToFromMag from \"./EditFromMag\";\n\nconst EditFromMagasin = () => {\n  const { id } = useParams();\n  const [regenerate, setRegenerate] = useState(false);\n  const dispatch = useDispatch();\n  const commandes = useSelector(getData(\"commandes\").value);\n  //const realcommande = useSelector(getData(\"commandesclone\").value);\n  const metacommandes = useSelector(getData(\"commandes\").meta);\n  const products = useSelector(getData(\"products\").value);\n  const metaproducts = useSelector(getData(\"products\").meta);\n  const [productData, setProductData] = useState([]);\n  React.useEffect(() => {\n    dispatch(action(\"commandes\").get(id));\n    // dispatch(action(\"commandesclone\").getWithPath(id, \"commandes\"));\n  }, [id]);\n  const [value, setValue] = useState(\"\");\n\n  const [state, setState] = useState([]);\n  React.useEffect(() => {\n    if (regenerate == true) {\n      dispatch(action(\"products\").fetch());\n      setRegenerate(false);\n    }\n    return () => {\n      setRegenerate(false);\n    };\n  }, [regenerate]);\n\n  const [identif, setIdentif] = useState();\n\n  React.useEffect(() => {\n    setProductData(searchByName(products, value));\n  }, [value]);\n\n  React.useEffect(() => {\n    dispatch(action(\"products\").fetch());\n  }, []);\n\n  React.useEffect(() => {\n    if (!metacommandes.isFetching) {\n      setState(commandes[0]?.contenu);\n    }\n  }, [metacommandes]);\n  React.useEffect(() => {\n    if (!metaproducts.isFetching) {\n      setProductData(products);\n    }\n  }, [metaproducts]);\n  return (\n    <div>\n        <Content>\n        <ContentHeader title=\"Editer une vente du magasin\">\n          <ActiveLink title=\"Editer une vente du magasin\"></ActiveLink>\n        </ContentHeader>\n        <Page>\n        <Row>\n          <Col xs={6}>\n            <ListGroup>\n              <Card>\n                <Card.Header className=\"d-flex justify-content-between align-items-center bg-dark text-white\">\n                  Produits\n                </Card.Header>\n                <Card.Body>\n                  <input\n                    type=\"text\"\n                    onChange={(e) => {\n                      setValue(e.target.value);\n                    }}\n                    placeholder=\"Rechercher un produit\"\n                    className=\"form-control mb-2\"\n                  />\n                  <div\n                    style={{\n                      overflowY: \"auto\",\n                      height: \"350px\",\n                      maxHeight: \"350px\",\n                      overflowX: \"hidden\",\n                    }}\n                  >\n                    <>\n                      {productData.map((p) => (\n                        <EditProductItemToMag\n                          state={state}\n                          realproduct={products}\n                          setState={setState}\n                          product={p}\n                        />\n                      ))}\n                      {productData.length == 0 &&\n                        \"Aucune enregistrement trouv\"}\n                    </>{\" \"}\n                  </div>\n                </Card.Body>\n              </Card>\n            </ListGroup>\n          </Col>\n          <Col xs={6}>\n            <EditToFromMag\n              state={state}\n              meta={metacommandes}\n              disabled={metaproducts.isFetching}\n              setState={setState}\n              products={products}\n              commandes={commandes[0]}\n            />\n          </Col>\n        </Row>\n      </Page>\n    </Content></div>\n  );\n};\n\nexport default EditFromMagasin;\n","import React, { useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { displayDate } from '../../../../utils/functions';\nimport {\n  NumberInput,\n  NumberInputField,\n  NumberInputStepper,\n  NumberIncrementStepper,\n  NumberDecrementStepper,\n  Text,\n} from \"@chakra-ui/react\";\nconst EditToMagItemControl = ({\n  product,\n  index,\n  state,\n  setState,\n  setRealQttCC,\n  setRealQtt,\n  stock,\n  realcommand,\n  realQtt,\n  realQttCC,\n}) => {\n  const updateObjectValue = (index, key, value) => {\n    let temp_state = [...state];\n    temp_state[index] = { ...temp_state[index], [key]: value };\n    console.log(temp_state);\n    setState(temp_state);\n  };\n  const onAddQtyBrute = (value) => {\n    console.log(value);\n    updateObjectValue(index, \"quantityParProduct\", value);\n  };\n\n  const isEnough = () => {\n    return stock?.quantityBruteCVA < realcommand?.quantityParProduct;\n  };\n  return (\n    <div className=\"basket-item-control\">\n      {isEnough() ? (\n        <>\n        <div>\n\n          <NumberInput\n            inputMode={\"numeric\"}\n            w={28}\n            step={1}\n            disabled\n            bg={\"whitesmoke\"}\n            onChange={(value) => {\n              onAddQtyBrute(Number(value));\n              setRealQtt(Number(value));\n              if (\n                stock?.quantityBruteCVA - realcommand?.quantityParProduct <\n                0\n              ) {\n                alert(\"Le stock ne satisfait pas votre commande\");\n              }\n            }}\n            defaultValue={realcommand?.quantityParProduct}\n          >\n            <NumberInputField />\n            <NumberInputStepper>\n              <NumberIncrementStepper />\n              <NumberDecrementStepper />\n            </NumberInputStepper>\n          </NumberInput>\n          </div>\n          {realcommand?.correctiontype == 4 ? (\n            <div>\n              <Text textTransform=\"uppercase\" className=\"text text-danger\">\n                CE PRODUIT A ETE RETIR\n              </Text>\n            </div>\n          ) : (\n            <div>\n              <Text textTransform=\"uppercase\">Restituable</Text>\n              <NumberInput\n                inputMode={\"numeric\"}\n                w={28}\n                step={1}\n                bg={\"whitesmoke\"}\n                min={0}\n                onChange={(value) => {\n                  onAddQtyBrute(Number(value));\n                  setRealQtt(Number(value));\n                }}\n                defaultValue={stock?.quantityBruteCVA}\n                max={stock?.quantityBrute}\n              >\n                <NumberInputField />\n                <NumberInputStepper>\n                  <NumberIncrementStepper />\n                  <NumberDecrementStepper />\n                </NumberInputStepper>\n              </NumberInput>\n            </div>\n          )}\n        </>\n      ) : (\n        <>\n          <NumberInput\n            inputMode={\"numeric\"}\n            w={28}\n            step={1}\n            bg={\"whitesmoke\"}\n            onChange={(value) => {\n              onAddQtyBrute(Number(value));\n              setRealQtt(Number(value));\n              if (\n                stock?.quantityBruteCVA - realcommand?.quantityParProduct <\n                0\n              ) {\n                alert(\"Le stock ne satisfait pas votre commande\");\n              }\n            }}\n            min={0}\n            defaultValue={product?.quantityParProduct}\n            max={stock?.quantityBrute}\n          >\n            <NumberInputField />\n            <NumberInputStepper>\n              <NumberIncrementStepper />\n              <NumberDecrementStepper />\n            </NumberInputStepper>\n          </NumberInput>\n        </>\n      )}\n    </div>\n  );\n};\nexport default EditToMagItemControl;\n","import React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { displayMoney, displayDate } from \"../../../../utils/functions\";\nimport EditToMagItemControl from \"./EditToMagItemControl\";\n\nconst getCorrection = (product) => {\n  if (product.correctiontype == 1) {\n    return {\n      text: \"plus (+\" + product.correction + \")\",\n      textStyle:'text text-info',\n      date: displayDate(product.datedecorrection),\n      style: \"badge badge-info\",\n    };\n  } else if (product.correctiontype == 2) {\n    return {\n      text: \"moins (-\" + product.correction + \")\",\n      textStyle:'text text-warning',\n      date: displayDate(product.datedecorrection),\n      style: \"badge badge-warning\",\n    };\n  } else if (product.correctiontype == 3) {\n    return {\n      text: \"ajouter au commande ( + \" + product.correction + \")\",\n      textStyle:'text text-success',\n      date: displayDate(product.datedecorrection),\n      style: \"badge badge-success\",\n    };\n  } else if (product.correctiontype == 4) {\n    return {\n      text: \"supprimer du commande ( - \" + product.correction + \")\",\n      textStyle:'text text-danger',\n      date: displayDate(product.datedecorrection),\n      style: \"badge badge-danger\",\n    };\n  }\n};\nconst EditItem = ({ state, index, setState, cloneCommandes,product, realstock,realcommand }) => {\n  const [realQttCC, setRealQttCC] = useState(null);\n  const [realQtt, setRealQtt] = useState(null);\n  const stock = realstock.find((r) => r.id == product.id);\n  const clc = cloneCommandes?.contenu.find(p => p.id == product.id);\n  return (\n    <div\n      className=\" mb-2 p-2\"\n      style={{\n        opacity: stock?.quantityBruteCVA < clc?.quantityParProduct ? 0.8 : 1,\n        border: stock?.quantityBruteCVA < clc?.quantityParProduct ? \"1px solid red\" : '1px solid gray'\n      }}\n    >\n\n      {stock?.quantityBruteCVA < clc?.quantityParProduct && (\n        <div className=\"text-danger text-sm\">\n          ** Des operations ont te dja faite apres la sortie vers magasin et vous ne pourrez pas retourner tous les produits au dept**\n        </div>\n      )}\n      <div className=\"d-flex justify-content-between align-items-center\">\n        <div style={{ width: \"45%\" }}>\n        {product.correction > 0 && (\n            <div>\n              <div className={getCorrection(product).style}>\n                <p>{getCorrection(product).text}</p>\n              </div>\n              <p className={getCorrection(product).textStyle}>Date de modification:{getCorrection(product).date}</p>\n            </div>\n          )}\n          <p className=\"text-blue\">{product.name}</p>\n\n          <span className=\"text-lowercase\">\n            <strong>\n              {product.quantityParProduct != 0 &&\n                displayMoney(product.prixVente)}\n              {product.quantityParProduct == 0 && product.prixParCC != 0 && (\n                <>\n                  {product.prixqttccvente != null && product.prixqttccvente != 0\n                    ? displayMoney(product.prixqttccvente)\n                    : displayMoney(product.prixParCC)}\n                </>\n              )}\n              {product.quantityParProduct != 0 &&\n                \" x \" + product.quantityParProduct + \" \" + product.type}{\" \"}\n              {product.prixqttccvente == null &&\n                product.prixqttccvente == 0 && (\n                  <>\n                    {product.qttByCC != 0 &&\n                      (product.quantityParProduct == 0 ? \" x \" : \"+\") +\n                        product.qttByCC +\n                        \"ML\"}\n                  </>\n                )}\n            </strong>\n          </span>\n        </div>\n        <div className=\"text-inline text-center\">\n          <h5 className=\"mb-1\">{product.type}</h5>\n          <EditToMagItemControl\n            index={index}\n            state={state}\n            setState={setState}\n            product={product}\n            realcommand={clc}\n            setRealQttCC={setRealQttCC}\n            setRealQtt={setRealQtt}\n            realQtt={realQtt}\n            stock={stock}\n            realQttCC={realQttCC}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default EditItem;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Card } from \"react-bootstrap\";\nimport _ from \"lodash\";\nimport { action, getData } from \"../../../../utils/lib/call\";\nimport { displayMoney, checkHasExistText,displayDate } from \"../../../../utils/functions\";\nimport { useHistory } from \"react-router-dom\";\nimport {\n  handleMinusProductDepot,\n  handlePhtyoSpecificDepot,\n  handleSoldQuantityCCDepot,\n} from \"../../../../store/functions/function-depot\";\nimport { clearFromDepot } from \"../../../../store/fromdepot/actions/fromdepot\";\nimport EditFromDepotItem from \"./EditItem\";\nimport { HISTORIQUESORTIECVA } from \"../../../../constants/routes\";\nimport EditItem from \"./EditItem\";\nconst calculateTotal = (arr) => {\n  if (!arr || arr?.length === 0) return 0;\n  const total = arr.reduce((acc, val) => acc + val, 0);\n  return total;\n};\nfunction copy(object) {\n  var output, value, key;\n  output = Array.isArray(object) ? [] : {};\n  for (key in object) {\n    value = object[key];\n    output[key] = typeof value === \"object\" ? copy(value) : value;\n  }\n  return output;\n}\nconst EditTo = ({\n  state,\n  meta,\n  setState,\n  realstock,\n  disabled,\n  cloneCommandes,\n  commandes,\n}) => {\n  const [type, setType] = useState(\"direct\");\n  const [idFournisseur, setIdFournisseur] = useState(1);\n  const [vaccinateurId, setVaccinateurId] = useState(null);\n  const [emprunter, setEmprunter] = useState(null);\n  const history = useHistory();\n  const [realContent, setRealContent] = useState([]);\n\n  const { tomagasins } = useSelector((state) => ({\n    tomagasins: state.tomagasins,\n  }));\n  useEffect(() => {\n    setRealContent(commandes?.contenu);\n  }, [commandes]);\n  const dispatch = useDispatch();\n  const emprunters = useSelector(getData(\"emprunters\").value);\n  //const meta = useSelector(getData(\"commandes\").meta);\n  //const commandes = useSelector(getData(\"commandes\").value);\n  const date = new Date();\n  const [dateCom, setDateCom] = useState(date);\n  useEffect(() => {\n    //  dispatch(action(\"commandes\").fetch());\n    //dispatch(action(\"emprunters\").fetch());\n  }, []);\n  function inArray(value, values) {\n    for (var i = 0; i < values.length; i++) {\n      if (value === values[i]) return true;\n    }\n    return false;\n  }\n\n  function isInArray(value, array) {\n    return array.find((a) => value.id === a.id);\n  }\n  const getContenu = () => {\n    // console.log(missing);\n    const missing = copy(realContent).filter(\n      (e) => !state.find((a) => e.id === a.id)\n    );\n    /* missing.forEach((element) => {\n\n      action(\"products\").update({\n        id: element.id,\n        quantityBrute: element.quantityBrute - element.quantityParProduct,\n        quantityParProduct: 0,\n      });\n    });*/\n    const added = state.filter(\n      (e) => !copy(realContent).find((a) => e.id === a.id)\n    );\n\n    const exist = copy(realContent).map((element) =>\n      state.find((p) => p.id === element.id)\n    );\n\n    /*  if (commandeLast != null || commandeLast != undefined) {\n        // if(element.quantityParProduct){}\n        let qtt = 0;\n        if (\n          element.quantityParProduct * 1 >\n          commandeLast.quantityParProduct * 1\n        ) {\n          qtt =\n            element.quantityParProduct * 1 -\n            commandeLast.quantityParProduct * 1;\n          element.quantityBrute = commandeLast.quantityBrute - qtt;\n          element.quantityBruteCVA += qtt;\n        }\n        if (\n          commandeLast.quantityParProduct * 1 >\n          element.quantityParProduct * 1\n        ) {\n          qtt =\n            commandeLast.quantityParProduct * 1 -\n            element.quantityParProduct * 1;\n          element.quantityBrute = commandeLast.quantityBrute + qtt;\n          element.quantityBruteCVA -= qtt;\n        }\n        element.quantityParProduct = 0;\n        return element;\n      }*/\n    return {\n      exist: exist.filter((e) => e != null),\n      added,\n      missing,\n    };\n  };\n\n  const onCheckOut = () => {\n    const { exist, added, missing } = getContenu();\n    dispatch(\n      action(\"commandes\").updateTransaction(\n        {\n          id: commandes?.id,\n          contenu: state,\n          type: \"cva\",\n          sorte: \"sortie\",\n          status: true,\n          dateCom: dateCom != null ? dateCom : date,\n          exist: exist,\n          added: added,\n          missing: missing,\n        },\n        \"update-to-magasin\"\n      )\n    );\n    history.push(HISTORIQUESORTIECVA);\n  };\n\n  /* const onCheckOut = () => {\n    const { exist, added, missing } = getContenu();\n    console.log(\"state\", state.length);\n    console.log(\"realcont\", realContent.length);\n    console.log(\"exist\", JSON.stringify(exist));\n    console.log(\"added\", JSON.stringify(added));\n    console.log(\"missing\", JSON.stringify(missing));\n     tomagasins.forEach((element) => {\n      delete element.busy;\n      delete element.pendingCreate;\n      handleMinusProductDepot(element);\n      if (element.condmldepot != 0 && element.qttccpventedepot != 0) {\n        handlePhtyoSpecificDepot(element);\n      } else {\n        handleSoldQuantityCCDepot(element);\n      }\n      console.log(element);\n    });*/\n  //console.log(tomagasins);\n  /*  dispatch(\n      action(\"commandes\").create({\n        id: Math.floor(Date.now() / 1000),\n        contenu: state?.state,\n        type: \"vente-depot\",\n        sorte: \"sortie\",\n        qtteBrute: 1,\n        qtteCC: 1,\n        vaccinateurId: vaccinateurId,\n        status: type === \"direct\" ? true : false,\n        emprunterId: emprunter,\n        dateCom: dateCom != null ? dateCom : date,\n      })\n    );*/\n  /*if (!meta.error) {\n      state?.state?.forEach((element) => {\n        let idElement = element.id;\n        element.quantityParProduct = 0;\n        element.qttByCCDepot = 0;\n        element.qttyspecificmirrordepot = 0;\n        element.id = idElement;\n        dispatch(action(\"products\").update(element));\n      });\n    }\n    //dispatch(clearFromDepot());\n    //   history.push(SORTIE);\n  };*/\n\n  const onClearBasket = () => {\n    state?.forEach((element) => {\n      element.quantityParProduct = 0;\n      element.qttByCC = 0;\n    });\n\n    dispatch(clearFromDepot());\n  };\n  return (\n    <>\n      <Card>\n        <Card.Header className=\" bg-dark py-3 text-white d-flex justify-content-between align-items-center\">\n          <div style={{ width: \"60%\" }}>BON DE SORTIE</div>\n        </Card.Header>\n        <div className=\"commande-vente\">\n          <Card.Body\n            style={{ padding: 12, marginTop: 3, marginRight: 2, marginLeft: 2 }}\n          >\n            <div\n              style={{\n                overflowY: \"auto\",\n                height: \"350px\",\n                maxHeight: \"350px\",\n                overflowX: \"hidden\",\n              }}\n            >\n              <div className=\"alert alert-warning\">\n                <span className=\"text-uppercase\">Attention !!!</span> , la\n                modification d'un bon de sortie entraine aussi la mis  jour de\n                stock du produit\n              </div>\n              <div class=\"form-group\">\n                <label>Date de sortie : {displayDate(dateCom)}</label>\n                <div>\n                  <input\n                    disabled={disabled}\n                    type=\"date\"\n                    onChange={(e) => setDateCom(e.target.value)}\n                    value={dateCom}\n                    className=\"form-control\"\n                  />\n                </div>\n              </div>\n              {type === \"credit\" && (\n                <>\n                  <label>Crediteur:</label>\n                  <select\n                    disabled={disabled}\n                    className=\"form-control\"\n                    onChange={(e) => {\n                      setEmprunter(e.target.value);\n                    }}\n                  >\n                    <option value=\"\"></option>\n                    {emprunters.map((v) => (\n                      <option value={v.id}>{v.name}</option>\n                    ))}\n                  </select>\n                </>\n              )}\n              {state?.length <= 0 && (\n                <div className=\"alert alert-success \">\n                  Aucune enregistrement trouv\n                </div>\n              )}\n              {state?.map((product, i) => (\n                <>\n                  <EditItem\n                    key={`${product?.id}_${i}`}\n                    product={_.cloneDeep(product)}\n                    state={state}\n                    index={i}\n                    realcommand={product}\n                    cloneCommandes={cloneCommandes}\n                    realstock={realstock}\n                    setState={setState}\n                    basket={tomagasins}\n                    dispatch={dispatch}\n                  />\n                </>\n              ))}\n            </div>\n          </Card.Body>\n\n          {state?.length > 0 && (\n            <Card.Footer className=\"d-flex align-items-center justify-content-between\">\n              <div style={{ width: \"30%\" }}>\n                <h2 className=\"p-2 text-uppercase bg-primary\">\n                  <strong data-test-id=\"total-price-orders\">\n                    Total:\n                    {displayMoney(\n                      calculateTotal(\n                        state?.map((product) => {\n                          return product.prixVente * product.quantityParProduct;\n                        })\n                      ) +\n                        calculateTotal(\n                          state?.state?.map((product) => {\n                            return product.prixParCC * product.qttByCC;\n                          })\n                        )\n                    )}\n                  </strong>\n                </h2>\n              </div>\n              <div style={{ width: \"70%\" }}>\n                {state?.length > 0 && (\n                  <div className=\"d-flex text-right align-items-end justify-content-end\">\n                    <button\n                      disabled={disabled}\n                      className=\"btn btn-green btn-sm mr-2\"\n                      disabled={state?.length === 0}\n                      onClick={onCheckOut}\n                      type=\"button\"\n                    >\n                      Valider l'operation\n                    </button>\n                    <button\n                      disabled={disabled}\n                      className=\"btn btn-danger btn-sm\"\n                      onClick={onClearBasket}\n                      type=\"button\"\n                    >\n                      <span>Annuler</span>\n                    </button>\n                  </div>\n                )}\n              </div>\n            </Card.Footer>\n          )}\n        </div>\n      </Card>\n    </>\n  );\n};\n\nexport default EditTo;\n","import React, { useEffect } from \"react\";\nimport { Col, ListGroup, Row } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nconst EditProductItemToMag = ({ state, setState, product, cloneCommandes }) => {\n  const dispatch = useDispatch();\n\n  const itemOnBasket = !!state?.find((item) => item?.id === product.id);\n  const clc = cloneCommandes?.contenu.find((p) => p.id == product.id);\n  const canMinus = product?.quantityBruteCVA < clc?.quantityParProduct;\n  const removeProduct = (id) => {\n    setState(state.filter((t) => t.id !== id));\n  };\n  const handleAddToBasket = () => {\n    setState(\n      state.some((p) => p.id === product.id) ? state : [product, ...state]\n    );\n  };\n\n  return (\n    <>\n      <ListGroup.Item\n        className=\"mb-2 mr-3\"\n        style={{ border: \"1px solid gray\" }}\n      >\n        <div className=\" d-flex justify-content-between align-items-center\">\n\n          <div\n            className={` ${!product.id ? \"product-loading\" : \"\"}`}\n            style={{\n              boxShadow:\n                product && itemOnBasket\n                  ? \"15px 10px 15px rgba(0, 0, 0, .07)\"\n                  : \"none\",\n            }}\n          >\n            <div>\n            {clc?.correctiontype == 4 && (\n                <div className=\"badge badge-danger\">\n                  <h2 textTransform=\"uppercase\">\n                    CE PRODUIT A ETE RETIR\n                  </h2>\n                </div>\n              )}\n              <div>\n              {product.name}{\" \"}</div>\n              <div class=\"badge badge-primary\">\n                {product?.fournisseur?.name}\n              </div>\n              <br />\n              {/**    <strong>\n              {product.type}:{product.quantityBruteCVA}\n\n             \n            </strong>\n            <br />\n            {product.type == \"FLACON\" && (\n              <>\n                <strong>ML: {product.quantityCCCVA} ml</strong>\n                <br />\n                \n              </>           disabled={ \n              product.quantityBruteCVA === 0 && (product.quantityCCCVA == 0 || product.quantityCCCVA == null) && product.condval==0\n            }\n            )}\n            <strong>CondML: {product.condml}- Condval:{product.condval}</strong> */}\n            </div>{\" \"}\n            <div>\n              {product?.id && (\n                <>\n               \n                  {!itemOnBasket ? (\n                    <button\n\n                      className={\"btn btn-green btn-sm\"}\n                      onClick={handleAddToBasket}\n                    >\n                      Ajouter\n                    </button>\n                  ) : (\n                    <button\n                    disabled={canMinus}\n                      className={\"btn btn-danger btn-sm\"}\n                      onClick={() => removeProduct(product?.id)}\n                    >\n                      Retirer\n                    </button>\n                  )}\n                </>\n              )}\n            </div>\n          </div>\n        </div>\n      </ListGroup.Item>\n    </>\n  );\n};\n\nexport default EditProductItemToMag;\n","import React, { useState } from \"react\";\nimport ContentHeader from \"../../../../@adminlte/adminlte/Content/ContentHeader\";\nimport ActiveLink from \"../../../../@adminlte/adminlte/Content/ActiveLink\";\nimport Page from \"../../../../@adminlte/adminlte/Content/Page\";\nimport Content from \"../../../../@adminlte/adminlte/Content/index\";\nimport { Row, Col } from \"react-bootstrap\";\nimport { Container } from \"react-bootstrap\";\nimport { ListGroup } from \"react-bootstrap\";\nimport { Card } from \"react-bootstrap\";\nimport { useParams, useHistory, Link } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { useSelector } from \"react-redux\";\nimport { action, getData } from \"../../../../utils/lib/call\";\nimport searchByNameAndFournisseur from \"../../../../filters/searchByNameAndFournisseur\";\nimport searchByName from \"../../../../filters/searchByName\";\nimport searchByFournisseur from \"../../../../filters/searchByFournisseur\";\nimport { GetAll, Data } from \"../../../../utils/context/data-context\";\nimport EditTo from \"./EditTo\";\nimport EditProductItemToMag from \"./edit-item\";\nimport { HISTORIQUEVENTEVENDEUR } from \"../../../../constants/routes\";\n\nconst EditToMagasin = () => {\n  const { id } = useParams();\n  const history = useHistory();\n  const [regenerate, setRegenerate] = useState(false);\n  const dispatch = useDispatch();\n  const commandes = useSelector(getData(\"commandes\").value);\n  const commandesclone = useSelector(getData(\"commandesclone\").value);\n  const metacommandes = useSelector(getData(\"commandes\").meta);\n  const products = useSelector(getData(\"products\").value);\n  const metaproducts = useSelector(getData(\"products\").meta);\n  const [productData, setProductData] = useState([]);\n  React.useEffect(() => {\n    dispatch(action(\"commandesclone\").get(id));\n    dispatch(action(\"commandes\").get(id));\n  }, [id]);\n  const [value, setValue] = useState(\"\");\n\n  const [state, setState] = useState([]);\n  React.useEffect(() => {\n    if (regenerate == true) {\n      dispatch(action(\"products\").fetch());\n      setRegenerate(false);\n    }\n    return () => {\n      setRegenerate(false);\n    };\n  }, [regenerate]);\n\n  const [identif, setIdentif] = useState();\n\n  React.useEffect(() => {\n    if (identif != null) {\n      setProductData(searchByNameAndFournisseur(products, value, identif));\n    } else {\n      setProductData(searchByName(products, value));\n    }\n  }, [value]);\n  React.useEffect(() => {\n    if (value != \"\") {\n      setProductData(searchByNameAndFournisseur(products, value, identif));\n    } else {\n      setProductData(searchByFournisseur(products, identif));\n    }\n  }, [identif]);\n\n  React.useEffect(() => {\n    dispatch(action(\"products\").fetch());\n  }, []);\n  React.useEffect(() => {\n    //recuperer la premiere ligne dans le tableau fournisseur\n    // dispatch(fetchProductsByFournisseur(identif));\n  }, [identif]);\n  React.useEffect(() => {\n    if (!metacommandes.isFetching) {\n      setState(commandes[0]?.contenu);\n    }\n  }, [metacommandes]);\n  React.useEffect(() => {\n    if (!metaproducts.isFetching) {\n      setProductData(products);\n    }\n  }, [metaproducts]);\n  const setValueOf = (val) => {\n    setState(val);\n  };\n  return (\n    <Content>\n      <ContentHeader title=\"Edition d'un sortie vers magasin\">\n        <ActiveLink title=\"Edition d'un sortie vers magasin\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n        <Row className=\"py-2\">\n          <Col xs={6}>\n            <ListGroup>\n              <Card>\n                <Card.Header className=\"d-flex justify-content-between align-items-center bg-dark text-white\">\n                  Produits\n                </Card.Header>\n                <Card.Body>\n                  <input\n                    type=\"text\"\n                    onChange={(e) => {\n                      setValue(e.target.value);\n                    }}\n                    placeholder=\"Rechercher un produit\"\n                    className=\"form-control mb-2\"\n                  />\n                  <GetAll model=\"fournisseurs\">\n                    <Data>\n                      {({ data, meta }) => (\n                        <div className=\"my-2\">\n                          <select\n                            className=\"form-control\"\n                            selected={identif == 2}\n                            onChange={(e) => {\n                              setIdentif(e.target.value);\n                            }}\n                          >\n                            <option value=\"\">\n                              Selectionner un fournisseur\n                            </option>\n                            {data.map((d) => (\n                              <option value={d.id}>{d.name}</option>\n                            ))}\n                          </select>\n                        </div>\n                      )}\n                    </Data>\n                  </GetAll>\n                  <div\n                    style={{\n                      overflowY: \"auto\",\n                      height: \"350px\",\n                      maxHeight: \"350px\",\n                      overflowX: \"hidden\",\n                    }}\n                  >\n                    <>\n                      {productData.map((p) => (\n                        <EditProductItemToMag\n                          state={state}\n                          setState={setState}\n                          cloneCommandes={commandesclone[0]}\n                          product={p}\n                        />\n                      ))}\n                      {productData.length == 0 &&\n                        \"Aucune enregistrement trouv\"}\n                    </>{\" \"}\n                  </div>\n                </Card.Body>\n              </Card>\n            </ListGroup>\n          </Col>\n          <Col xs={6}>\n            <EditTo\n              disabled={metaproducts.isFetching}\n              state={state}\n              meta={metacommandes}\n              cloneCommandes={commandesclone[0]}\n              setState={setState}\n              realstock={products}\n              commandes={commandes[0]}\n            />\n          </Col>\n        </Row>\n      </Page>\n    </Content>\n  );\n};\n\nexport default EditToMagasin;\n","import {\n  addFromMagasin as dispatchAddFromMagasin,\n  removeFromMagasin,\n} from \"../store/frommagasin/actions/frommagasin\";\nconst useFromMagasin = (frommagasin, dispatch) => {\n  const isItemFromMagasin = (id) =>\n    !!frommagasin?.find((item) => item?.id === id);\n  const addFromMagasin = (product) => {\n    if (isItemFromMagasin(product.id)) {\n      dispatch(removeFromMagasin(product.id));\n    } else {\n      dispatch(dispatchAddFromMagasin(product));\n    }\n  };\n  return { frommagasin, isItemFromMagasin, addFromMagasin };\n};\n\nexport default useFromMagasin;\n","import React, { useEffect } from \"react\";\nimport { Col, ListGroup, Row } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport useFromMagasin from \"../../../../hooks/useFromMagasin\";\nimport { displayMoney } from \"../../../../utils/functions\";\nimport { isSpecialProductHandle } from \"../../../../store/functions/function\";\nimport { isBlocked } from \"./block-it\";\nconst ProductItem = ({ product }) => {\n  const frommagasins = useSelector((state) => state.frommagasins);\n  const dispatch = useDispatch();\n  const { isItemFromMagasin, addFromMagasin } = useFromMagasin(\n    frommagasins,\n    dispatch\n  );\n\n  const itemOnBasket = isItemFromMagasin\n    ? isItemFromMagasin(product.id)\n    : false;\n  /* useEffect(()=>{\n    if(!itemOnBasket){\n      product.qttByCC =0;\n      product.quantityParProduct=0;\n    }\n  },[itemOnBasket])*/\n  const handleAddToBasket = () => {\n    if (addFromMagasin) addFromMagasin(product);\n  };\n  const isEmptyBrute = React.useCallback(() => {\n    if (product.quantityBruteCVA > 15 && product.quantityBruteCVA <= 20) {\n      return \"yellow\";\n    }\n    if (product.quantityBruteCVA > 10 && product.quantityBruteCVA <= 15) {\n      return \"#ffdb4c\";\n    }\n    if (product.quantityBruteCVA > 5 && product.quantityBruteCVA <= 10) {\n      return \" orange\";\n    }\n    if (product.quantityBruteCVA > 0 && product.quantityBruteCVA <= 5) {\n      return \"#c44e14b8\";\n    }\n    if (product.quantityBruteCVA == 0) {\n      return \"red\";\n    } else {\n      return \"green\";\n    }\n  }, [product]);\n  const isEmptyCC = React.useCallback(() => {\n    if (product.quantityCCCVA > 15 && product.quantityCCCVA <= 20) {\n      return \"yellow\";\n    }\n    if (product.quantityCCCVA > 10 && product.quantityCCCVA <= 15) {\n      return \"#ffdb4c\";\n    }\n    if (product.quantityCCCVA > 5 && product.quantityCCCVA <= 10) {\n      return \" orange\";\n    }\n    if (product.quantityCCCVA > 0 && product.quantityCCCVA <= 5) {\n      return \"#c44e14b8\";\n    }\n    if (product.quantityCCCVA == 0) {\n      return \"red\";\n    } else {\n      return \"green\";\n    }\n\n    const isEmptyCondVal = React.useCallback(() => {\n      if (product.condval == 0) {\n        return \"red\";\n      } else {\n        return \"green\";\n      }\n    }, [product]);\n  }, [product]);\n  const disable = React.useCallback(() => {\n    if (isSpecialProductHandle(product)) {\n      if (\n        product.quantityBruteCVA == 0 &&\n        (product.quantityCCCVA == 0 || product.quantityCCCVA == null) &&\n        product.condval == 0\n      ) {\n        return true;\n      } else {\n        return false;\n      }\n    } else {\n      if (\n        product.quantityBruteCVA == 0 &&\n        (product.quantityCCCVA == 0 || product.quantityCCCVA == null)\n      ) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  }, [product]);\n  return (\n    <>\n      <ListGroup.Item\n        className=\"mb-2\"\n        style={{\n          width: \"100%\",\n          border: \"1px solid gray\",\n          padding: \"10px\",\n          background: \"whitesmoke\",\n          borderLeft: `10px solid ${isEmptyBrute()}`,\n        }}\n      >\n        <div className=\"d-flex justify-content-between align-items-center\">\n          <div\n            className={` ${!product.id ? \"product-loading\" : \"\"}`}\n            style={{\n              boxShadow:\n                product && itemOnBasket\n                  ? \"15px 10px 15px rgba(0, 0, 0, .07)\"\n                  : \"none\",\n            }}\n          >\n            <div className=\"d-flex justify-content-center align-items-center\">\n              <div className=\"d-flex flex-column mr-2 align-items-center w-20\">\n                <div class=\"badge badge-success mb-1\" style={{\n                  borderRadius:\"100%\"\n                }}>{product.quantityBruteCVA}</div>\n                <div class=\"badge badge-warning mb-1\" style={{\n                borderRadius:\"100%\"\n                }}>{product.condval}</div>\n                <div class=\"badge badge-info mb-1\" style={{\n                  borderRadius:\"100%\"\n                }}>{product.quantityCC}</div>\n              </div>\n              <div>\n                <div>\n                  <div>{product.name}</div>\n                  <div class=\"badge badge-primary\">\n                    {product?.fournisseur?.name}\n                  </div>\n                </div>\n              </div>\n            </div>\n            {/**    <strong>\n              {product.type}:{product.quantityBruteCVA}\n\n             \n            </strong>\n            <br />\n            {product.type == \"FLACON\" && (\n              <>\n                <strong>ML: {product.quantityCCCVA} ml</strong>\n                <br />\n                \n              </>           disabled={ \n              product.quantityBruteCVA === 0 && (product.quantityCCCVA == 0 || product.quantityCCCVA == null) && product.condval==0\n            }\n            )}\n            <strong>CondML: {product.condml}- Condval:{product.condval}</strong> */}\n          </div>\n          <div>\n            {product.id && (\n              <>\n                <button\n                  disabled={isBlocked(product)}\n                  className={`mt-3 ${\n                    itemOnBasket\n                      ? \"btn btn-danger btn-sm\"\n                      : \"btn btn-green btn-sm\"\n                  }`}\n                  onClick={handleAddToBasket}\n                >\n                  {!itemOnBasket ? \"Ajouter\" : \"Retirer\"}\n                </button>\n              </>\n            )}\n          </div>\n        </div>\n      </ListGroup.Item>\n    </>\n  );\n};\n\nexport default React.memo(ProductItem);\n","import React, { useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  addQtyFromMagasinItem,\n  minusQtyFromMagasinItem,\n  setQtyFromMagasinItem,\n} from \"../../../../store/frommagasin/actions/frommagasin\";\n\nimport {\n  canBuyCCFromCva,\n  hasCondVal,\n} from \"../../../../store/functions/function\";\n\nimport {\n  NumberInput,\n  NumberInputField,\n  NumberInputStepper,\n  NumberIncrementStepper,\n  NumberDecrementStepper,\n} from \"@chakra-ui/react\";\n\nconst FromMagasinItemControl = ({\n  product,\n  setRealQtt,\n  maxRealQtt,\n  realQtt,\n}) => {\n  const dispatch = useDispatch();\n  const onAddQtyBrute = (value) => {\n    dispatch(setQtyFromMagasinItem(product.id, value));\n  };\n  function copy(object) {\n    var output, value, key;\n    output = Array.isArray(object) ? [] : {};\n    for (key in object) {\n      value = object[key];\n      output[key] = typeof value === \"object\" ? copy(value) : value;\n    }\n    return output;\n  }\n\n  return (\n    <div className=\"basket-item-control\">\n    \n      <NumberInput\n        inputMode={\"numeric\"}\n        w={28}\n        bg={\"whitesmoke\"}\n        min={0}\n        value={realQtt}\n        defaultValue={product?.quantityParProduct}\n        onChange={(value) => {\n          if ((value == \"\")) {\n            setRealQtt(0);\n            onAddQtyBrute(0);\n          } else {\n            setRealQtt(value);\n            onAddQtyBrute(value);\n          }\n        }}\n      //  max={maxRealQtt}\n      >\n        <NumberInputField />\n        <NumberInputStepper>\n          <NumberIncrementStepper />\n          <NumberDecrementStepper />\n        </NumberInputStepper>\n      </NumberInput>\n\n    </div>\n  );\n};\nexport default FromMagasinItemControl;\n","import React, { useEffect, useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  addQtyFromMagasinPortionItem,\n  minusQtyFromMagasinPortionItem,\n} from \"../../../../store/frommagasin/actions/frommagasin\";\nimport {\n  NumberInput,\n  NumberInputField,\n  NumberInputStepper,\n  NumberIncrementStepper,\n  NumberDecrementStepper,\n} from \"@chakra-ui/react\";\n\nconst FromMagasinItemPartial = ({\n  product,\n  setRealQttCC,\n  setRealQtt,\n  setMaxRealQttCC,\n  maxRealQttCC,\n  realQtt,\n  realQttCC,\n}) => {\n  const dispatch = useDispatch();\n  const ref = useRef();\n  const { frommagasins } = useSelector((state) => ({\n    frommagasins: state.frommagasins,\n  }));\n\n  const onAddQtyPortion = (value) => {\n    dispatch(addQtyFromMagasinPortionItem(product.id, value));\n  };\n  return (\n    <div className=\"basket-item-control\">\n      <NumberInput\n        inputMode={\"numeric\"}\n        w={28}\n        bg={\"whitesmoke\"}\n        onChange={(value) => {\n         // setRealQttCC(value);\n          if (value == \"\") {\n            onAddQtyPortion(0);\n            setRealQttCC(0);\n          } else {\n            setRealQttCC(value * 1);\n            onAddQtyPortion(value * 1);\n          }\n       \n        }}\n        min={0}\n        value={realQttCC}\n        defaultValue={product?.qttByCC}\n       // max={maxRealQttCC}\n      >\n        <NumberInputField />\n        <NumberInputStepper>\n          <NumberIncrementStepper />\n          <NumberDecrementStepper />\n        </NumberInputStepper>\n      </NumberInput>\n      {/*<button\n        className=\"btn btn-dark btn-sm\"\n        data-testid=\"from-magasin-item-partial-plus\"\n        disabled={\n          Number(product.qttByCC) == Number(product.doseDefault - 1) ||\n          (product.quantityParProduct == product.quantityBruteCVA &&\n            product.quantityCCCVA == 0)\n        }\n        onClick={onAddQtyPortion}\n        type=\"button\"\n      >\n        +\n      </button>\n      <span className=\"mx-1\" data-testid=\"counter-partial\">{product.qttByCC}</span>\n      <button\n        className=\"btn btn-dark btn-sm\"\n        data-testid=\"from-magasin-item-partial-minus\"\n        disabled={product.qttByCC == 0}\n        onClick={onMinusQtyPortiion}\n        type=\"button\"\n      >\n        -\n      </button>*/}\n    </div>\n  );\n};\nexport default FromMagasinItemPartial;\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  addQtyFromMagasinPhytoCondItem,\n  minusQtyFromMagasinPhytoCondItem,\n} from \"../../../../store/frommagasin/actions/itanewMagasin\";\nimport {\n  NumberInput,\n  NumberInputField,\n  NumberInputStepper,\n  NumberIncrementStepper,\n  NumberDecrementStepper,\n} from \"@chakra-ui/react\";\n\nexport const PhytoConditionnementInput = ({\n  product,\n  setRealQttCC,\n  realQttCC,\n  maxRealQttCC,\n}) => {\n  const dispatch = useDispatch();\n  const onAddQtyPortion = (value) => {\n    dispatch(addQtyFromMagasinPhytoCondItem(product.id, value));\n  };\n  return (\n    <div className=\"basket-item-control\">\n      <NumberInput\n        inputMode={\"decimal\"}\n        w={28}\n        bg={\"whitesmoke\"}\n        onChange={(value) => {\n          if (value == \"\") {\n            onAddQtyPortion(0);\n            setRealQttCC(0);\n          } else {\n            onAddQtyPortion(Number(value));\n            setRealQttCC(Number(value));\n          }\n        }}\n        min={0}\n        value={realQttCC}\n        defaultValue={product?.qttByCC}\n        max={maxRealQttCC}\n      >\n        <NumberInputField />\n        <NumberInputStepper>\n          <NumberIncrementStepper />\n          <NumberDecrementStepper />\n        </NumberInputStepper>\n      </NumberInput>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { setQtyLitreFromMagasinItem } from \"../../../../store/frommagasin/actions/frommagasin\";\n\nimport {\n  NumberInput,\n  NumberInputField,\n  NumberInputStepper,\n  NumberIncrementStepper,\n  NumberDecrementStepper,\n} from \"@chakra-ui/react\";\n\nconst FromMagasinItemLitre = ({\n  product,\n  setRealQttLitre,\n  realQttLitre,\n  maxRealQttByLitre,\n}) => {\n  const dispatch = useDispatch();\n  const onAddQtyBrute = (value) => {\n    dispatch(setQtyLitreFromMagasinItem(product.id, value));\n  };\n\n  return (\n    <div className=\"basket-item-control\">\n      <NumberInput\n        inputMode={\"numeric\"}\n        w={28}\n        step={1}\n        bg={\"whitesmoke\"}\n        min={0}\n        value={realQttLitre}\n        defaultValue={0}\n        onChange={(value) => {\n          if (value == \"\") {\n            setRealQttLitre(0);\n            onAddQtyBrute(0);\n          } else {\n            setRealQttLitre(Number(value));\n            onAddQtyBrute(Number(value));\n          }\n        }}\n        max={maxRealQttByLitre}\n      >\n        <NumberInputField />\n        <NumberInputStepper>\n          <NumberIncrementStepper />\n          <NumberDecrementStepper />\n        </NumberInputStepper>\n      </NumberInput>\n    </div>\n  );\n};\nexport default FromMagasinItemLitre;\n","import React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport FromMagasinItemControl from \"./FromMagasinItemControl\";\nimport FromMagasinItemPartial from \"./FromMagasinItemPartial\";\nimport { displayMoney, checkHasExistText } from \"../../../../utils/functions\";\nimport { ItaNewInputDose } from \"./ItaNewInputDose\";\nimport { PhytoConditionnementInput } from \"./PhytoConditionnementInput\";\nimport { SovaxInputDose } from \"./SovaxInputDose\";\nimport useFromMagasin from \"../../../../hooks/useFromMagasin\";\nimport FromMagasinItemLitre from \"./FromMagasinItemLitre\";\nimport { isSpecialProductHandle, blockItOnSold } from \"./block-it\";\nconst FromMagasinItem = ({ product }) => {\n  const [realQttCC, setRealQttCC] = useState(product?.qttByCC);\n  const [realQtt, setRealQtt] = useState(product?.quantityParProduct);\n  const [realQttLitre, setRealQttLitre] = useState(0);\n  const [maxRealQtt, setMaxRealQtt] = useState(2000);\n  const [maxRealQttCC, setMaxRealQttCC] = useState(2000);\n  const [maxRealQttByLitre, setMaxRealQttByLitre] = useState(2000);\n  const frommagasins = useSelector((state) => state.frommagasins);\n  const dispatch = useDispatch();\n  const { isItemFromMagasin, addFromMagasin } = useFromMagasin(\n    frommagasins,\n    dispatch\n  );\n  useEffect(() => {\n    /**  if (realQttCC > 2) {\n      alert(\"attention c'est la merte\");\n      setMaxRealQtt(2);\n      setMaxRealQttCC(10);\n      setRealQttCC(10);\n      setRealQtt(1);\n      setRealQttLitre(1);\n      setMaxRealQttByLitre(1);\n    }\n    console.log(\"qtt\", realQtt);\n    console.log(\"qttv\", realQttCC);\n    console.log(\"condval\", realQttLitre); */\n\n    const { normalQtt, normalQttCC, normalQttLitre, isSpecific, isValid } =\n      blockItOnSold(realQtt, realQttCC, realQttLitre, product);\n    // console.log(product);\n    if (!isValid) {\n      alert(\"stock insuffisant :(\");\n      if (!isSpecific) {\n        setRealQtt(normalQtt);\n        setMaxRealQtt(normalQtt);\n        setRealQttCC(normalQttCC);\n        setMaxRealQttCC(normalQttCC);\n      } else {\n        setRealQttLitre(normalQttLitre);\n        setMaxRealQttByLitre(normalQttLitre);\n        setRealQtt(normalQtt);\n        setMaxRealQtt(normalQtt);\n        setRealQttCC(normalQttCC);\n        setMaxRealQttCC(normalQttCC);\n      }\n    }\n  }, [realQtt, realQttCC, realQttLitre]);\n  const itemOnBasket = isItemFromMagasin\n    ? isItemFromMagasin(product.id)\n    : false;\n  const handleAddToBasket = () => {\n    if (addFromMagasin) addFromMagasin(product);\n  };\n\n  return (\n    <div>\n      <div className=\"d-flex justify-content-between align-items-center border   mb-2 p-2\">\n        <div style={{ width: \"45%\" }}>\n          <p className=\"text-blue\">{product.name}</p>\n          {isSpecialProductHandle(product) ? (\n            <>\n              <p className=\"text-lowercase\">\n                <strong>\n                  {product.qttbylitre != 0 && (\n                    <span style={{ marginRight: \"30px\" }}>\n                      {displayMoney(product.prixlitre) +\n                        \" x \" +\n                        product.qttbylitre +\n                        \" Litre(s)\"}\n                    </span>\n                  )}\n                </strong>\n              </p>\n              <p className=\"text-lowercase\">\n                <strong>\n                  {product.quantityParProduct != 0 && (\n                    <span style={{ marginRight: \"30px\" }}>\n                      {displayMoney(\n                        product.prixqttccvente * product.qttccpvente\n                      ) +\n                        \" x \" +\n                        product.quantityParProduct +\n                        \" \" +\n                        product.type}\n                    </span>\n                  )}\n                </strong>\n              </p>\n            </>\n          ) : (\n            <p className=\"text-lowercase\">\n              <strong>\n                {product.quantityParProduct != 0 && (\n                  <span style={{ marginRight: \"30px\" }}>\n                    {displayMoney(product.prixVente) +\n                      \" x \" +\n                      product.quantityParProduct +\n                      \" \" +\n                      product.type}\n                  </span>\n                )}\n              </strong>\n            </p>\n          )}\n\n          <p className=\"text-lowercase\">\n            <strong>\n              {product.qttByCC != 0 && (\n                <span style={{ marginRight: \"30px\" }}>\n                  {displayMoney(product.prixParCC) +\n                    \" x \" +\n                    product.qttByCC +\n                    \" ML\"}\n                </span>\n              )}\n            </strong>\n          </p>\n        </div>\n        {product.condml !== 0 && product.qttccpvente !== 0 && (\n          <div className=\"text-inline text-center mr-3\">\n            <h5 className=\"mb-1 text-uppercase\">Litre</h5>\n            <FromMagasinItemLitre\n              product={product}\n              setRealQttLitre={setRealQttLitre}\n              realQttLitre={realQttLitre}\n              maxRealQttByLitre={maxRealQttByLitre}\n            />{\" \"}\n          </div>\n        )}\n        <div className=\"text-inline text-center mr-2\">\n          <h5 className=\"mb-1\">{product.type}</h5>\n\n          <FromMagasinItemControl\n            product={product}\n            setRealQtt={setRealQtt}\n            setMaxRealQtt={setMaxRealQtt}\n            maxRealQtt={maxRealQtt}\n            realQtt={realQtt}\n          />\n        </div>\n        {product.type === \"FLACON\" && (\n          <div className=\"text-inline text-center\">\n            <h5 className=\"mb-1\">{product.categoryId == 3 ? \"DOSE\" : \"ML\"}</h5>\n            {checkHasExistText(product.name, \"ita new\") && (\n              <ItaNewInputDose\n                product={product}\n                setRealQttCC={setRealQttCC}\n                realQttCC={realQttCC}\n              />\n            )}\n            {checkHasExistText(product.name, \"sovax\") && (\n              <SovaxInputDose\n                setRealQttCC={setRealQttCC}\n                realQttCC={realQttCC}\n                product={product}\n              />\n            )}\n            {product.condml == 0 &&\n              product.qttccpvente == 0 &&\n              !checkHasExistText(product.name, \"sovax\") &&\n              !checkHasExistText(product.name, \"ita new\") && (\n                <FromMagasinItemPartial\n                  setRealQttCC={setRealQttCC}\n                  realQttCC={realQttCC}\n                  maxRealQttCC={maxRealQttCC}\n                  product={product}\n                />\n              )}\n            {product.condml !== 0 && product.qttccpvente !== 0 && (\n              <PhytoConditionnementInput\n                product={product}\n                setRealQttCC={setRealQttCC}\n                realQttCC={realQttCC}\n                maxRealQttCC={maxRealQttCC}\n              />\n            )}\n          </div>\n        )}\n\n        <div className=\"ml-2\">\n          {itemOnBasket && (\n            <button\n              onClick={handleAddToBasket}\n              className=\"btn btn-danger btn-xs text-right\"\n            >\n              X\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FromMagasinItem;\n","const Lang ={\n    fromMagasin:{\n        emptyOrder:\"Aucune commande\"\n    }\n}\nexport default Lang;","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n//import useModal from '../../hooks/useModal';\nimport { Link } from \"react-router-dom\";\nimport FromMagasinItem from \"./FromMagasinItem\";\nimport { Card } from \"react-bootstrap\";\nimport { clearFromMagasin } from \"../../../../store/frommagasin/actions/frommagasin\";\nimport { action, getData } from \"../../../../utils/lib/call\";\nimport { displayMoney, checkHasExistText } from \"../../../../utils/functions\";\nimport { CREDIT_VENDEUR, HISTORIQUEVENTEVENDEUR } from \"../../../../constants/routes\";\nimport { useHistory } from \"react-router-dom\";\nimport Lang from \"../../../../constants/lang\";\nimport {\n  handleSoldQuantityCC,\n  handleMinusProduct,\n  isSpecialProductHandle,\n  handlePhtyoSpecific,\n  handleMinusCondML,\n} from \"../../../../store/functions/function\";\nimport { resetSearchByDate } from \"../../../../store/actions/search/search\";\nimport { locked } from \"./block-it\";\nimport { buy } from \"./buy-it\";\nconst calculateTotal = (arr) => {\n  if (!arr || arr?.length === 0) return 0;\n  const total = arr.reduce((acc, val) => acc + val, 0);\n  return total;\n};\n\nconst FromMagasin = () => {\n  const [type, setType] = useState(\"vente-cva\");\n  const [vaccinateurId, setVaccinateurId] = useState(null);\n  const [emprunter, setEmprunter] = useState(null);\n  const history = useHistory();\n\n  const { frommagasins } = useSelector((state) => ({\n    frommagasins: state.frommagasins,\n  }));\n  const dispatch = useDispatch();\n  const emprunters = useSelector(getData(\"emprunters\").value);\n  const [IsInvalid, setIsInvalid] = useState(false);\n  const date = new Date();\n  const [dateCom, setDateCom] = useState(date);\n  useEffect(() => {\n    dispatch(action(\"emprunters\").fetch());\n  }, []);\n\n  const onCheckOut = () => {\n    if (!locked(frommagasins)) {\n      frommagasins.forEach((element) => {\n        /** if (isSpecialProductHandle(element)) {\n          handleMinusCondML(element);\n        } else {\n          //  handleMinusProduct(element);\n          handleSoldQuantityCC(element);\n        } */\n        buy(element);\n      });\n      dispatch(\n        action(\"commandes\").createTransaction(\n          {\n            id: Math.floor(Date.now() / 1000),\n            contenu: frommagasins,\n            type: type,\n            sorte: \"sortie\",\n            vaccinateurId: vaccinateurId,\n            status: type === \"vente-cva\" ? true : false,\n            emprunterId: emprunter,\n            dateCom: dateCom != null ? dateCom : date,\n          },\n          \"add-from-magasin\"\n        )\n      );\n      dispatch(clearFromMagasin());\n      history.push('/historique/vente/vendeur/vente-cva');\n    } else {\n      alert(\"commande non-conforme,veuillez verifier!!\");\n    }\n  };\n\n  const onClearBasket = () => {\n    frommagasins.forEach((element) => {\n      element.quantityParProduct = 0;\n      element.qttByCC = 0;\n    });\n    dispatch(resetSearchByDate());\n    dispatch(clearFromMagasin());\n  };\n\n  return (\n    <>\n      <Card>\n        <Card.Header className=\" bg-dark py-2 text-white d-flex justify-content-between align-items-center\">\n          <div style={{ width: \"60%\" }}>\n            BON DE SORTIE (\n            {` ${frommagasins?.length} ${\n              frommagasins?.length > 1 ? \"articles\" : \"article\"\n            }`}\n            )\n          </div>\n          <div style={{ width: \"40%\" }} className=\"text-right\">\n            <select\n              className=\"form-control input-sm\"\n              onChange={(e) => {\n                setType(e.target.value);\n              }}\n            >\n              <option value=\"vente-cva\" selected>\n                Comptant\n              </option>\n              <option value=\"credit-cva\">Credit</option>\n            </select>\n          </div>\n        </Card.Header>\n        <div className=\"commande-vente\">\n          <Card.Body\n            style={{ padding: 2, marginTop: 3, marginRight: 2, marginLeft: 2 }}\n          >\n            <div className=\"d-flex justify-content-end\">\n             \n            </div>\n            <div\n              style={{\n                overflowY: \"auto\",\n                height: \"350px\",\n                maxHeight: \"350px\",\n                overflowX: \"hidden\",\n              }}\n            >\n              <div class=\"form-group\">\n                <label>Date de sortie :</label>\n                <div>\n                  <input\n                    type=\"date\"\n                    onChange={(e) => setDateCom(e.target.value)}\n                    value={dateCom}\n                    className=\"form-control\"\n                  />\n                </div>\n              </div>\n              {type === \"credit-cva\" && (\n                <>\n                  <label>Crediteur:</label>\n                  <select\n                    className=\"form-control\"\n                    onChange={(e) => {\n                      setEmprunter(e.target.value);\n                    }}\n                  >\n                    <option value=\"\"></option>\n                    {emprunters.map((v) => (\n                      <option value={v.id}>{v.name}</option>\n                    ))}\n                  </select>\n                </>\n              )}\n              {frommagasins?.length <= 0 && (\n                <div className=\"alert alert-success \">\n                  {Lang.fromMagasin.emptyOrder}\n                </div>\n              )}\n              {frommagasins?.map((product, i) => (\n                <FromMagasinItem\n                  key={`${product?.id}_${i}`}\n                  product={product}\n                  basket={frommagasins}\n                  dispatch={dispatch}\n                />\n              ))}\n            </div>\n          </Card.Body>\n\n          {frommagasins?.length > 0 && (\n            <Card.Footer className=\"d-flex align-items-center justify-content-between\">\n              <div style={{ width: \"40%\" }}>\n                <h2 className=\"p-2 text-uppercase bg-primary\">\n                  <strong data-test-id=\"total-price-orders\">\n                    Total:\n                    {displayMoney(\n                      calculateTotal(\n                        frommagasins.map((product) => {\n                          return isSpecialProductHandle(product)\n                            ? product.prixqttccvente *\n                                product.quantityParProduct *\n                                product.qttccpvente +\n                                product.prixlitre * product.qttbylitre\n                            : product.prixVente * product.quantityParProduct;\n                        })\n                      ) +\n                        calculateTotal(\n                          frommagasins.map((product) => {\n                            return product.prixParCC * product.qttByCC;\n                          })\n                        )\n                    )}\n                  </strong>\n                </h2>\n              </div>\n              <div style={{ width: \"60%\" }}>\n                {frommagasins.length > 0 && (\n                  <div className=\"d-flex text-right align-items-end justify-content-end\">\n                    <button\n                      className=\"btn btn-green btn-sm mr-2\"\n                      disabled={frommagasins.length === 0}\n                      onClick={onCheckOut}\n                      type=\"button\"\n                    >\n                      Valider l'operation\n                    </button>\n                    <button\n                      className=\"btn btn-danger btn-sm\"\n                      onClick={onClearBasket}\n                      type=\"button\"\n                    >\n                      <span>Annuler</span>\n                    </button>\n                  </div>\n                )}\n              </div>\n            </Card.Footer>\n          )}\n        </div>\n      </Card>\n    </>\n  );\n};\n\nexport default FromMagasin;\n","import React, { useEffect, useState, useRef } from \"react\";\nimport ProductItem from \"./item\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Container, Row, Col, Card, ListGroup } from \"react-bootstrap\";\nimport FromMagasin from \"./FromMagasin\";\nimport { action, getData } from \"../../../../utils/lib/call\";\nimport { Link } from \"react-router-dom\";\nimport { HISTORIQUEVENTEVENDEUR } from \"../../../../constants/routes\";\nimport { fetchProductsByFournisseur } from \"../../../../store/actions/products\";\nimport { GetAll, Data } from \"../../../../context\";\nimport { Select } from \"@chakra-ui/select\";\nimport { displayDate, displayMoney } from \"../../../../utils/functions\";\nimport { getCommandeCVA } from \"../../../../store/actions/commandes\";\nimport Horloge from \"./Horloge\";\nimport searchByNameAndFournisseur from \"../../../../filters/searchByNameAndFournisseur\";\nimport searchByFournisseur from \"../../../../filters/searchByFournisseur\";\nimport searchByName from \"../../../../filters/searchByName\";\nimport { moment } from \"moment\";\nimport { clearFromMagasin } from \"../../../../store/frommagasin/actions/frommagasin\";\nimport { isBlocked } from \"./block-it\";\nimport { isSpecialProductHandle } from \"../../../../store/functions/function\";\nimport HeaderVendeur from \"../../../HeaderVendeur\";\nconst Products = () => {\n  const products = useSelector(getData(\"products\").value);\n  const meta = useSelector(getData(\"products\").meta);\n  const dispatch = useDispatch();\n  const [value, setValue] = useState(\"\");\n  const [idFournisseur, setIdFournisseur] = useState(2);\n  const [regenerate, setRegenerate] = useState(false);\n  const refDateDeb = useRef(null);\n  const refDateFin = useRef(null);\n\n  const [productData, setProductData] = useState([]);\n\n  useEffect(() => {\n    dispatch(action(\"products\").fetch());\n  }, []);\n  useEffect(() => {\n    if (regenerate == true) {\n      dispatch(action(\"products\").fetch());\n      setRegenerate(false);\n    }\n    return () => {\n      setRegenerate(false);\n    };\n  }, [regenerate]);\n\n  useEffect(() => {\n    if (!meta.isFetching) {\n      setProductData(products.filter((p) => !isBlocked(p)));\n    }\n  }, [meta]);\n  useEffect(() => {\n    setProductData(\n      searchByName(\n        products.filter((p) => !isBlocked(p)),\n        value\n      )\n    );\n  }, [value]);\n\n  const calculateTotal = (arr) => {\n    if (!arr || arr?.length === 0) return 0;\n    const total = arr.reduce((acc, val) => acc + val, 0);\n    return total;\n  };\n\n  const totalDevente = (arr) => {\n    return (\n      calculateTotal(\n        arr.map((product) => {\n          return isSpecialProductHandle(product)\n            ? product.prixlitre * product.quantityParProduct\n            : product.prixVente * product.quantityParProduct;\n        })\n      ) +\n      calculateTotal(\n        arr.map((product) => {\n          return product.prixParCC * product.qttByCC;\n        })\n      )\n    );\n  };\n\n  return (\n    <>\n      <Container>\n        <HeaderVendeur />\n      </Container>\n      <Container>\n        <div className=\"d-flex align-items-center flex-row mr-2\">\n          <div\n            class=\"badge badge-success\"\n            style={{\n              borderRadius: \"100%\",\n            }}\n          >\n            30\n          </div>\n          <div className=\"mx-2\">:Quantit</div>\n          <div\n            class=\"badge badge-warning\"\n            style={{\n              borderRadius: \"100%\",\n            }}\n          >\n            3\n          </div>\n          <div className=\"mx-2\">:Conditionnement (ML)</div>\n          <div\n            class=\"badge badge-info\"\n            style={{\n              borderRadius: \"100%\",\n            }}\n          >\n            200\n          </div>\n          <div className=\"mx-2\">:Reste en ML</div>\n        </div>\n        <Row>\n          <Col xs={6}>\n            <Card className=\"mt-2\">\n              <Card.Header className=\"bg-dark p-2 text-white d-flex text-uppercase justify-content-between align-items-center\">\n                <div style={{ width: \"60%\" }}>Produits</div>\n                <div>\n                  <button\n                    className=\"btn btn-green btn-sm\"\n                    onClick={() => {\n                      setRegenerate(true);\n                      //    dispatch(clearFromMagasin());\n                    }}\n                  >\n                    Mettre  jour\n                  </button>\n                </div>\n              </Card.Header>\n              <Card.Body>\n                <div class=\"d-flex justify-content-between align-items-center\">\n                  <input\n                    type=\"text\"\n                    onChange={(e) => {\n                      setValue(e.target.value);\n                    }}\n                    placeholder=\"Nom du produit\"\n                    className=\"form-control mb-2\"\n                  />\n                </div>\n                <ListGroup>\n                  <div\n                    style={{\n                      overflowY: \"auto\",\n                      width: \"100%\",\n                      height: \"350px\",\n                      maxHeight: \"350px\",\n                      overflowX: \"hidden\",\n                    }}\n                  >\n                    <div class=\"d-flex justify-content-start flex-wrap\">\n                      {productData\n                        .sort(\n                          (low, high) =>\n                            high.quantityBruteCVA - low.quantityBruteCVA\n                        )\n                        .map((p) => (\n                          <ProductItem product={p} />\n                        ))}\n                      {productData.length == 0 &&\n                        \"Aucune enregistrement trouv\"}\n                    </div>{\" \"}\n                  </div>\n                </ListGroup>\n              </Card.Body>\n            </Card>\n          </Col>\n          <Col xs={6}>\n            <div className=\" py-2\">\n              <FromMagasin setRegenerate={setRegenerate} />\n            </div>\n          </Col>\n        </Row>\n      </Container>\n    </>\n  );\n};\n\nexport default Products;\n","import React from \"react\";\nimport Products from \"../vendeur/fromMagasin/product\";\n\nconst Vendeur = () => {\n  return (\n    <>\n      <Products />\n    </>\n  );\n};\n\nexport default Vendeur;\n","import React, { useEffect } from \"react\";\nimport { Col, ListGroup, Row } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport useFromMagasin from \"../../../../hooks/useFromMagasin\";\nimport { displayMoney } from \"../../../../utils/functions\";\nimport { isSpecialProductHandle } from \"../../../../store/functions/function\";\nconst ProductItem = ({ product }) => {\n  const frommagasins = useSelector((state) => state.frommagasins);\n  const dispatch = useDispatch();\n  const { isItemFromMagasin, addFromMagasin } = useFromMagasin(\n    frommagasins,\n    dispatch\n  );\n\n  const itemOnBasket = isItemFromMagasin\n    ? isItemFromMagasin(product.id)\n    : false;\n  /* useEffect(()=>{\n    if(!itemOnBasket){\n      product.qttByCC =0;\n      product.quantityParProduct=0;\n    }\n  },[itemOnBasket])*/\n  const handleAddToBasket = () => {\n    if (addFromMagasin) addFromMagasin(product);\n  };\n  const isEmptyBrute = React.useCallback(() => {\n    if (product.quantityBruteCVA > 15 && product.quantityBruteCVA <= 20) {\n      return \"yellow\";\n    }\n    if (product.quantityBruteCVA > 10 && product.quantityBruteCVA <= 15) {\n      return \"#ffdb4c\";\n    }\n    if (product.quantityBruteCVA > 5 && product.quantityBruteCVA <= 10) {\n      return \" orange\";\n    }\n    if (product.quantityBruteCVA > 0 && product.quantityBruteCVA <= 5) {\n      return \"#c44e14b8\";\n    }\n    if (product.quantityBruteCVA == 0) {\n      return \"red\";\n    } else {\n      return \"green\";\n    }\n  }, [product]);\n  const isEmptyCC = React.useCallback(() => {\n    if (product.quantityCCCVA > 15 && product.quantityCCCVA <= 20) {\n      return \"yellow\";\n    }\n    if (product.quantityCCCVA > 10 && product.quantityCCCVA <= 15) {\n      return \"#ffdb4c\";\n    }\n    if (product.quantityCCCVA > 5 && product.quantityCCCVA <= 10) {\n      return \" orange\";\n    }\n    if (product.quantityCCCVA > 0 && product.quantityCCCVA <= 5) {\n      return \"#c44e14b8\";\n    }\n    if (product.quantityCCCVA == 0) {\n      return \"red\";\n    } else {\n      return \"green\";\n    }\n\n    const isEmptyCondVal = React.useCallback(() => {\n      if (product.condval == 0) {\n        return \"red\";\n      } else {\n        return \"green\";\n      }\n    }, [product]);\n  }, [product]);\n  const disable = React.useCallback(() => {\n    if (isSpecialProductHandle(product)) {\n      if (\n        product.quantityBruteCVA == 0 &&\n        (product.quantityCCCVA == 0 || product.quantityCCCVA == null) &&\n        product.condval == 0\n      ) {\n        return true;\n      } else {\n        return false;\n      }\n    } else {\n      if (\n        product.quantityBruteCVA == 0 &&\n        (product.quantityCCCVA == 0 || product.quantityCCCVA == null)\n      ) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  }, [product]);\n  return (\n    <>\n      <ListGroup.Item\n        className=\"mb-2 mr-3\"\n        style={{\n          width: \"100%\",\n          border: \"1px solid gray\",\n          background: \"whitesmoke\",\n          borderLeft: `10px solid ${isEmptyBrute()}`,\n        }}\n      >\n        <div className=\"d-flex justify-content-between align-items-center\">\n          <div\n            className={` ${!product.id ? \"product-loading\" : \"\"}`}\n            style={{\n              boxShadow:\n                product && itemOnBasket\n                  ? \"15px 10px 15px rgba(0, 0, 0, .07)\"\n                  : \"none\",\n            }}\n          >\n            <div\n              style={{\n                width: 10,\n                height: 4,\n                background: `${isEmptyCC()}`,\n              }}\n            ></div>\n          \n            <div>\n              <div>{product.name}</div>\n              <div class=\"badge badge-primary\">\n                {product?.fournisseur?.name}\n              </div>\n              <br />\n              {/**    <strong>\n              {product.type}:{product.quantityBruteCVA}\n\n             \n            </strong>\n            <br />\n            {product.type == \"FLACON\" && (\n              <>\n                <strong>ML: {product.quantityCCCVA} ml</strong>\n                <br />\n                \n              </>           disabled={ \n              product.quantityBruteCVA === 0 && (product.quantityCCCVA == 0 || product.quantityCCCVA == null) && product.condval==0\n            }\n            )}\n            <strong>CondML: {product.condml}- Condval:{product.condval}</strong> */}\n            </div>{\" \"}\n          </div>\n          <div>\n            {product.id && (\n              <>\n                <button\n                  \n                  className={`mt-3 ${\n                    itemOnBasket\n                      ? \"btn btn-danger btn-sm\"\n                      : \"btn btn-green btn-sm\"\n                  }`}\n                  onClick={handleAddToBasket}\n                >\n                  {!itemOnBasket ? \"Ajouter\" : \"Retirer\"}\n                </button>\n              </>\n            )}\n          </div>\n        </div>\n      </ListGroup.Item>\n    </>\n  );\n};\n\nexport default React.memo(ProductItem);\n","import React, { useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  addQtyFromMagasinItem,\n  minusQtyFromMagasinItem,\n  setQtyFromMagasinItem,\n} from \"../../../../store/frommagasin/actions/frommagasin\";\n\nimport {\n  canBuyCCFromCva,\n  hasCondVal,\n  isSpecialProductHandle,\n} from \"../../../../store/functions/function\";\n\nimport {\n  NumberInput,\n  NumberInputField,\n  NumberInputStepper,\n  NumberIncrementStepper,\n  NumberDecrementStepper,\n} from \"@chakra-ui/react\";\n\nconst FromMagasinItemControl = ({\n  product,\n  setRealQttCC,\n  setRealQtt,\n  realQtt,\n  realQttCC,\n}) => {\n  const dispatch = useDispatch();\n  const onAddQtyBrute = (value) => {\n    dispatch(setQtyFromMagasinItem(product.id, value));\n  };\n  function copy(object) {\n    var output, value, key;\n    output = Array.isArray(object) ? [] : {};\n    for (key in object) {\n      value = object[key];\n      output[key] = typeof value === \"object\" ? copy(value) : value;\n    }\n    return output;\n  }\n  const getValue = () => {\n    return canBuyCCFromCva(copy(product)) == true\n      ? product?.quantityBruteCVA * 1\n      : product?.quantityBruteCVA * 1 - 1;\n  };\n  const getValueCC = () => {\n    return hasCondVal(copy(product)) == true\n      ? product?.condval * 1\n      : product?.condval * 1 - 1;\n  };\n  const checkVal = () => {\n    if (isSpecialProductHandle(product)) {\n      return getValueCC();\n    } else {\n      return getValue();\n    }\n  };\n  const isEnough = () => {\n    return (\n      product.quantityCCCVA - product.qttByCC < 0 &&\n      product.quantityBruteCVA - 1 - product.quantityParProduct * 1 < 0\n    );\n  };\n  return (\n    <div className=\"basket-item-control\">\n      <NumberInput\n        inputMode={\"numeric\"}\n        w={28}\n        bg={\"whitesmoke\"}\n        min={0}\n        defaultValue={\n          isSpecialProductHandle(product)\n            ? product?.condval\n            : product?.quantityBruteCVA\n        }\n        onChange={(value) => {\n          if (value == \"\") {\n            setRealQtt(\n              isSpecialProductHandle(product)\n                ? product?.condval\n                : product?.quantityBruteCVA\n            );\n            onAddQtyBrute(\n              isSpecialProductHandle(product)\n                ? product?.condval\n                : product?.quantityBruteCVA\n            );\n          } else {\n            setRealQtt(value);\n            onAddQtyBrute(value);\n          }\n        }}\n        //max={product.quantityBruteCVA}\n      >\n        <NumberInputField />\n        <NumberInputStepper>\n          <NumberIncrementStepper />\n          <NumberDecrementStepper />\n        </NumberInputStepper>\n      </NumberInput>\n    </div>\n  );\n};\nexport default FromMagasinItemControl;\n","import React, { useEffect, useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  addQtyFromMagasinPortionItem,\n  minusQtyFromMagasinPortionItem,\n} from \"../../../../store/frommagasin/actions/frommagasin\";\nimport { isSpecialProductHandle } from \"../fromMagasin/block-it\";\nimport {\n  NumberInput,\n  NumberInputField,\n  NumberInputStepper,\n  NumberIncrementStepper,\n  NumberDecrementStepper,\n} from \"@chakra-ui/react\";\n\nconst FromMagasinItemPartial = ({\n  product,\n  setRealQttCC,\n  setRealQtt,\n  realQtt,\n  realQttCC,\n}) => {\n  const dispatch = useDispatch();\n  const ref = useRef();\n  const { frommagasins } = useSelector((state) => ({\n    frommagasins: state.frommagasins,\n  }));\n  const isEnough = () => {\n    return (\n      product.quantityCCCVA - product.qttByCC < 0 &&\n      product.quantityBruteCVA - 1 - product.quantityParProduct * 1 < 0\n    );\n  };\n  const onAddQtyPortion = (value) => {\n    dispatch(addQtyFromMagasinPortionItem(product.id, value));\n  };\n  return (\n    <div className=\"basket-item-control\">\n      <NumberInput\n        inputMode={\"numeric\"}\n        w={28}\n        step={1}\n        ref={ref}\n        bg={\"whitesmoke\"}\n        defaultValue={product.quantityCCCVA}\n        onChange={(value) => {\n          if (value == \"\") {\n            onAddQtyPortion(product.quantityCCCVA);\n            setRealQttCC(product.quantityCCCVA);\n          } else {\n            setRealQttCC(value * 1);\n            onAddQtyPortion(value * 1);\n          }\n        }}\n        min={0}\n        max={\n          isSpecialProductHandle(product)\n            ? product?.condml\n            : product?.doseDefault\n        }\n      >\n        <NumberInputField />\n        <NumberInputStepper>\n          <NumberIncrementStepper />\n          <NumberDecrementStepper />\n        </NumberInputStepper>\n      </NumberInput>\n      {/*<button\n        className=\"btn btn-dark btn-sm\"\n        data-testid=\"from-magasin-item-partial-plus\"\n        disabled={\n          Number(product.qttByCC) == Number(product.doseDefault - 1) ||\n          (product.quantityParProduct == product.quantityBruteCVA &&\n            product.quantityCCCVA == 0)\n        }\n        onClick={onAddQtyPortion}\n        type=\"button\"\n      >\n        +\n      </button>\n      <span className=\"mx-1\" data-testid=\"counter-partial\">{product.qttByCC}</span>\n      <button\n        className=\"btn btn-dark btn-sm\"\n        data-testid=\"from-magasin-item-partial-minus\"\n        disabled={product.qttByCC == 0}\n        onClick={onMinusQtyPortiion}\n        type=\"button\"\n      >\n        -\n      </button>*/}\n    </div>\n  );\n};\nexport default FromMagasinItemPartial;\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  addQtyFromMagasinDoseItem,\n  minusQtyFromMagasinDoseItem,\n} from \"../../../../store/frommagasin/actions/itanewMagasin\";\nimport {\n  NumberInput,\n  NumberInputField,\n  NumberInputStepper,\n  NumberIncrementStepper,\n  NumberDecrementStepper,\n} from \"@chakra-ui/react\";\nexport const ItaNewInputDose = ({\n  product,\n  setRealQttCC,\n  setRealQtt,\n  realQtt,\n  realQttCC,\n}) => {\n  const dispatch = useDispatch();\n  const onAddQtyPortion = (value) => {\n    dispatch(addQtyFromMagasinDoseItem(product.id, value));\n  };\n\n  const isEnough = () => {\n    return (\n      product.quantityCCCVA  - product.qttByCC < 0 &&\n      product.quantityBruteCVA - 1 - product.quantityParProduct * 1 < 0\n    );\n  };\n  return (\n    <div className=\"basket-item-control\">\n      <NumberInput\n        inputMode={\"decimal\"}\n        w={28}\n        step={1}\n        bg={\"whitesmoke\"}\n        onChange={(value) => {\n          onAddQtyPortion(value);\n          setRealQttCC(value);\n         \n        }}\n        min={0}\n        defaultValue={product.quantityCCCVA}\n      >\n        <NumberInputField />\n        <NumberInputStepper>\n          <NumberIncrementStepper />\n          <NumberDecrementStepper />\n        </NumberInputStepper>\n      </NumberInput>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  addQtyFromMagasinPhytoCondItem,\n  minusQtyFromMagasinPhytoCondItem,\n} from \"../../../../store/frommagasin/actions/itanewMagasin\";\nimport {\n  NumberInput,\n  NumberInputField,\n  NumberInputStepper,\n  NumberIncrementStepper,\n  NumberDecrementStepper,\n} from \"@chakra-ui/react\";\nexport const PhytoConditionnementInput = ({ product }) => {\n  const dispatch = useDispatch();\n  const onAddQtyPortion = (value) => {\n    dispatch(addQtyFromMagasinPhytoCondItem(product.id, value));\n  };\n  const total = () => {\n    if (product.quantityBruteCVA > 0) {\n      return product.condml * 1;\n    } else {\n      if (product.condval > 0) {\n        return product.condml;\n      } else {\n        return product.quantityCCCVA * 1;\n      }\n    }\n  };\n  return (\n    <div className=\"basket-item-control\">\n      <NumberInput\n        inputMode={\"decimal\"}\n        w={28}\n        bg={\"whitesmoke\"}\n        onChange={(value) => {\n          onAddQtyPortion(value);\n        }}\n        min={0}\n        defaultValue={product.quantityCCCVA}\n     //   max={total()}\n      >\n        <NumberInputField />\n        <NumberInputStepper>\n          <NumberIncrementStepper />\n          <NumberDecrementStepper />\n        </NumberInputStepper>\n      </NumberInput>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  addQtyFromMagasinSovaxItem,\n  minusQtyFromMagasinSovaxItem,\n} from \"../../../../store/frommagasin/actions/itanewMagasin\";\nimport {\n  NumberInput,\n  NumberInputField,\n  NumberInputStepper,\n  NumberIncrementStepper,\n  NumberDecrementStepper,\n} from \"@chakra-ui/react\";\nexport const SovaxInputDose = ({\n  product,\n  setRealQttCC,\n  setRealQtt,\n  realQtt,\n  realQttCC,\n}) => {\n  const dispatch = useDispatch();\n  const onAddQtyPortion = (value) => {\n    dispatch(addQtyFromMagasinSovaxItem(product.id, value));\n  };\n  const isEnough = () => {\n    return (\n      product.quantityCCCVA - product.qttByCC < 0 &&\n      product.quantityBruteCVA - 1 - product.quantityParProduct * 1 < 0\n    );\n  };\n  return (\n    <div className=\"basket-item-control\">\n    {/**{product.quantityCCCVA - product.qttByCC}**/}\n      <NumberInput\n        inputMode={\"numeric\"}\n        w={28}\n        step={1}\n        bg={\"whitesmoke\"}\n        onChange={(value) => {\n          onAddQtyPortion(value);\n          setRealQttCC(value);\n          \n        }}\n        min={0}\n        defaultValue={product.quantityCCCVA}\n      >\n        <NumberInputField />\n        <NumberInputStepper>\n          <NumberIncrementStepper />\n          <NumberDecrementStepper />\n        </NumberInputStepper>\n      </NumberInput>\n    </div>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { setQtyLitreFromMagasinItem } from \"../../../../store/frommagasin/actions/frommagasin\";\n\nimport {\n  canBuyCCFromCva,\n  hasCondVal,\n} from \"../../../../store/functions/function\";\n\nimport {\n  NumberInput,\n  NumberInputField,\n  NumberInputStepper,\n  NumberIncrementStepper,\n  NumberDecrementStepper,\n} from \"@chakra-ui/react\";\n\nconst FromMagasinItemLitre = ({\n  product,\n  setRealQttCC,\n  setRealQtt,\n  realQtt,\n  realQttCC,\n}) => {\n  const dispatch = useDispatch();\n  const onAddQtyBrute = (value) => {\n    dispatch(setQtyLitreFromMagasinItem(product.id, value));\n  };\n\n  return (\n    <div className=\"basket-item-control\">\n      <NumberInput\n        inputMode={\"numeric\"}\n        w={28}\n        step={1}\n        bg={\"whitesmoke\"}\n        min={0}\n        defaultValue={product?.quantityBruteCVA}\n        onChange={(value) => {\n          if (value == \"\") {\n            //setRealQtt(0);\n            onAddQtyBrute(0);\n          } else {\n            //  setRealQtt(value);\n            onAddQtyBrute(value);\n          }\n\n          /**  if (isEnough(product)) {\n            alert(\"Le stock ne satisfait pas votre commande\");\n          } */\n        }}\n      >\n        <NumberInputField />\n        <NumberInputStepper>\n          <NumberIncrementStepper />\n          <NumberDecrementStepper />\n        </NumberInputStepper>\n      </NumberInput>\n    </div>\n  );\n};\nexport default FromMagasinItemLitre;\n","import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport FromMagasinItemControl from \"./FromMagasinItemControl\";\nimport FromMagasinItemPartial from \"./FromMagasinItemPartial\";\nimport { displayMoney, checkHasExistText } from \"../../../../utils/functions\";\nimport { ItaNewInputDose } from \"./ItaNewInputDose\";\nimport { PhytoConditionnementInput } from \"./PhytoConditionnementInput\";\nimport { SovaxInputDose } from \"./SovaxInputDose\";\nimport useFromMagasin from \"../../../../hooks/useFromMagasin\";\nimport FromMagasinItemLitre from \"./FromMagasinItemLitre\";\nimport FromMagasinItemBrute from \"./FromMagasinItemBrute\";\nconst FromMagasinItem = ({ product }) => {\n  const [realQttCC, setRealQttCC] = useState(null);\n  const [realQtt, setRealQtt] = useState(null);\n  const frommagasins = useSelector((state) => state.frommagasins);\n  const dispatch = useDispatch();\n  const { isItemFromMagasin, addFromMagasin } = useFromMagasin(\n    frommagasins,\n    dispatch\n  );\n\n  const itemOnBasket = isItemFromMagasin\n    ? isItemFromMagasin(product.id)\n    : false;\n  /* useEffect(()=>{\n    if(!itemOnBasket){\n      product.qttByCC =0;\n      product.quantityParProduct=0;\n    }\n  },[itemOnBasket])*/\n  const handleAddToBasket = () => {\n    if (addFromMagasin) addFromMagasin(product);\n  };\n\n  return (\n    <div>\n      <div className=\"d-flex justify-content-between align-items-center border   mb-2 p-2\">\n        <div style={{ width: \"45%\" }}>\n          <p className=\"text-blue\">{product.name}</p>\n          <div class=\"badge badge-primary\">{product?.fournisseur?.name}</div>\n        </div>\n        {/**<div className=\"text-inline text-center mr-3\">\n          <h5 className=\"mb-1 text-uppercase\">Dpot</h5>\n          <FromMagasinItemBrute product={product} />{\" \"}\n        </div>**/}\n        {product.condml !== 0 && product.qttccpvente !== 0 && (\n          <div className=\"text-inline text-center mr-3\">\n            <h5 className=\"mb-1 text-uppercase\">Litre</h5>\n            <FromMagasinItemLitre\n              product={product}\n              setRealQttCC={setRealQttCC}\n              setRealQtt={setRealQtt}\n              realQtt={realQtt}\n              realQttCC={realQttCC}\n            />{\" \"}\n          </div>\n        )}\n        <div className=\"text-inline text-center mr-2\">\n          <h5 className=\"mb-1\">{product.type}</h5>\n\n          <FromMagasinItemControl\n            product={product}\n            setRealQttCC={setRealQttCC}\n            setRealQtt={setRealQtt}\n            realQtt={realQtt}\n            realQttCC={realQttCC}\n          />\n        </div>\n        {product.type === \"FLACON\" && (\n          <div className=\"text-inline text-center\">\n            <h5 className=\"mb-1\">{product.categoryId == 3 ? \"DOSE\" : \"ML\"}</h5>\n            {checkHasExistText(product.name, \"ita new\") && (\n              <ItaNewInputDose\n                product={product}\n                setRealQttCC={setRealQttCC}\n                setRealQtt={setRealQtt}\n                realQtt={realQtt}\n                realQttCC={realQttCC}\n              />\n            )}\n            {checkHasExistText(product.name, \"sovax\") && (\n              <SovaxInputDose\n                setRealQttCC={setRealQttCC}\n                setRealQtt={setRealQtt}\n                realQtt={realQtt}\n                realQttCC={realQttCC}\n                product={product}\n              />\n            )}\n            {product.condml == 0 &&\n              product.qttccpvente == 0 &&\n              !checkHasExistText(product.name, \"sovax\") &&\n              !checkHasExistText(product.name, \"ita new\") && (\n                <FromMagasinItemPartial\n                  setRealQttCC={setRealQttCC}\n                  setRealQtt={setRealQtt}\n                  realQtt={realQtt}\n                  realQttCC={realQttCC}\n                  product={product}\n                />\n              )}\n            {product.condml !== 0 && product.qttccpvente !== 0 && (\n              <PhytoConditionnementInput product={product} />\n            )}\n          </div>\n        )}\n\n        <div className=\"ml-2\">\n          {itemOnBasket && (\n            <button\n              onClick={handleAddToBasket}\n              className=\"btn btn-danger btn-xs text-right\"\n            >\n              X\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FromMagasinItem;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n//import useModal from '../../hooks/useModal';\nimport { Link } from \"react-router-dom\";\nimport FromMagasinItem from \"./FromMagasinItem\";\nimport { Card } from \"react-bootstrap\";\nimport { clearFromMagasin } from \"../../../../store/frommagasin/actions/frommagasin\";\nimport { action, getData } from \"../../../../utils/lib/call\";\nimport { displayMoney, checkHasExistText } from \"../../../../utils/functions\";\nimport { CORRECTION } from \"../../../../constants/routes\";\nimport { useHistory } from \"react-router-dom\";\nimport Lang from \"../../../../constants/lang\";\nimport {\n  handleSoldQuantityCC,\n  handleMinusProduct,\n  isSpecialProductHandle,\n  handlePhtyoSpecific,\n  handleMinusCondML,\n} from \"../../../../store/functions/function\";\nimport { resetSearchByDate } from \"../../../../store/actions/search/search\";\nconst calculateTotal = (arr) => {\n  if (!arr || arr?.length === 0) return 0;\n  const total = arr.reduce((acc, val) => acc + val, 0);\n  return total;\n};\n\nconst FromMagasin = () => {\n  const [type, setType] = useState(\"vente-cva\");\n  const [idFournisseur, setIdFournisseur] = useState(1);\n  const [vaccinateurId, setVaccinateurId] = useState(null);\n  const [emprunter, setEmprunter] = useState(null);\n  const history = useHistory();\n\n  const { frommagasins } = useSelector((state) => ({\n    frommagasins: state.frommagasins,\n  }));\n  const dispatch = useDispatch();\n  const emprunters = useSelector(getData(\"emprunters\").value);\n  const meta = useSelector(getData(\"commandes\").meta);\n  const commandes = useSelector(getData(\"commandes\").value);\n  const date = new Date();\n  const [dateCom, setDateCom] = useState(date);\n  useEffect(() => {\n    dispatch(action(\"commandes\").fetch());\n    dispatch(action(\"emprunters\").fetch());\n  }, []);\n\n  const onCheckOut = () => {\n   \n    dispatch(\n      action(\"commandes\").createTransaction(\n        {\n          id: Math.floor(Date.now() / 1000),\n          contenu: frommagasins,\n          commande: frommagasins,\n          type: \"correction-cva\",\n          sorte: \"sortie\",\n          vaccinateurId: vaccinateurId,\n          status: true,\n          emprunterId: emprunter,\n          dateCom: dateCom != null ? dateCom : date,\n        },\n        \"add-to-correction\"\n      )\n    );\n    /*if (!meta.error) {\n      frommagasins.forEach((element) => {\n        let idElement = element.id;\n        element.quantityParProduct = 0;\n        element.qttByCC = 0;\n        element.qttyspecificmirror = 0;\n        element.id = idElement;\n        dispatch(action(\"products\").update(element));\n      });\n    }*/\n    dispatch(clearFromMagasin());\n    history.push(CORRECTION);\n  };\n\n  const onClearBasket = () => {\n    frommagasins.forEach((element) => {\n      element.quantityParProduct = 0;\n      element.qttByCC = 0;\n    });\n    dispatch(resetSearchByDate());\n    dispatch(clearFromMagasin());\n  };\n\n  return (\n    <>\n      <Card>\n        <Card.Header className=\" bg-dark py-2 text-white d-flex justify-content-between align-items-center\">\n          <div style={{ width: \"60%\" }}>\n            Correction(\n            {` ${frommagasins?.length} ${\n              frommagasins?.length > 1 ? \"articles\" : \"article\"\n            }`}\n            )\n          </div>\n        \n        </Card.Header>\n        <div className=\"commande-vente\">\n          <Card.Body\n            style={{ padding: 2, marginTop: 3, marginRight: 2, marginLeft: 2 }}\n          >\n          \n            <div\n              style={{\n                overflowY: \"auto\",\n                height: \"350px\",\n                maxHeight: \"350px\",\n                overflowX: \"hidden\",\n              }}\n            >\n              <div class=\"form-group\">\n                <label>Date de correction :</label>\n                <div>\n                  <input\n                    type=\"date\"\n                    onChange={(e) => setDateCom(e.target.value)}\n                    value={dateCom}\n                    className=\"form-control\"\n                  />\n                </div>\n              </div>\n              {type === \"credit-cva\" && (\n                <>\n                  <label>Crediteur:</label>\n                  <select\n                    className=\"form-control\"\n                    onChange={(e) => {\n                      setEmprunter(e.target.value);\n                    }}\n                  >\n                    <option value=\"\"></option>\n                    {emprunters.map((v) => (\n                      <option value={v.id}>{v.name}</option>\n                    ))}\n                  </select>\n                </>\n              )}\n              {frommagasins?.length <= 0 && (\n                <div className=\"alert alert-success \">\n                  {Lang.fromMagasin.emptyOrder}\n                </div>\n              )}\n              {frommagasins?.map((product, i) => (\n                <FromMagasinItem\n                  key={`${product?.id}_${i}`}\n                  product={product}\n                  basket={frommagasins}\n                  dispatch={dispatch}\n                />\n              ))}\n            </div>\n          </Card.Body>\n\n          {frommagasins?.length > 0 && (\n            <Card.Footer className=\"d-flex align-items-center justify-content-between\">\n              <div style={{ width: \"30%\" }}>\n               \n              </div>\n              <div style={{ width: \"70%\" }}>\n                {frommagasins.length > 0 && (\n                  <div className=\"d-flex text-right align-items-end justify-content-end\">\n                    <button\n                      className=\"btn btn-green btn-sm mr-2\"\n                      disabled={frommagasins.length === 0}\n                      onClick={onCheckOut}\n                      type=\"button\"\n                    >\n                      Valider l'operation\n                    </button>\n                    <button\n                      className=\"btn btn-danger btn-sm\"\n                      onClick={onClearBasket}\n                      type=\"button\"\n                    >\n                      <span>Annuler</span>\n                    </button>\n                  </div>\n                )}\n              </div>\n            </Card.Footer>\n          )}\n        </div>\n      </Card>\n    </>\n  );\n};\n\nexport default FromMagasin;\n","import React,{useEffect,useState,useRef} from \"react\";\nimport Content from \"../../../../@adminlte/adminlte/Content\";\nimport ActiveLink from \"../../../../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../../../../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../../../../@adminlte/adminlte/Content/Page\";\nimport ProductItem from \"./item\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Container, Row, Col, Card, ListGroup } from \"react-bootstrap\";\nimport FromMagasin from \"./FromMagasin\";\nimport { action, getData } from \"../../../../utils/lib/call\";\nimport { Link } from \"react-router-dom\";\nimport { HISTORIQUEVENTEVENDEUR } from \"../../../../constants/routes\";\nimport { fetchProductsByFournisseur } from \"../../../../store/actions/products\";\nimport { GetAll, Data } from \"../../../../context\";\nimport { Select } from \"@chakra-ui/select\";\nimport { displayDate, displayMoney } from \"../../../../utils/functions\";\nimport { getCommandeCVA } from \"../../../../store/actions/commandes\";\nimport searchByNameAndFournisseur from \"../../../../filters/searchByNameAndFournisseur\";\nimport searchByFournisseur from \"../../../../filters/searchByFournisseur\";\nimport searchByName from \"../../../../filters/searchByName\";\nimport { moment } from \"moment\";\nimport { isSpecialProductHandle } from '../fromMagasin/block-it';\nexport default function CorrectionFromMagasin() {\n    const products = useSelector(getData(\"products\").value);\n    const meta = useSelector(getData(\"products\").meta);\n    const dispatch = useDispatch();\n    const [value, setValue] = useState(\"\");\n    const [idFournisseur, setIdFournisseur] = useState(2);\n    const [regenerate, setRegenerate] = useState(false);\n    const refDateDeb = useRef(null);\n    const refDateFin = useRef(null);\n  \n    const [productData, setProductData] = useState([]);\n  \n    useEffect(() => {\n      dispatch(action(\"products\").fetch());\n    }, []);\n    useEffect(() => {\n      if (regenerate == true) {\n        dispatch(action(\"products\").fetch());\n        setRegenerate(false);\n      }\n      return () => {\n        setRegenerate(false);\n      };\n    }, [regenerate]);\n  \n    useEffect(() => {\n      if (!meta.isFetching) {\n        setProductData(products);\n      }\n    }, [meta]);\n    useEffect(() => {\n      setProductData(searchByName(products, value));\n    }, [value]);\n  \n    const calculateTotal = (arr) => {\n      if (!arr || arr?.length === 0) return 0;\n      const total = arr.reduce((acc, val) => acc + val, 0);\n      return total;\n    };\n  \n    const totalDevente = (arr) => {\n      return (\n        calculateTotal(\n          arr.map((product) => {\n            return isSpecialProductHandle(product) ? product.prixlitre * product.quantityParProduct : product.prixVente * product.quantityParProduct;\n          })\n        ) +\n        calculateTotal(\n          arr.map((product) => {\n            return product.prixParCC * product.qttByCC;\n          })\n        )\n      );\n    };\n    const recetteDuJour = (arr = []) => {\n      let filteredCommande = arr.filter(v => v.isdeleted!=true);\n      let total = 0;\n      if (commandes.length > 0) {\n        filteredCommande.map((c) => {\n          total += totalDevente(c?.contenu);\n        });\n      } else {\n        total = 0;\n      }\n  \n      return total;\n    };\n  return (\n    <Content>\n      <ContentHeader title=\"Correction\">\n        <ActiveLink title=\"Correction\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n      <Row>\n            <Col xs={6}>\n              <Card className=\"mt-2\">\n                <Card.Header className=\"bg-dark p-2 text-white d-flex text-uppercase justify-content-between align-items-center\">\n                  <div style={{ width: \"60%\" }}>Produits</div>\n                  <div>\n                    <button\n                      className=\"btn btn-green btn-sm\"\n                      onClick={() => {\n                        setValue(\"\");\n                        setRegenerate(true);\n                      }}\n                    >\n                      Mettre  jour\n                    </button>\n                  </div>\n                </Card.Header>\n                <Card.Body>\n                  <div class=\"d-flex justify-content-between align-items-center\">\n                    <input\n                      type=\"text\"\n                      onChange={(e) => {\n                        setValue(e.target.value);\n                      }}\n                      placeholder=\"Nom du produit\"\n                      className=\"form-control mb-2\"\n                    />{\" \"}\n                  </div>\n                  <ListGroup>\n                    <div\n                      style={{\n                        overflowY: \"auto\",\n                        width: \"100%\",\n                        height: \"350px\",\n                        maxHeight: \"350px\",\n                        overflowX: \"hidden\",\n                      }}\n                    >\n                      <div class=\"d-flex justify-content-start flex-wrap\">\n                        {productData\n                          .sort(\n                            (low, high) =>\n                              high.quantityBruteCVA - low.quantityBruteCVA\n                          )\n                          .map((p) => (\n                            <ProductItem product={p} />\n                          ))}\n                        {productData.length == 0 &&\n                          \"Aucune enregistrement trouv\"}\n                      </div>{\" \"}\n                    </div>\n                  </ListGroup>\n                </Card.Body>\n              </Card>\n            </Col>\n            <Col xs={6}>\n              <div className=\" py-2\">\n                <FromMagasin setRegenerate={setRegenerate} />\n              </div>\n            </Col>\n          </Row>\n      </Page>\n    </Content>\n  );\n}\n","import React, { useState, useEffect, useRef } from \"react\";\nimport Content from \"../../../../@adminlte/adminlte/Content\";\nimport ActiveLink from \"../../../../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../../../../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../../../../@adminlte/adminlte/Content/Page\";\nimport { useSelector } from \"react-redux\";\nimport { action, getData } from \"../../../../utils/lib/call\";\nimport { useDispatch } from \"react-redux\";\nimport { getCommandeVenteCorrection } from \"../../../../store/actions/commandes\";\nimport { displayDate, displayMoney } from \"../../../../utils/functions\";\nimport { Link } from \"react-router-dom\";\nimport { Container } from \"react-bootstrap\";\nimport { VENDEUR } from \"../../../../constants/routes\";\nimport moment from \"moment\";\nimport DateRangePicker from \"@wojtekmaj/react-daterange-picker/dist/DateRangePicker\";\nimport DataTable from \"../../../../utils/admin/DataTable\";\nimport { setSearchByDate } from \"../../../../store/actions/search/search\";\nimport { isSpecialProductHandle } from '../../../../store/functions/function';\nconst isModified = (contenu) => {\n  for (let i = 0; i < contenu.length; ++i) {\n    if (contenu[i].correction > 0 || contenu[i].correctionml > 0) {\n      return true;\n    } else return false;\n  }\n};\nexport const HistoriqueDeCorrection = () => {\n  const search = useSelector((state) => state.searchbydate);\n  console.log(search);\n  const [dateRange, onChangeDateRange] = useState([search.deb, search.fin]);\n  const refDateDeb = useRef(null);\n  const refDateFin = useRef(null);\n  const commandes = useSelector(getData(\"commandes\").value);\n  const meta = useSelector(getData(\"commandes\").meta);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getCommandeVenteCorrection(search.deb, search.fin));\n  }, [search.deb, search.fin]);\n  useEffect(() => {\n    if (dateRange !== null) {\n      if (dateRange[0]) {\n        dispatch(setSearchByDate(dateRange[0], dateRange[1]));\n      }\n    }\n  }, [dateRange]);\n  const calculateTotal = (arr) => {\n    if (!arr || arr?.length === 0) return 0;\n    const total = arr.reduce((acc, val) => acc + val, 0);\n    return total;\n  };\n\n  const totalDevente = (arr) => {\n    return (\n      calculateTotal(\n        arr.map((product) => {\n          return isSpecialProductHandle(product) ? product.prixlitre * product.quantityParProduct : product.prixVente * product.quantityParProduct;\n          ;\n        })\n      ) +\n      calculateTotal(\n        arr.map((product) => {\n          return product.prixParCC * product.qttByCC;\n        })\n      )\n    );\n  };\n  const recetteDuJour = (arr = []) => {\n    let filteredCommande = arr.filter(v => v.isdeleted!=true);\n    let total = 0;\n    if (commandes.length > 0) {\n      filteredCommande.map((c) => {\n        total += totalDevente(c?.contenu);\n      });\n    } else {\n      total = 0;\n    }\n\n    return total;\n  };\n  const columns = React.useMemo(\n    () => [\n      {\n        Header: \"Date\",\n        Cell: (data) => {\n          return <>{displayDate(data.row.original?.dateCom)}</>;\n        },\n      },\n      {\n        Header: \"Produits\",\n        Cell: (data) => {\n          return (\n            <div style={{ width: \"350px\" }}>\n              {data.row.original?.isdeleted == true && (\n                <>\n                  <div className=\"badge badge-danger\">Supprim</div>\n                  <div className=\"text text-danger\">\n                    Date de suppression :{\" \"}\n                    {displayDate(data.row.original?.deletedat)}\n                  </div>\n                </>\n              )}\n              {data.row.original?.isdeleted == null && (\n                <p>\n                  {isModified(data.row.original?.contenu) && (\n                    <div className=\"badge badge-warning\">Modifi</div>\n                  )}\n                </p>\n              )}\n              {data.row.original?.contenu?.map((d) => (\n                <tr>\n                  <span\n                    style={{\n                      background: \"white\",\n                      color:\n                        data.row.original?.isdeleted == true\n                          ? \"red\"\n                          : \"inherit\",\n                      padding: 2,\n                    }}\n                  >\n                    {d.name} \n                  </span>\n                  <span\n                    style={{\n                      color:\n                        data.row.original?.isdeleted == true\n                          ? \"red\"\n                          : \"inherit\",\n                    }}\n                  >\n                    {\" \"}\n                    {\"  \"}\n                  </span>\n                </tr>\n              ))}\n            </div>\n          );\n        },\n      },\n      {\n        Header: \"Actions\",\n        Cell: (data) => {\n          return (\n            <>\n              <Link\n                to={`/detailcorrection/${data.row.original?.id}`}\n                className=\"btn btn-green btn-sm mr-2\"\n              >\n                Dtails\n              </Link>\n            </>\n          );\n        },\n      },\n    ],\n    []\n  );\n\n  return (\n    <Content>\n      <ContentHeader title=\"Historique de correction\">\n        <ActiveLink title=\"Historique de correction\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n        <div className=\"row\">\n          <div className=\"col-lg-6\">\n            <div>\n              <h3 className=\"text-uppercase\">Historique de correction</h3>\n              <p>{`${displayDate(search.deb)} ->  ${displayDate(\n                search.fin\n              )}`}</p>\n            </div>\n          </div>\n          <div className=\"col-lg-6 text-right\">\n            <DateRangePicker\n              locale=\"fr-FR\"\n              onChange={onChangeDateRange}\n              value={dateRange}\n            />\n          </div>{\" \"}\n        </div>\n        <DataTable\n          data={commandes.sort((low, high) => high.id - low.id)}\n          meta={meta}\n          columns={columns}\n        />\n      </Page>\n    </Content>\n  );\n};\n","import React, { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, Redirect, useParams } from \"react-router-dom\";\nimport { useLocation } from \"react-router-dom\";\nimport NumberFormat from \"react-number-format\";\nimport { withRouter } from \"react-router-dom\";\nimport { action, getData } from \"../../../../utils/lib/call\";\nimport Content from \"../../../../@adminlte/adminlte/Content\";\nimport ActiveLink from \"../../../../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../../../../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../../../../@adminlte/adminlte/Content/Page\";\nimport { displayDate, displayMoney } from \"../../../../utils/functions\";\nimport { HISTORIQUECORRECTION } from \"../../../../constants/routes\";\nimport { isSpecialProductHandle } from \"../../../../store/functions/function\";\nimport { getCorrection } from \"../../admin/tomagasin/DepotToMagasinDetail\";\n\nconst calculateTotal = (arr) => {\n  if (!arr || arr?.length === 0) return 0;\n  const total = arr.reduce((acc, val) => acc + val, 0);\n  return total;\n};\n\nfunction DetailCorrection(props) {\n  let history = useLocation();\n  const { id } = useParams();\n  const commande = useSelector(getData(\"commandes\").value);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(action(\"commandes\").get(id));\n  }, [id]);\n  return (\n    <Content>\n      <ContentHeader title=\"Historique de correction\">\n        <ActiveLink title=\"Historique de correction\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n        <div>\n          {commande.length > 0 && (\n            <div className=\"d-flex justify-content-between\">\n              <div className=\"my-2\">\n                <h2 className=\"my-2\">\n                  Date : {displayDate(commande[0]?.dateCom)}\n                </h2>\n              </div>\n            </div>\n          )}\n          <table className=\"table table-bordered\">\n            <tr className=\"bg-thead\">\n              <td>Nom de l'article</td>\n              <td>Quantit</td>\n              <td>Sous total</td>\n            </tr>\n            {commande.length > 0 &&\n              commande[0]?.contenu.map((c) => (\n                <tr>\n                  <td style={{ width: \"40%\" }}>{c.name}</td>\n                  <>\n                  \n                  {c.qttbybrute != 0 && (\n                      <div className=\"d-flex align-items-center py-0\">\n                        <strong className=\"text-lowercase\">Depot:</strong>\n                        {displayMoney(c.prixVente)} ({\"x\"}{\" \"}\n                        {c.qttbybrute}) {\" = \"}\n                        {displayMoney(c.prixVente * c.qttbybrute)}\n                      </div>\n                    )}\n                    {isSpecialProductHandle(c) && (\n                      <>\n                        {c.qttbylitre != 0 && (\n                          <div className=\"d-flex align-items-center py-0 px-2\">\n                            <strong>Litre :</strong>\n                            {displayMoney(c.prixlitre)} ({\"x\"} {c.qttbylitre}){\" \"}\n                            {\" = \"}\n                            {displayMoney(c.prixlitre * c.qttbylitre)}\n                          </div>\n                        )}\n                      </>\n                    )}\n                    {c.quantityParProduct != 0 && (\n                      <div className=\"d-flex align-items-center py-0\">\n                        <strong className=\"text-lowercase\">{c.type}:</strong>\n                        {displayMoney(c.prixVente)} ({\"x\"}{\" \"}\n                        {c.quantityParProduct}) {\" = \"}\n                        {displayMoney(c.prixVente * c.quantityParProduct)}\n                      </div>\n                    )}\n                  </>\n\n                  {c.type == \"FLACON\" && (\n                    <>\n                      {c.qttByCC != 0 && (\n                        <div className=\"d-flex align-items-center  py-0\">\n                          <strong>ml:</strong> {displayMoney(c.prixParCC)} {\"x\"}{\" \"}\n                          {c.qttyspecificmirror != 0\n                            ? c.qttyspecificmirror + \" Dose\"\n                            : c.qttByCC + \" ml\"}{\" \"}\n                          {\" = \"} {displayMoney(c.prixParCC * c.qttByCC)}\n                        </div>\n                      )}\n                    </>\n                  )}\n                  <td>\n                    {isSpecialProductHandle(c)\n                      ? displayMoney(\n                          c.prixqttccvente *\n                            c.quantityParProduct *\n                            c.qttccpvente +\n                            c.prixlitre * c.qttbylitre +\n                            c.prixParCC * c.qttByCC\n                        )\n                      : displayMoney(\n                          c.prixVente * c.quantityParProduct +\n                            c.prixParCC * c.qttByCC\n                        )}\n                  </td>\n                </tr>\n              ))}\n          </table>\n        </div>\n      </Page>\n    </Content>\n  );\n}\n\nexport default withRouter(DetailCorrection);\n","import * as Yup from \"yup\";\nexport function validationSchema() {\n  return Yup.object().shape({\n    name: Yup.string().required(\"Le champ est requis\")\n  });\n}\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Form from \"../../../utils/form\";\nimport { FOURNISSEURS } from \"../../../constants/routes\";\nimport { validationSchema } from \"./validation\";\nimport Content from \"../../../@adminlte/adminlte/Content\";\nimport ContentHeader from \"../../../@adminlte/adminlte/Content/ContentHeader\";\nimport ActiveLink from \"../../../@adminlte/adminlte/Content/ActiveLink\";\nimport Page from \"../../../@adminlte/adminlte/Content/Page\";\nimport { action, getData } from \"../../../utils/lib/call\";\nimport { useHistory } from 'react-router-dom';\nfunction CreateFournisseur() {\n  const fournisseurs = useSelector(getData(\"fournisseurs\").value);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  return (\n    <>\n      <Content>\n        <ContentHeader title=\"Ajouter un fournisseur\">\n          <ActiveLink title=\"Ajouter un fournisseur\"></ActiveLink>\n        </ContentHeader>\n        <Page>\n          <Form\n            id=\"add-form-fournisseur\"\n            enableReinitialize\n            initialValues={{\n              name: \"\",\n            }}\n            validations={validationSchema}\n            onSubmit={(values, form) => {\n              const { name } = values;\n              dispatch(\n                action(\"fournisseurs\").create({\n                  name: name,\n                })\n              );\n              history.push(FOURNISSEURS);\n            }}\n            render={({ values }) => (\n              <Form.Element>\n                <div className=\"row\">\n                  <div className=\"col-lg-6\">\n                    <div className=\"card\">\n                      <div className=\"card-header bg-dark text-white\">\n                        Information gnrale\n                      </div>\n                      <div className=\"card-body\">\n                        <Form.Field.Input\n                          name=\"name\"\n                          label=\"Nom\"\n                          placeholder={\"Nom\"}\n                        />\n                        <div className=\"mt-3\">\n                        <button\n                          className=\"btn btn-green  btn-sm \"\n                          type=\"submit\"\n                        >\n                          Ajouter\n                        </button>\n                        <button\n                          className=\"btn btn-danger ml-2  btn-sm \"\n                          type=\"reset\"\n                        >\n                          Annuler\n                        </button></div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </Form.Element>\n            )}\n          />\n        </Page>\n      </Content>\n    </>\n  );\n}\n\nexport default CreateFournisseur;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory, useParams } from \"react-router\";\nimport Content from \"../../../@adminlte/adminlte/Content\";\nimport ActiveLink from \"../../../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../../../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../../../@adminlte/adminlte/Content/Page\";\nimport { FOURNISSEURS, PRODUCTS } from \"../../../constants/routes\";\nimport Form from \"../../../utils/form\";\nimport { action, getData } from \"../../../utils/lib/call\";\nimport { validationSchema } from \"./validation\";\nfunction EditFournisseur() {\n  const { id } = useParams();\n  const fournisseurs = useSelector(getData(\"fournisseurs\").value);\n  const meta = useSelector(getData(\"fournisseurs\").meta);\n  const [proda, setProda] = useState({\n    name: \"\",\n  });\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  const [formVal, setFormVal] = useState({});\n  useEffect(() => {\n    dispatch(action(\"fournisseurs\").fetch());\n  }, [id]);\n  useEffect(() => {\n    if (!meta.isFetching) {\n      setProda(fournisseurs?.find((p) => p.id == id));\n    }\n  }, [meta]);\n  return (\n    <Content>\n      <ContentHeader title=\"Editer un fournisseur\">\n        <ActiveLink title=\"Editer un fournisseur\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n        <Form\n          id=\"add-form-fournisseur\"\n          initialValues={{\n            name: proda.name,\n          }}\n          validations={validationSchema}\n          onSubmit={(values, form) => {\n            const { name } = values;\n            dispatch(\n              action(\"fournisseurs\").update({\n                id: proda.id,\n                name: name,\n              })\n            );\n            history.push(FOURNISSEURS);\n          }}\n          render={({ values }) => (\n            <Form.Element>\n              <div className=\"row\">\n                <div className=\"col-lg-6\">\n                  <div className=\"card\">\n                    <div className=\"card-header bg-dark text-white\">\n                      Information gnrale\n                    </div>\n                    <div className=\"card-body\">\n                      <Form.Field.Input\n                        name=\"name\"\n                        value={values?.name}\n                        label=\"Nom\"\n                        placeholder={\"Nom\"}\n                      />\n                      <div className=\"mt-3\">\n                        <button\n                          className=\"btn btn-green  btn-sm \"\n                          type=\"submit\"\n                        >\n                          Editer\n                        </button>\n                        <button\n                          className=\"btn btn-danger ml-2 btn-sm \"\n                          type=\"reset\"\n                        >\n                          Annuler\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </Form.Element>\n          )}\n        />\n      </Page>\n    </Content>\n  );\n}\n\nexport default EditFournisseur;\n","import * as Yup from \"yup\";\nexport function validationSchema() {\n  return Yup.object().shape({\n    name: Yup.string().required(\"Le champ est requis\")\n  });\n}\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Form from \"../../../utils/form\";\nimport { CATEGORIES } from \"../../../constants/routes\";\nimport { validationSchema } from \"./validation\";\nimport Content from \"../../../@adminlte/adminlte/Content\";\nimport ContentHeader from \"../../../@adminlte/adminlte/Content/ContentHeader\";\nimport ActiveLink from \"../../../@adminlte/adminlte/Content/ActiveLink\";\nimport Page from \"../../../@adminlte/adminlte/Content/Page\";\nimport { action, getData } from \"../../../utils/lib/call\";\nimport { useHistory } from 'react-router-dom';\nfunction CreateCategory() {\n  const categories = useSelector(getData(\"categories\").value);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  return (\n    <>\n      <Content>\n        <ContentHeader title=\"Ajouter un categorie\">\n          <ActiveLink title=\"Ajouter un categorie\"></ActiveLink>\n        </ContentHeader>\n        <Page>\n          <Form\n            id=\"add-form-categorie\"\n            enableReinitialize\n            initialValues={{\n              name: \"\",\n            }}\n            validations={validationSchema}\n            onSubmit={(values, form) => {\n              const { name } = values;\n              dispatch(\n                action(\"categories\").create({\n                  name: name,\n                })\n              );\n              history.push(CATEGORIES);\n            }}\n            render={({ values }) => (\n              <Form.Element>\n                <div className=\"row\">\n                  <div className=\"col-lg-6\">\n                    <div className=\"card\">\n                      <div className=\"card-header bg-dark text-white\">\n                        Information gnrale\n                      </div>\n                      <div className=\"card-body\">\n                        <Form.Field.Input\n                          name=\"name\"\n                          label=\"Nom\"\n                          placeholder={\"Nom\"}\n                        />\n                        <div className=\"mt-3\">\n                        <button\n                          className=\"btn btn-green  btn-sm \"\n                          type=\"submit\"\n                        >\n                          Ajouter\n                        </button>\n                        <button\n                          className=\"btn btn-danger ml-2  btn-sm \"\n                          type=\"reset\"\n                        >\n                          Annuler\n                        </button></div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </Form.Element>\n            )}\n          />\n        </Page>\n      </Content>\n    </>\n  );\n}\n\nexport default CreateCategory;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory, useParams } from \"react-router\";\nimport Content from \"../../../@adminlte/adminlte/Content\";\nimport ActiveLink from \"../../../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../../../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../../../@adminlte/adminlte/Content/Page\";\nimport {  CATEGORIES } from \"../../../constants/routes\";\nimport Form from \"../../../utils/form\";\nimport { action, getData } from \"../../../utils/lib/call\";\nimport { validationSchema } from \"./validation\";\nfunction EditCategorie() {\n  const { id } = useParams();\n  const categories = useSelector(getData(\"categories\").value);\n  const meta = useSelector(getData(\"categories\").meta);\n  const [proda, setProda] = useState({\n    name: \"\",\n  });\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  const [formVal, setFormVal] = useState({});\n  useEffect(() => {\n    dispatch(action(\"categories\").fetch());\n  }, [id]);\n  useEffect(() => {\n    if (!meta.isFetching) {\n      setProda(categories?.find((p) => p.id == id));\n    }\n  }, [meta]);\n  return (\n    <Content>\n      <ContentHeader title=\"Editer un categorie\">\n        <ActiveLink title=\"Editer un categorie\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n        <Form\n          id=\"add-form-categorie\"\n          initialValues={{\n            name: proda.name,\n          }}\n          validations={validationSchema}\n          onSubmit={(values, form) => {\n            const { name } = values;\n            dispatch(\n              action(\"categories\").update({\n                id: proda.id,\n                name: name,\n              })\n            );\n            history.push(CATEGORIES);\n          }}\n          render={({ values }) => (\n            <Form.Element>\n              <div className=\"row\">\n                <div className=\"col-lg-6\">\n                  <div className=\"card\">\n                    <div className=\"card-header bg-dark text-white\">\n                      Information gnrale\n                    </div>\n                    <div className=\"card-body\">\n                      <Form.Field.Input\n                        name=\"name\"\n                        value={values?.name}\n                        label=\"Nom\"\n                        placeholder={\"Nom\"}\n                      />\n                      <div className=\"mt-3\">\n                        <button\n                          className=\"btn btn-green  btn-sm \"\n                          type=\"submit\"\n                        >\n                          Editer\n                        </button>\n                        <button\n                          className=\"btn btn-danger ml-2 btn-sm \"\n                          type=\"reset\"\n                        >\n                          Annuler\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </Form.Element>\n          )}\n        />\n      </Page>\n    </Content>\n  );\n}\n\nexport default EditCategorie;\n","import * as Yup from \"yup\";\nexport function validationSchema() {\n  return Yup.object().shape({\n    name: Yup.string().required(\"Le champ est requis\")\n  });\n}\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Form from \"../../../utils/form\";\nimport { validationSchema } from \"./validation\";\nimport Content from \"../../../@adminlte/adminlte/Content\";\nimport ContentHeader from \"../../../@adminlte/adminlte/Content/ContentHeader\";\nimport ActiveLink from \"../../../@adminlte/adminlte/Content/ActiveLink\";\nimport Page from \"../../../@adminlte/adminlte/Content/Page\";\nimport { action, getData } from \"../../../utils/lib/call\";\nimport { useHistory } from \"react-router-dom\";\nfunction CreateEmprunteur() {\n  const emprunteurs = useSelector(getData(\"emprunters\").value);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  return (\n    <>\n      <Content>\n        <ContentHeader title=\"Ajouter un personne\">\n          <ActiveLink title=\"Ajouter un personne\"></ActiveLink>\n        </ContentHeader>\n        <Page>\n          <Form\n            id=\"add-form-emprunters\"\n            enableReinitialize\n            initialValues={{\n              name: \"\",\n              contact:\"\"\n            }}\n            validations={validationSchema}\n            onSubmit={(values, form) => {\n              const { name, contact } = values;\n              dispatch(\n                action(\"emprunters\").create({\n                  name: name,\n                  contact: contact,\n                })\n              );\n              history.goBack();\n            }}\n            render={({ values }) => (\n              <Form.Element>\n                <div className=\"row\">\n                  <div className=\"col-lg-6\">\n                    <div className=\"card\">\n                      <div className=\"card-header bg-dark text-white\">\n                        Information gnrale\n                      </div>\n                      <div className=\"card-body\">\n                        <Form.Field.Input\n                          name=\"name\"\n                          label=\"Nom\"\n                          placeholder={\"Nom\"}\n                        />\n                        <Form.Field.Input\n                          name=\"contact\"\n                          label=\"Tlphone\"\n                          placeholder={\"Tlphone\"}\n                        />\n                        <div className=\"mt-3\">\n                          <button\n                            className=\"btn btn-green  btn-sm \"\n                            type=\"submit\"\n                          >\n                            Ajouter\n                          </button>\n                          <button\n                            className=\"btn btn-danger ml-2  btn-sm \"\n                            type=\"reset\"\n                          >\n                            Annuler\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </Form.Element>\n            )}\n          />\n        </Page>\n      </Content>\n    </>\n  );\n}\n\nexport default CreateEmprunteur;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory, useParams } from \"react-router\";\nimport Content from \"../../../@adminlte/adminlte/Content\";\nimport ActiveLink from \"../../../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../../../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../../../@adminlte/adminlte/Content/Page\";\nimport { emprunteurs, PRODUCTS } from \"../../../constants/routes\";\nimport Form from \"../../../utils/form\";\nimport { action, getData } from \"../../../utils/lib/call\";\nimport { validationSchema } from \"./validation\";\nfunction EditEmprunter() {\n  const { id } = useParams();\n  const emprunteurs = useSelector(getData(\"emprunters\").value);\n  const meta = useSelector(getData(\"emprunters\").meta);\n  const [proda, setProda] = useState({\n    name: \"\",\n    contact:\"\"\n  });\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  const [formVal, setFormVal] = useState({});\n  useEffect(() => {\n    dispatch(action(\"emprunters\").fetch());\n  }, [id]);\n  useEffect(() => {\n    if (!meta.isFetching) {\n      setProda(emprunteurs?.find((p) => p.id == id));\n    }\n  }, [meta]);\n  return (\n    <Content>\n      <ContentHeader title=\"Editer une personne\">\n        <ActiveLink title=\"Editer une personne\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n        <Form\n          id=\"add-form-emprunteur\"\n          initialValues={{\n            name: proda?.name,\n            contact: proda?.contact,\n          }}\n          validations={validationSchema}\n          onSubmit={(values, form) => {\n            const { name,contact } = values;\n            dispatch(\n              action(\"emprunters\").update({\n                id: proda.id,\n                name: name,\n                contact: contact,\n              })\n            );\n            history.goBack();\n          }}\n          render={({ values }) => (\n            <Form.Element>\n              <div className=\"row\">\n                <div className=\"col-lg-6\">\n                  <div className=\"card\">\n                    <div className=\"card-header bg-dark text-white\">\n                      Information gnrale\n                    </div>\n                    <div className=\"card-body\">\n                      <Form.Field.Input\n                        name=\"name\"\n                        value={values?.name}\n                        label=\"Nom\"\n                        placeholder={\"Nom\"}\n                      />\n                      <Form.Field.Input\n                        name=\"contact\"\n                        value={values?.contact}\n                        label=\"Tlphone\"\n                        placeholder={\"Tlphone\"}\n                      />\n                      <div className=\"mt-3\">\n                        <button\n                          className=\"btn btn-green  btn-sm \"\n                          type=\"submit\"\n                        >\n                          Editer\n                        </button>\n                        <button\n                          className=\"btn btn-danger ml-2 btn-sm \"\n                          type=\"reset\"\n                        >\n                          Annuler\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </Form.Element>\n          )}\n        />\n      </Page>\n    </Content>\n  );\n}\n\nexport default EditEmprunter;\n","import * as Yup from \"yup\";\nexport function validationSchema() {\n  return Yup.object().shape({\n    name: Yup.string().required(\"Le champ est requis\")\n  });\n}\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Form from \"../../../utils/form\";\nimport { validationSchema } from \"./validation\";\nimport Content from \"../../../@adminlte/adminlte/Content\";\nimport ContentHeader from \"../../../@adminlte/adminlte/Content/ContentHeader\";\nimport ActiveLink from \"../../../@adminlte/adminlte/Content/ActiveLink\";\nimport Page from \"../../../@adminlte/adminlte/Content/Page\";\nimport { action, getData } from \"../../../utils/lib/call\";\nimport { useHistory } from \"react-router-dom\";\nfunction CreateVaccinateur() {\n  const vaccinateurs = useSelector(getData(\"vaccinateurs\").value);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  return (\n    <>\n      <Content>\n        <ContentHeader title=\"Ajouter un vaccinateur\">\n          <ActiveLink title=\"Ajouter un vaccinateur\"></ActiveLink>\n        </ContentHeader>\n        <Page>\n          <Form\n            id=\"add-form-vaccinateurs\"\n            enableReinitialize\n            initialValues={{\n              name: \"\",\n              contact:\"\"\n            }}\n            validations={validationSchema}\n            onSubmit={(values, form) => {\n              const { name, contact } = values;\n              dispatch(\n                action(\"vaccinateurs\").create({\n                  name: name,\n                  contact: contact,\n                })\n              );\n              history.goBack();\n            }}\n            render={({ values }) => (\n              <Form.Element>\n                <div className=\"row\">\n                  <div className=\"col-lg-6\">\n                    <div className=\"card\">\n                      <div className=\"card-header bg-dark text-white\">\n                        Information gnrale\n                      </div>\n                      <div className=\"card-body\">\n                        <Form.Field.Input\n                          name=\"name\"\n                          label=\"Nom\"\n                          placeholder={\"Nom\"}\n                        />\n                        <Form.Field.Input\n                          name=\"contact\"\n                          label=\"Tlphone\"\n                          placeholder={\"Tlphone\"}\n                        />\n                        <div className=\"mt-3\">\n                          <button\n                            className=\"btn btn-green  btn-sm \"\n                            type=\"submit\"\n                          >\n                            Ajouter\n                          </button>\n                          <button\n                            className=\"btn btn-danger ml-2  btn-sm \"\n                            type=\"reset\"\n                          >\n                            Annuler\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </Form.Element>\n            )}\n          />\n        </Page>\n      </Content>\n    </>\n  );\n}\n\nexport default CreateVaccinateur;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory, useParams } from \"react-router\";\nimport Content from \"../../../@adminlte/adminlte/Content\";\nimport ActiveLink from \"../../../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../../../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../../../@adminlte/adminlte/Content/Page\";\nimport Form from \"../../../utils/form\";\nimport { action, getData } from \"../../../utils/lib/call\";\nimport { validationSchema } from \"./validation\";\nfunction EditVaccinateur() {\n  const { id } = useParams();\n  const vaccinateurs = useSelector(getData(\"vaccinateurs\").value);\n  const meta = useSelector(getData(\"vaccinateurs\").meta);\n  const [proda, setProda] = useState({\n    name: \"\",\n    contact: \"\",\n  });\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  const [formVal, setFormVal] = useState({});\n  useEffect(() => {\n    dispatch(action(\"vaccinateurs\").fetch());\n  }, [id]);\n  useEffect(() => {\n    if (!meta.isFetching) {\n      setProda(vaccinateurs?.find((p) => p.id == id));\n    }\n  }, [meta]);\n  return (\n    <Content>\n      <ContentHeader title=\"Editer un vaccinateur\">\n        <ActiveLink title=\"Editer un vaccinateur\"></ActiveLink>\n      </ContentHeader>\n      <Page>\n        <Form\n          id=\"add-form-vaccinateur\"\n          initialValues={{\n            name: proda.name,\n            contact: proda.contact,\n          }}\n          validations={validationSchema}\n          onSubmit={(values, form) => {\n            const { name, contact } = values;\n            dispatch(\n              action(\"vaccinateurs\").update({\n                id: proda.id,\n                name: name,\n                contact: contact,\n              })\n            );\n            history.goBack();\n          }}\n          render={({ values }) => (\n            <Form.Element>\n              <div className=\"row\">\n                <div className=\"col-lg-6\">\n                  <div className=\"card\">\n                    <div className=\"card-header bg-dark text-white\">\n                      Information gnrale\n                    </div>\n                    <div className=\"card-body\">\n                      <Form.Field.Input\n                        name=\"name\"\n                        value={values?.name}\n                        label=\"Nom\"\n                        placeholder={\"Nom\"}\n                      />\n                      <Form.Field.Input\n                        name=\"contact\"\n                        value={values?.contact}\n                        label=\"Tlphone\"\n                        placeholder={\"Tlphone\"}\n                      />\n                      <div className=\"mt-3\">\n                        <button\n                          className=\"btn btn-green  btn-sm \"\n                          type=\"submit\"\n                        >\n                          Editer\n                        </button>\n                        <button\n                          className=\"btn btn-danger ml-2 btn-sm \"\n                          type=\"reset\"\n                        >\n                          Annuler\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </Form.Element>\n          )}\n        />\n      </Page>\n    </Content>\n  );\n}\n\nexport default EditVaccinateur;\n","import React, { useEffect } from \"react\";\nimport { Col, ListGroup, Row } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport useFromMagasin from \"../../../../hooks/useFromMagasin\";\nimport { displayMoney } from \"../../../../utils/functions\";\nimport { isSpecialProductHandle } from \"../../../../store/functions/function\";\nimport { isBlocked } from \"./block-it\";\nconst ProductItem = ({ product }) => {\n  const frommagasins = useSelector((state) => state.frommagasins);\n  const dispatch = useDispatch();\n  const { isItemFromMagasin, addFromMagasin } = useFromMagasin(\n    frommagasins,\n    dispatch\n  );\n\n  const itemOnBasket = isItemFromMagasin\n    ? isItemFromMagasin(product.id)\n    : false;\n  /* useEffect(()=>{\n    if(!itemOnBasket){\n      product.qttByCC =0;\n      product.quantityParProduct=0;\n    }\n  },[itemOnBasket])*/\n  const handleAddToBasket = () => {\n    if (addFromMagasin) addFromMagasin(product);\n  };\n  const isEmptyBrute = React.useCallback(() => {\n    if (product.quantityBruteCVA > 15 && product.quantityBruteCVA <= 20) {\n      return \"yellow\";\n    }\n    if (product.quantityBruteCVA > 10 && product.quantityBruteCVA <= 15) {\n      return \"#ffdb4c\";\n    }\n    if (product.quantityBruteCVA > 5 && product.quantityBruteCVA <= 10) {\n      return \" orange\";\n    }\n    if (product.quantityBruteCVA > 0 && product.quantityBruteCVA <= 5) {\n      return \"#c44e14b8\";\n    }\n    if (product.quantityBruteCVA == 0) {\n      return \"red\";\n    } else {\n      return \"green\";\n    }\n  }, [product]);\n  const isEmptyCC = React.useCallback(() => {\n    if (product.quantityCCCVA > 15 && product.quantityCCCVA <= 20) {\n      return \"yellow\";\n    }\n    if (product.quantityCCCVA > 10 && product.quantityCCCVA <= 15) {\n      return \"#ffdb4c\";\n    }\n    if (product.quantityCCCVA > 5 && product.quantityCCCVA <= 10) {\n      return \" orange\";\n    }\n    if (product.quantityCCCVA > 0 && product.quantityCCCVA <= 5) {\n      return \"#c44e14b8\";\n    }\n    if (product.quantityCCCVA == 0) {\n      return \"red\";\n    } else {\n      return \"green\";\n    }\n\n    const isEmptyCondVal = React.useCallback(() => {\n      if (product.condval == 0) {\n        return \"red\";\n      } else {\n        return \"green\";\n      }\n    }, [product]);\n  }, [product]);\n  const disable = React.useCallback(() => {\n    if (isSpecialProductHandle(product)) {\n      if (\n        product.quantityBruteCVA == 0 &&\n        (product.quantityCCCVA == 0 || product.quantityCCCVA == null) &&\n        product.condval == 0\n      ) {\n        return true;\n      } else {\n        return false;\n      }\n    } else {\n      if (\n        product.quantityBruteCVA == 0 &&\n        (product.quantityCCCVA == 0 || product.quantityCCCVA == null)\n      ) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  }, [product]);\n  return (\n    <>\n      <ListGroup.Item\n        className=\"mb-2 mr-3\"\n        style={{\n          width: \"100%\",\n          border: \"1px solid gray\",\n          background: \"whitesmoke\",\n          borderLeft: `10px solid ${isEmptyBrute()}`,\n        }}\n      >\n        <div className=\"d-flex justify-content-between align-items-center\">\n          <div\n            className={` ${!product.id ? \"product-loading\" : \"\"}`}\n            style={{\n              boxShadow:\n                product && itemOnBasket\n                  ? \"15px 10px 15px rgba(0, 0, 0, .07)\"\n                  : \"none\",\n            }}\n          >\n            <div\n              style={{\n                width: 10,\n                height: 4,\n                background: `${isEmptyCC()}`,\n              }}\n            ></div>\n          \n            <div>\n              <div>{product.name}</div>\n              <div class=\"badge badge-primary\">\n                {product?.fournisseur?.name}\n              </div>\n              <br />\n              {/**    <strong>\n              {product.type}:{product.quantityBruteCVA}\n\n             \n            </strong>\n            <br />\n            {product.type == \"FLACON\" && (\n              <>\n                <strong>ML: {product.quantityCCCVA} ml</strong>\n                <br />\n                \n              </>           disabled={ \n              product.quantityBruteCVA === 0 && (product.quantityCCCVA == 0 || product.quantityCCCVA == null) && product.condval==0\n            }\n            )}\n            <strong>CondML: {product.condml}- Condval:{product.condval}</strong> */}\n            </div>{\" \"}\n          </div>\n          <div>\n            {product.id && (\n              <>\n                <button\n                  disabled={isBlocked(product)}\n                  className={`mt-3 ${\n                    itemOnBasket\n                      ? \"btn btn-danger btn-sm\"\n                      : \"btn btn-green btn-sm\"\n                  }`}\n                  onClick={handleAddToBasket}\n                >\n                  {!itemOnBasket ? \"Ajouter\" : \"Retirer\"}\n                </button>\n              </>\n            )}\n          </div>\n        </div>\n      </ListGroup.Item>\n    </>\n  );\n};\n\nexport default React.memo(ProductItem);\n","import React, { useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  addQtyFromMagasinItem,\n  minusQtyFromMagasinItem,\n  setQtyFromMagasinItem,\n} from \"../../../../store/frommagasin/actions/frommagasin\";\n\nimport {\n  canBuyCCFromCva,\n  hasCondVal,\n} from \"../../../../store/functions/function\";\n\nimport {\n  NumberInput,\n  NumberInputField,\n  NumberInputStepper,\n  NumberIncrementStepper,\n  NumberDecrementStepper,\n} from \"@chakra-ui/react\";\n\nconst FromMagasinItemControl = ({\n  product,\n  setRealQtt,\n  maxRealQtt,\n  realQtt,\n}) => {\n  const dispatch = useDispatch();\n  const onAddQtyBrute = (value) => {\n    dispatch(setQtyFromMagasinItem(product.id, value));\n  };\n  function copy(object) {\n    var output, value, key;\n    output = Array.isArray(object) ? [] : {};\n    for (key in object) {\n      value = object[key];\n      output[key] = typeof value === \"object\" ? copy(value) : value;\n    }\n    return output;\n  }\n\n  return (\n    <div className=\"basket-item-control\">\n    \n      <NumberInput\n        inputMode={\"numeric\"}\n        w={28}\n        bg={\"whitesmoke\"}\n        min={0}\n        value={realQtt}\n        defaultValue={product?.quantityParProduct}\n        onChange={(value) => {\n          if ((value == \"\")) {\n            setRealQtt(0);\n            onAddQtyBrute(0);\n          } else {\n            setRealQtt(value);\n            onAddQtyBrute(value);\n          }\n        }}\n      //  max={maxRealQtt}\n      >\n        <NumberInputField />\n        <NumberInputStepper>\n          <NumberIncrementStepper />\n          <NumberDecrementStepper />\n        </NumberInputStepper>\n      </NumberInput>\n\n    </div>\n  );\n};\nexport default FromMagasinItemControl;\n","import React, { useEffect, useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  addQtyFromMagasinPortionItem,\n  minusQtyFromMagasinPortionItem,\n} from \"../../../../store/frommagasin/actions/frommagasin\";\nimport {\n  NumberInput,\n  NumberInputField,\n  NumberInputStepper,\n  NumberIncrementStepper,\n  NumberDecrementStepper,\n} from \"@chakra-ui/react\";\n\nconst FromMagasinItemPartial = ({\n  product,\n  setRealQttCC,\n  setRealQtt,\n  setMaxRealQttCC,\n  maxRealQttCC,\n  realQtt,\n  realQttCC,\n}) => {\n  const dispatch = useDispatch();\n  const ref = useRef();\n  const { frommagasins } = useSelector((state) => ({\n    frommagasins: state.frommagasins,\n  }));\n\n  const onAddQtyPortion = (value) => {\n    dispatch(addQtyFromMagasinPortionItem(product.id, value));\n  };\n  return (\n    <div className=\"basket-item-control\">\n      <NumberInput\n        inputMode={\"numeric\"}\n        w={28}\n        bg={\"whitesmoke\"}\n        onChange={(value) => {\n         // setRealQttCC(value);\n          if (value == \"\") {\n            onAddQtyPortion(0);\n            setRealQttCC(0);\n          } else {\n            setRealQttCC(value * 1);\n            onAddQtyPortion(value * 1);\n          }\n       \n        }}\n        min={0}\n        value={realQttCC}\n        defaultValue={product?.qttByCC}\n       // max={maxRealQttCC}\n      >\n        <NumberInputField />\n        <NumberInputStepper>\n          <NumberIncrementStepper />\n          <NumberDecrementStepper />\n        </NumberInputStepper>\n      </NumberInput>\n      {/*<button\n        className=\"btn btn-dark btn-sm\"\n        data-testid=\"from-magasin-item-partial-plus\"\n        disabled={\n          Number(product.qttByCC) == Number(product.doseDefault - 1) ||\n          (product.quantityParProduct == product.quantityBruteCVA &&\n            product.quantityCCCVA == 0)\n        }\n        onClick={onAddQtyPortion}\n        type=\"button\"\n      >\n        +\n      </button>\n      <span className=\"mx-1\" data-testid=\"counter-partial\">{product.qttByCC}</span>\n      <button\n        className=\"btn btn-dark btn-sm\"\n        data-testid=\"from-magasin-item-partial-minus\"\n        disabled={product.qttByCC == 0}\n        onClick={onMinusQtyPortiion}\n        type=\"button\"\n      >\n        -\n      </button>*/}\n    </div>\n  );\n};\nexport default FromMagasinItemPartial;\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { setQtyLitreFromMagasinItem } from \"../../../../store/frommagasin/actions/frommagasin\";\n\nimport {\n  NumberInput,\n  NumberInputField,\n  NumberInputStepper,\n  NumberIncrementStepper,\n  NumberDecrementStepper,\n} from \"@chakra-ui/react\";\n\nconst FromMagasinItemLitre = ({\n  product,\n  setRealQttLitre,\n  realQttLitre,\n  maxRealQttByLitre,\n}) => {\n  const dispatch = useDispatch();\n  const onAddQtyBrute = (value) => {\n    dispatch(setQtyLitreFromMagasinItem(product.id, value));\n  };\n\n  return (\n    <div className=\"basket-item-control\">\n      <NumberInput\n        inputMode={\"numeric\"}\n        w={28}\n        step={1}\n        bg={\"whitesmoke\"}\n        min={0}\n        value={realQttLitre}\n        defaultValue={0}\n        onChange={(value) => {\n          if (value == \"\") {\n            setRealQttLitre(0);\n            onAddQtyBrute(0);\n          } else {\n            setRealQttLitre(Number(value));\n            onAddQtyBrute(Number(value));\n          }\n        }}\n        max={maxRealQttByLitre}\n      >\n        <NumberInputField />\n        <NumberInputStepper>\n          <NumberIncrementStepper />\n          <NumberDecrementStepper />\n        </NumberInputStepper>\n      </NumberInput>\n    </div>\n  );\n};\nexport default FromMagasinItemLitre;\n","import React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport FromMagasinItemControl from \"./FromMagasinItemControl\";\nimport FromMagasinItemPartial from \"./FromMagasinItemPartial\";\nimport { displayMoney, checkHasExistText } from \"../../../../utils/functions\";\nimport { ItaNewInputDose } from \"./ItaNewInputDose\";\nimport { PhytoConditionnementInput } from \"./PhytoConditionnementInput\";\nimport { SovaxInputDose } from \"./SovaxInputDose\";\nimport useFromMagasin from \"../../../../hooks/useFromMagasin\";\nimport FromMagasinItemLitre from \"./FromMagasinItemLitre\";\nimport { isSpecialProductHandle, blockItOnSold } from \"./block-it\";\nconst FromMagasinItem = ({ product }) => {\n  const [realQttCC, setRealQttCC] = useState(product?.qttByCC);\n  const [realQtt, setRealQtt] = useState(product?.quantityParProduct);\n  const [realQttLitre, setRealQttLitre] = useState(0);\n  const [maxRealQtt, setMaxRealQtt] = useState(2000);\n  const [maxRealQttCC, setMaxRealQttCC] = useState(2000);\n  const [maxRealQttByLitre, setMaxRealQttByLitre] = useState(2000);\n  const frommagasins = useSelector((state) => state.frommagasins);\n  const dispatch = useDispatch();\n  const { isItemFromMagasin, addFromMagasin } = useFromMagasin(\n    frommagasins,\n    dispatch\n  );\n  useEffect(() => {\n    /**  if (realQttCC > 2) {\n      alert(\"attention c'est la merte\");\n      setMaxRealQtt(2);\n      setMaxRealQttCC(10);\n      setRealQttCC(10);\n      setRealQtt(1);\n      setRealQttLitre(1);\n      setMaxRealQttByLitre(1);\n    }\n    console.log(\"qtt\", realQtt);\n    console.log(\"qttv\", realQttCC);\n    console.log(\"condval\", realQttLitre); */\n\n    const { normalQtt, normalQttCC, normalQttLitre, isSpecific, isValid } =\n      blockItOnSold(realQtt, realQttCC, realQttLitre, product);\n    // console.log(product);\n    if (!isValid) {\n      alert(\"stock insuffisant :(\");\n      if (!isSpecific) {\n        setRealQtt(normalQtt);\n        setMaxRealQtt(normalQtt);\n        setRealQttCC(normalQttCC);\n        setMaxRealQttCC(normalQttCC);\n      } else {\n        setRealQttLitre(normalQttLitre);\n        setMaxRealQttByLitre(normalQttLitre);\n        setRealQtt(normalQtt);\n        setMaxRealQtt(normalQtt);\n        setRealQttCC(normalQttCC);\n        setMaxRealQttCC(normalQttCC);\n      }\n    }\n  }, [realQtt, realQttCC, realQttLitre]);\n  const itemOnBasket = isItemFromMagasin\n    ? isItemFromMagasin(product.id)\n    : false;\n  const handleAddToBasket = () => {\n    if (addFromMagasin) addFromMagasin(product);\n  };\n\n  return (\n    <div>\n      <div className=\"d-flex justify-content-between align-items-center border   mb-2 p-2\">\n        <div style={{ width: \"45%\" }}>\n          <p className=\"text-blue\">{product.name}</p>\n          {isSpecialProductHandle(product) ? (\n            <>\n              <p className=\"text-lowercase\">\n                <strong>\n                  {product.qttbylitre != 0 && (\n                    <span style={{ marginRight: \"30px\" }}>\n                      {displayMoney(product.prixlitre) +\n                        \" x \" +\n                        product.qttbylitre +\n                        \" Litre(s)\"}\n                    </span>\n                  )}\n                </strong>\n              </p>\n              <p className=\"text-lowercase\">\n                <strong>\n                  {product.quantityParProduct != 0 && (\n                    <span style={{ marginRight: \"30px\" }}>\n                      {displayMoney(\n                        product.prixqttccvente * product.qttccpvente\n                      ) +\n                        \" x \" +\n                        product.quantityParProduct +\n                        \" \" +\n                        product.type}\n                    </span>\n                  )}\n                </strong>\n              </p>\n            </>\n          ) : (\n            <p className=\"text-lowercase\">\n              <strong>\n                {product.quantityParProduct != 0 && (\n                  <span style={{ marginRight: \"30px\" }}>\n                    {displayMoney(product.prixVente) +\n                      \" x \" +\n                      product.quantityParProduct +\n                      \" \" +\n                      product.type}\n                  </span>\n                )}\n              </strong>\n            </p>\n          )}\n\n          <p className=\"text-lowercase\">\n            <strong>\n              {product.qttByCC != 0 && (\n                <span style={{ marginRight: \"30px\" }}>\n                  {displayMoney(product.prixParCC) +\n                    \" x \" +\n                    product.qttByCC +\n                    \" ML\"}\n                </span>\n              )}\n            </strong>\n          </p>\n        </div>\n        {product.condml !== 0 && product.qttccpvente !== 0 && (\n          <div className=\"text-inline text-center mr-3\">\n            <h5 className=\"mb-1 text-uppercase\">Litre</h5>\n            <FromMagasinItemLitre\n              product={product}\n              setRealQttLitre={setRealQttLitre}\n              realQttLitre={realQttLitre}\n              maxRealQttByLitre={maxRealQttByLitre}\n            />{\" \"}\n          </div>\n        )}\n        <div className=\"text-inline text-center mr-2\">\n          <h5 className=\"mb-1\">{product.type}</h5>\n\n          <FromMagasinItemControl\n            product={product}\n            setRealQtt={setRealQtt}\n            setMaxRealQtt={setMaxRealQtt}\n            maxRealQtt={maxRealQtt}\n            realQtt={realQtt}\n          />\n        </div>\n        {product.type === \"FLACON\" && (\n          <div className=\"text-inline text-center\">\n            <h5 className=\"mb-1\">{product.categoryId == 3 ? \"DOSE\" : \"ML\"}</h5>\n            {checkHasExistText(product.name, \"ita new\") && (\n              <ItaNewInputDose\n                product={product}\n                setRealQttCC={setRealQttCC}\n                realQttCC={realQttCC}\n              />\n            )}\n            {checkHasExistText(product.name, \"sovax\") && (\n              <SovaxInputDose\n                setRealQttCC={setRealQttCC}\n                realQttCC={realQttCC}\n                product={product}\n              />\n            )}\n            {product.condml == 0 &&\n              product.qttccpvente == 0 &&\n              !checkHasExistText(product.name, \"sovax\") &&\n              !checkHasExistText(product.name, \"ita new\") && (\n                <FromMagasinItemPartial\n                  setRealQttCC={setRealQttCC}\n                  realQttCC={realQttCC}\n                  maxRealQttCC={maxRealQttCC}\n                  product={product}\n                />\n              )}\n            {product.condml !== 0 && product.qttccpvente !== 0 && (\n              <PhytoConditionnementInput\n                product={product}\n                setRealQttCC={setRealQttCC}\n                realQttCC={realQttCC}\n                maxRealQttCC={maxRealQttCC}\n              />\n            )}\n          </div>\n        )}\n\n        <div className=\"ml-2\">\n          {itemOnBasket && (\n            <button\n              onClick={handleAddToBasket}\n              className=\"btn btn-danger btn-xs text-right\"\n            >\n              X\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FromMagasinItem;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n//import useModal from '../../hooks/useModal';\nimport { Link } from \"react-router-dom\";\nimport FromMagasinItem from \"./FromMagasinItem\";\nimport { Card } from \"react-bootstrap\";\nimport { clearFromMagasin } from \"../../../../store/frommagasin/actions/frommagasin\";\nimport { action, getData } from \"../../../../utils/lib/call\";\nimport { displayMoney, checkHasExistText } from \"../../../../utils/functions\";\nimport { CREDIT_VENDEUR, HISTORIQUEVENTEVENDEUR } from \"../../../../constants/routes\";\nimport { useHistory } from \"react-router-dom\";\nimport Lang from \"../../../../constants/lang\";\nimport {\n  handleSoldQuantityCC,\n  handleMinusProduct,\n  isSpecialProductHandle,\n  handlePhtyoSpecific,\n  handleMinusCondML,\n} from \"../../../../store/functions/function\";\nimport { resetSearchByDate } from \"../../../../store/actions/search/search\";\nimport { locked } from \"./block-it\";\nimport { buy } from \"./buy-it\";\nconst calculateTotal = (arr) => {\n  if (!arr || arr?.length === 0) return 0;\n  const total = arr.reduce((acc, val) => acc + val, 0);\n  return total;\n};\n\nconst FromMagasin = () => {\n  const [type, setType] = useState(\"vente-cva\");\n  const [vaccinateurId, setVaccinateurId] = useState(null);\n  const [emprunter, setEmprunter] = useState(null);\n  const history = useHistory();\n\n  const { frommagasins } = useSelector((state) => ({\n    frommagasins: state.frommagasins,\n  }));\n  const dispatch = useDispatch();\n  const emprunters = useSelector(getData(\"emprunters\").value);\n  const [IsInvalid, setIsInvalid] = useState(false);\n  const date = new Date();\n  const [dateCom, setDateCom] = useState(date);\n  useEffect(() => {\n    dispatch(action(\"emprunters\").fetch());\n  }, []);\n\n  const onCheckOut = () => {\n    if (!locked(frommagasins)) {\n      frommagasins.forEach((element) => {\n        /** if (isSpecialProductHandle(element)) {\n          handleMinusCondML(element);\n        } else {\n          //  handleMinusProduct(element);\n          handleSoldQuantityCC(element);\n        } */\n        buy(element);\n      });\n      dispatch(\n        action(\"commandes\").createTransaction(\n          {\n            id: Math.floor(Date.now() / 1000),\n            contenu: frommagasins,\n            type: type,\n            sorte: \"sortie\",\n            vaccinateurId: vaccinateurId,\n            status: type === \"vente-cva\" ? true : false,\n            emprunterId: emprunter,\n            dateCom: dateCom != null ? dateCom : date,\n          },\n          \"add-from-magasin\"\n        )\n      );\n      dispatch(clearFromMagasin());\n      history.push('/historique/vente/vendeur/vente-cva');\n    } else {\n      alert(\"commande non-conforme,veuillez verifier!!\");\n    }\n  };\n\n  const onClearBasket = () => {\n    frommagasins.forEach((element) => {\n      element.quantityParProduct = 0;\n      element.qttByCC = 0;\n    });\n    dispatch(resetSearchByDate());\n    dispatch(clearFromMagasin());\n  };\n\n  return (\n    <>\n      <Card>\n        <Card.Header className=\" bg-dark py-2 text-white d-flex justify-content-between align-items-center\">\n          <div style={{ width: \"60%\" }}>\n            BON DE SORTIE (\n            {` ${frommagasins?.length} ${\n              frommagasins?.length > 1 ? \"articles\" : \"article\"\n            }`}\n            )\n          </div>\n          <div style={{ width: \"40%\" }} className=\"text-right\">\n            <select\n              className=\"form-control input-sm\"\n              onChange={(e) => {\n                setType(e.target.value);\n              }}\n            >\n              <option value=\"vente-cva\" selected>\n                Comptant\n              </option>\n              <option value=\"credit-cva\">Credit</option>\n            </select>\n          </div>\n        </Card.Header>\n        <div className=\"commande-vente\">\n          <Card.Body\n            style={{ padding: 2, marginTop: 3, marginRight: 2, marginLeft: 2 }}\n          >\n            <div className=\"d-flex justify-content-end\">\n              <Link className=\"btn btn-danger mb-2 mr-2 btn-sm\" to={`/historique/vente/vendeur/credit-cva`}>\n                CREDITS\n              </Link>\n              <Link\n                className=\"btn btn-primary mb-2 btn-sm text-uppercase\"\n                to={`/historique/vente/vendeur/vente-cva`}\n              >\n                Voir l'historique de vente\n              </Link>\n            </div>\n            <div\n              style={{\n                overflowY: \"auto\",\n                height: \"350px\",\n                maxHeight: \"350px\",\n                overflowX: \"hidden\",\n              }}\n            >\n              <div class=\"form-group\">\n                <label>Date de sortie :</label>\n                <div>\n                  <input\n                    type=\"date\"\n                    onChange={(e) => setDateCom(e.target.value)}\n                    value={dateCom}\n                    className=\"form-control\"\n                  />\n                </div>\n              </div>\n              {type === \"credit-cva\" && (\n                <>\n                  <label>Crediteur:</label>\n                  <select\n                    className=\"form-control\"\n                    onChange={(e) => {\n                      setEmprunter(e.target.value);\n                    }}\n                  >\n                    <option value=\"\"></option>\n                    {emprunters.map((v) => (\n                      <option value={v.id}>{v.name}</option>\n                    ))}\n                  </select>\n                </>\n              )}\n              {frommagasins?.length <= 0 && (\n                <div className=\"alert alert-success \">\n                  {Lang.fromMagasin.emptyOrder}\n                </div>\n              )}\n              {frommagasins?.map((product, i) => (\n                <FromMagasinItem\n                  key={`${product?.id}_${i}`}\n                  product={product}\n                  basket={frommagasins}\n                  dispatch={dispatch}\n                />\n              ))}\n            </div>\n          </Card.Body>\n\n          {frommagasins?.length > 0 && (\n            <Card.Footer className=\"d-flex align-items-center justify-content-between\">\n              <div style={{ width: \"40%\" }}>\n                <h2 className=\"p-2 text-uppercase bg-primary\">\n                  <strong data-test-id=\"total-price-orders\">\n                    Total:\n                    {displayMoney(\n                      calculateTotal(\n                        frommagasins.map((product) => {\n                          return isSpecialProductHandle(product)\n                            ? product.prixqttccvente *\n                                product.quantityParProduct *\n                                product.qttccpvente +\n                                product.prixlitre * product.qttbylitre\n                            : product.prixVente * product.quantityParProduct;\n                        })\n                      ) +\n                        calculateTotal(\n                          frommagasins.map((product) => {\n                            return product.prixParCC * product.qttByCC;\n                          })\n                        )\n                    )}\n                  </strong>\n                </h2>\n              </div>\n              <div style={{ width: \"60%\" }}>\n                {frommagasins.length > 0 && (\n                  <div className=\"d-flex text-right align-items-end justify-content-end\">\n                    <button\n                      className=\"btn btn-green btn-sm mr-2\"\n                      disabled={frommagasins.length === 0}\n                      onClick={onCheckOut}\n                      type=\"button\"\n                    >\n                      Valider l'operation\n                    </button>\n                    <button\n                      className=\"btn btn-danger btn-sm\"\n                      onClick={onClearBasket}\n                      type=\"button\"\n                    >\n                      <span>Annuler</span>\n                    </button>\n                  </div>\n                )}\n              </div>\n            </Card.Footer>\n          )}\n        </div>\n      </Card>\n    </>\n  );\n};\n\nexport default FromMagasin;\n","import React, { useEffect, useState } from \"react\";\nimport { displayDate } from '../../../../utils/functions';\nimport { reactFastCompare } from 'react-fast-compare';\nconst date = new Date();\nfunction Horloge() {\n  const [dateTime, setDateTime] = useState({\n    hours: date.getHours(),\n    minutes: date.getMinutes(),\n    seconds: date.getSeconds(),\n  });\n  useEffect(() => {\n    const timer = setInterval(() => {\n      const date = new Date();\n      setDateTime({\n        hours: date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours(),\n        minutes:\n          date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes(),\n        seconds:\n          date.getSeconds() < 10 ? \"0\" + date.getSeconds() : date.getSeconds(),\n      });\n    }, 1000);\n    return () => clearInterval(timer);\n  }, []);\n  return (\n    <div className=\"bg-dark py-1 px-4 text-center\">\n      <h1 style={{ fontSize: \"20px\" }} >\n        {dateTime.hours} : {dateTime.minutes} : {dateTime.seconds}\n      </h1>\n      <h4 className=\"bg-thead p-1\">{displayDate(date)}</h4>\n    </div>\n  );\n}\nexport default React.memo(Horloge,reactFastCompare);","import React, { useEffect, useState, useRef } from \"react\";\nimport ProductItem from \"./item\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Container, Row, Col, Card, ListGroup } from \"react-bootstrap\";\nimport FromMagasin from \"./FromMagasin\";\nimport ActiveLink from \"../../../../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../../../../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../../../../@adminlte/adminlte/Content/Page\";\nimport Content from \"../../../../@adminlte/adminlte/Content\";\nimport { action, getData } from \"../../../../utils/lib/call\";\nimport { Link } from \"react-router-dom\";\nimport { HISTORIQUEVENTEVENDEUR } from \"../../../../constants/routes\";\nimport { fetchProductsByFournisseur } from \"../../../../store/actions/products\";\nimport { GetAll, Data } from \"../../../../context\";\nimport { Select } from \"@chakra-ui/select\";\nimport { displayDate, displayMoney } from \"../../../../utils/functions\";\nimport { getCommandeCVA } from \"../../../../store/actions/commandes\";\nimport Horloge from \"./Horloge\";\nimport searchByNameAndFournisseur from \"../../../../filters/searchByNameAndFournisseur\";\nimport searchByFournisseur from \"../../../../filters/searchByFournisseur\";\nimport searchByName from \"../../../../filters/searchByName\";\nimport { moment } from \"moment\";\nimport { clearFromMagasin } from \"../../../../store/frommagasin/actions/frommagasin\";\nimport { isBlocked } from \"./block-it\";\nconst Products = () => {\n  const products = useSelector(getData(\"products\").value);\n  const meta = useSelector(getData(\"products\").meta);\n  const dispatch = useDispatch();\n  const [value, setValue] = useState(\"\");\n  const [idFournisseur, setIdFournisseur] = useState(2);\n  const [regenerate, setRegenerate] = useState(false);\n  const refDateDeb = useRef(null);\n  const refDateFin = useRef(null);\n\n  const [productData, setProductData] = useState([]);\n\n  useEffect(() => {\n    dispatch(action(\"products\").fetch());\n  }, []);\n  useEffect(() => {\n    if (regenerate == true) {\n      dispatch(action(\"products\").fetch());\n      setRegenerate(false);\n    }\n    return () => {\n      setRegenerate(false);\n    };\n  }, [regenerate]);\n\n  useEffect(() => {\n    if (!meta.isFetching) {\n      setProductData(products.filter(p=> !isBlocked(p)));\n    }\n  }, [meta]);\n  useEffect(() => {\n    setProductData(searchByName(products.filter(p=> !isBlocked(p)), value));\n  }, [value]);\n\n  const calculateTotal = (arr) => {\n    if (!arr || arr?.length === 0) return 0;\n    const total = arr.reduce((acc, val) => acc + val, 0);\n    return total;\n  };\n\n  const totalDevente = (arr) => {\n    return (\n      calculateTotal(\n        arr.map((product) => {\n          return product.prixVente * product.quantityParProduct;\n        })\n      ) +\n      calculateTotal(\n        arr.map((product) => {\n          return product.prixParCC * product.qttByCC;\n        })\n      )\n    );\n  };\n\n  return (\n    <> <Content>\n    <ContentHeader title=\"Vente du magasin\">\n      <ActiveLink title=\"Vente du magasin\"></ActiveLink>\n    </ContentHeader>\n    <Page>\n          <Row>\n            <Col xs={6}>\n              <Card className=\"mt-2\">\n                <Card.Header className=\"bg-dark p-2 text-white d-flex text-uppercase justify-content-between align-items-center\">\n                  <div style={{ width: \"60%\" }}>Produits</div>\n                  <div>\n                    <button\n                      className=\"btn btn-green btn-sm\"\n                      onClick={() => {\n                        setRegenerate(true);\n                    //    dispatch(clearFromMagasin());\n                      }}\n                    >\n                      Mettre  jour\n                    </button>\n                  </div>\n                </Card.Header>\n                <Card.Body>\n                  <div class=\"d-flex justify-content-between align-items-center\">\n                    <input\n                      type=\"text\"\n                      onChange={(e) => {\n                        setValue(e.target.value);\n                      }}\n                      placeholder=\"Nom du produit\"\n                      className=\"form-control mb-2\"\n                    />{\" \"}\n                  </div>\n                  <ListGroup>\n                    <div\n                      style={{\n                        overflowY: \"auto\",\n                        width: \"100%\",\n                        height: \"350px\",\n                        maxHeight: \"350px\",\n                        overflowX: \"hidden\",\n                      }}\n                    >\n                      <div class=\"d-flex justify-content-start flex-wrap\">\n                        {productData\n                          .sort(\n                            (low, high) =>\n                              high.quantityBruteCVA - low.quantityBruteCVA\n                          )\n                          .map((p) => (\n                            <ProductItem product={p} />\n                          ))}\n                        {productData.length == 0 &&\n                          \"Aucune enregistrement trouv\"}\n                      </div>{\" \"}\n                    </div>\n                  </ListGroup>\n                </Card.Body>\n              </Card>\n            </Col>\n            <Col xs={6}>\n              <div className=\" py-2\">\n                <FromMagasin setRegenerate={setRegenerate} />\n              </div>\n            </Col>\n          </Row></Page></Content>\n    </>\n  );\n};\n\nexport default Products;\n","import React from \"react\";\nimport Products from \"./product\";\n\nconst VendeurAdmin = () => {\n  return (\n    <>\n      <Products />\n    </>\n  );\n};\n\nexport default VendeurAdmin;\n","import * as Yup from 'yup';\nexport function validationSchema() {\n  return Yup.object().shape({\n    prices: Yup.array().of(\n      Yup.object().shape({\n       \n      })\n    ),\n  });\n}\n","import React, { useState, useEffect } from \"react\";\nimport { FieldArray, useFormikContext } from \"formik\";\nimport Form from \"../../utils/form/index\";\nexport const Price = () => {\n  const { values, setValues } = useFormikContext();\n  return (\n    <>\n      <table className=\"table table-bordered\">\n        <thead className=\" bg-thead\">\n          <tr>\n            <th>Date debut</th>\n            <th>Date fin</th>\n            <th style={{\n              width:\"60%\"\n            }}>Prix</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          {values?.prices.length == 0 && (\n            <tr>\n              <td colspan={4} className=\"text-center\">\n                Aucun prix ajout\n              </td>\n            </tr>\n          )}\n          <FieldArray\n            name=\"prices\"\n            render={(arrayHelpers) => (\n              <>\n                <tr>\n                  <td colspan={4}>\n                    <button\n                      className=\"bg-primary py-1 px-2\"\n                      onClick={() => arrayHelpers.push(\"\")}\n                    >\n                      Ajouter plus\n                    </button>\n                  </td>\n                </tr>\n\n                {values?.prices &&\n                  values?.prices?.map((disc, index) => (\n                    <tr>\n                      <td>\n                        <Form.Field.Date\n                          placeholder=\"date de debut.\"\n                          name={`prices.${index}.deb`}\n                        />\n                      </td>\n                      <td>\n                        <Form.Field.Date\n                          placeholder=\"date de debut.\"\n                          name={`prices.${index}.fin`}\n                        />\n                      </td>\n                      <td className=\"d-flex flex-row justify-content-between\">\n                        <div className=\"mr-2\">\n                          <Form.Field.Input\n                            placeholder=\"Prix du litre\"\n                            name={`prices.${index}.prixlitre`}\n                          />\n                        </div>\n                        <div className=\"mr-2\">\n                          <Form.Field.Input\n                            placeholder=\"prix par quantit\"\n                            name={`prices.${index}.montant`}\n                          />\n                        </div>\n                        <Form.Field.Input\n                          placeholder=\"prix par cc\"\n                          name={`prices.${index}.prixparcc`}\n                        />\n                      </td>\n                      <td className=\"text-center\">\n                        <button\n                          className=\"btn btn-danger btn-sm\"\n                          onClick={() => arrayHelpers.remove(index)}\n                        >\n                          Retirer\n                        </button>\n                      </td>\n                    </tr>\n                  ))}\n              </>\n            )}\n          />\n        </tbody>\n      </table>\n    </>\n  );\n};\n","import React, { useEffect, useState, useCallback } from \"react\";\nimport ActiveLink from \"../../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../../@adminlte/adminlte/Content/Page\";\nimport Content from \"../../@adminlte/adminlte/Content\";\nimport { useParams } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { action, getData } from \"../../utils/lib/call\";\nimport Form from \"../../utils/form/index\";\nimport { validationSchema } from \"./validation\";\nimport { Price } from \"./Price\";\nimport DataTable from \"../../utils/admin/DataTable\";\nimport { displayDate, displayMoney } from \"../../utils/functions\";\nimport { Select } from \"@chakra-ui/react\";\nimport DateRangePicker from \"@wojtekmaj/react-daterange-picker/dist/DateRangePicker\";\nexport default function ChangerPrix() {\n  const { id } = useParams();\n  const dispatch = useDispatch();\n  const [type, setType] = useState(\"vente-magasin\");\n  const products = useSelector(getData(\"products\").value);\n  const meta = useSelector(getData(\"commandes\").meta);\n  const [dateRange, onChangeDateRange] = useState([]);\n  useEffect(() => {\n    dispatch(action(\"products\").get(id));\n  }, []);\n  const postInfos = useCallback((values) => {\n    dispatch(\n      action(\"commandes\").createTransaction(\n        { ...values, id },\n        \"get-commande-bw\"\n      )\n    );\n  }, []);\n  const columns = React.useMemo(\n    () => [\n      {\n        Header: \"Date Dbut\",\n        accessor: \"deb\",\n      },\n      {\n        Header: \"Date Fin\",\n        accessor: \"fin\",\n      },\n      {\n        Header: \"Informations\",\n        Cell: (data) => {\n          return (\n            <table className=\"table text-center\">\n              <thead>\n                <tr>\n                  <th>Date</th>\n                  <th>Ancien prix du litre</th>\n                  <th>Nouvel prix du litre </th>\n                  <th>Ancien prix en quantit</th>\n                  <th>Nouvel prix en quantit</th>\n                  <th>Ancien prix en ML</th>\n                  <th>Nouvel prix en ML</th>\n                </tr>\n              </thead>\n              <tbody>\n                {data.row.original?.data.map((item, index) => (\n                  <tr key={index}>\n                    <td>{displayDate(item.createdAt)}</td>\n                    <td>\n                      {item.lastPriceLitre != \"no\"\n                        ? displayMoney(\n                            item.lastPriceLitre != \"\" ? item.lastPriceLitre : 0\n                          )\n                        : \"\"}\n                    </td>\n                    <td>\n                      {item.newPriceLitre != \"no\"\n                        ? displayMoney(item.newPriceLitre)\n                        : \"\"}\n                    </td>\n                    <td>{displayMoney(item.lastPrice)}</td>\n                    <td>{displayMoney(item.newPrice)}</td>\n                    <td>\n                      {item.lastPriceCC != \"no\"\n                        ? displayMoney(item.lastPriceCC)\n                        : \"\"}\n                    </td>\n                    <td>\n                      {item.newPriceCC != \"no\"\n                        ? displayMoney(item.newPriceCC)\n                        : \"\"}\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          );\n        },\n      },\n    ],\n    []\n  );\n  return (\n    <>\n      <Content>\n        <ContentHeader title=\"Rectification de prix\">\n          <ActiveLink title=\"Rectification de prix\"></ActiveLink>\n        </ContentHeader>\n        <Page>\n          <div className=\"d-flex flex-row justify-content-between\">\n            <h2\n              className=\"mb-2\"\n              style={{\n                fontSize: 20,\n              }}\n            >\n              {products[0]?.name}\n            </h2>\n            <div></div>\n          </div>\n\n          <Form\n            enableReinitialize\n            initialValues={{\n              type: \"vente-magasin\",\n              prices: [],\n            }}\n            validations={validationSchema}\n            onSubmit={postInfos}\n            render={({ values }) => (\n              <Form.Element>\n                <div\n                  style={{\n                    width: \"30%\",\n                  }}\n                >\n                  <Form.Field.Select\n                    name=\"type\"\n                    label=\"Type de sortie\"\n                    emptyValue={false}\n                    valueKey=\"name\"\n                    disabled={false}\n                    defaultValue={1}\n                    options={[\n                      {\n                        id: 1,\n                        name: \"Vente du Magasin\",\n                      },\n                      {\n                        id: 2,\n                        name: \"Facture\",\n                      },\n                    ]}\n                  />\n                </div>\n\n                <Price />\n                <div className=\"mt-3\">\n                  <button className=\"btn btn-green  btn-sm \" type=\"submit\">\n                    Appliquer les changements\n                  </button>\n                  <button className=\"btn btn-danger ml-2  btn-sm \" type=\"reset\">\n                    Annuler\n                  </button>\n                </div>\n              </Form.Element>\n            )}\n          />\n          <h2 className=\"my-3\">Recapitulatif des changements</h2>\n          <DataTable\n            filter={false}\n            data={meta?.data?.recap}\n            meta={meta}\n            columns={columns}\n          />\n        </Page>\n      </Content>\n    </>\n  );\n}\n","import React, { useEffect, useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport Content from \"../../../@adminlte/adminlte/Content\";\nimport ActiveLink from \"../../../@adminlte/adminlte/Content/ActiveLink\";\nimport ContentHeader from \"../../../@adminlte/adminlte/Content/ContentHeader\";\nimport Page from \"../../../@adminlte/adminlte/Content/Page\";\nimport { CREATEPRODUCT, EDITPRODUCT } from \"../../../constants/routes\";\nimport { action, getData } from \"../../../utils/lib/call\";\nimport NumberFormat from \"react-number-format\";\nimport ReactToPrint from \"react-to-print\";\nimport $ from \"jquery\";\nimport { displayMoney } from \"../../../utils/functions\";\nimport DataTable from \"../../../utils/admin/DataTable\";\nimport { Container } from \"react-bootstrap\";\nimport HeaderVendeur from \"../../HeaderVendeur\";\n//initialize datatable\n/*   $(document).ready(function () {\n      $('table').DataTable();\n  });*/\nexport const EtatStockCVA = () => {\n  const products = useSelector(getData(\"products\").value);\n  const meta = useSelector(getData(\"products\").meta);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(action(\"products\").fetch());\n  }, []);\n\n  const columns = React.useMemo(() => [\n    {\n      Header: \"Nom de l'article\",\n      accessor: \"name\",\n    },\n    {\n      Header: \"Fournisseur\",\n      Cell: (data) => {\n        return (\n          <div>\n            <h3 className=\"badge badge-primary\">\n              {data.row.original?.fournisseur?.name}\n            </h3>\n          </div>\n        );\n      },\n    },\n    {\n      Header: \"Quantit\",\n      accessor: \"quantityBruteCVA\",\n    },\n    {\n      Header: \"Conditionnement (ML)\",\n      accessor: \"condval\",\n    },\n    {\n      Header: \"Reste en ML\",\n      accessor: \"quantityCC\",\n      Cell: (data) => {\n        return (\n          <div>\n            {data.row.original?.quantityCCCVA == null\n              ? 0\n              : data.row.original?.quantityCCCVA}\n          </div>\n        );\n      },\n    },\n  ]);\n\n  return (\n    <Container>\n      <HeaderVendeur />\n      <div className=\"row\">\n        <div className=\"col-lg-6 text-right\"></div>\n      </div>\n      <DataTable data={products} meta={meta} columns={columns} />\n    </Container>\n  );\n};\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { action } from \"../../utils/lib/call\";\nfunction DeleteAtUpdate({ model, entity }) {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const deleteEntity = () => {\n    dispatch(\n      action(model).createTransaction(\n        {\n          commande: entity,\n        },\n        \"/change-from-magasin\"\n      )\n    );\n    // history.goBack();\n  };\n  return (\n    <>\n      <button\n        className=\"btn btn-danger btn-sm\"\n        onClick={(e) => {\n          e.preventDefault();\n          if (window.confirm(`Je confirme la jusitification !`)) {\n            deleteEntity();\n          }\n        }}\n      >\n        Justifier\n      </button>\n    </>\n  );\n}\n\nexport default DeleteAtUpdate;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { Container } from \"react-bootstrap\";\nimport { action, getData } from \"../../utils/lib/call\";\nimport { getOperationCommandeCVA } from \"../../store/actions/commandes\";\nimport { displayDate, displayMoney } from \"../../utils/functions\";\nimport Content from \"../../@adminlte/adminlte/Content/index\";\nimport ContentHeader from \"../../@adminlte/adminlte/Content/ContentHeader\";\nimport ActiveLink from \"../../@adminlte/adminlte/Content/ActiveLink\";\nimport Page from \"../../@adminlte/adminlte/Content/Page\";\nimport DateRangePicker from \"@wojtekmaj/react-daterange-picker\";\nimport moment from \"moment\";\nimport DataTable from \"../../utils/admin/DataTable\";\nimport { isSpecialProductHandle } from \"./vendeur/fromMagasin/block-it\";\nimport DeleteAtUpdate from './DeleteAtUpdate';\nconst isModified = (contenu) => {\n  for (let i = 0; i < contenu.length; ++i) {\n    if (contenu[i].correction > 0 || contenu[i].correctionml > 0) {\n      return true;\n    } else return false;\n  }\n};\nconst filterData = (data) => {\n  return data.filter((d) => d.deletedat != moment(\"2021-01-01\"));\n};\nconst OpCommandes = () => {\n  var start = moment().isoWeekday(1).startOf(\"week\");\n  var end = moment().endOf(\"week\");\n  const [deb, setDeb] = useState(start);\n  const [fin, setFin] = useState(end);\n  const refDateDeb = useRef(null);\n  const refDateFin = useRef(null);\n  const commandes = useSelector(getData(\"commandes\").value);\n  const meta = useSelector(getData(\"commandes\").meta);\n  const [dateRange, onChangeDateRange] = useState([start, end]);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getOperationCommandeCVA(deb, fin));\n  }, [deb, fin]);\n  useEffect(() => {\n    if (dateRange !== null) {\n      if (dateRange[0]) {\n        setDeb(dateRange[0]);\n      }\n      if (dateRange[1]) {\n        setFin(dateRange[1]);\n      }\n    } else {\n      setDeb(start);\n      setFin(end);\n    }\n  }, [dateRange]);\n  const calculateTotal = (arr) => {\n    if (!arr || arr?.length === 0) return 0;\n    const total = arr.reduce((acc, val) => acc + val, 0);\n    return total;\n  };\n\n  const totalDevente = (arr) => {\n    return (\n      calculateTotal(\n        arr?.map((product) => {\n          return isSpecialProductHandle(product)\n            ? product.prixqttccvente *\n                product.quantityParProduct *\n                product.qttccpvente +\n                product.prixVente * product.qttbylitre\n            : product.prixVente * product.quantityParProduct;\n        })\n      ) +\n      calculateTotal(\n        arr?.map((product) => {\n          return product.prixParCC * product.qttByCC;\n        })\n      )\n    );\n  };\n  const recetteDuJour = (arr = []) => {\n    let filteredCommande = arr.filter(v => v.isdeleted!=true);\n    let total = 0;\n    if (commandes.length > 0) {\n      filteredCommande.map((c) => {\n        total += totalDevente(c?.contenu);\n      });\n    } else {\n      total = 0;\n    }\n\n    return total;\n  };\n  const columns = React.useMemo(\n    () => [\n      {\n        Header: \"Date\",\n        Cell: (data) => {\n          return <>{displayDate(data.row.original?.dateCom)}</>;\n        },\n      },\n      {\n        Header: \"Produits\",\n        Cell: (data) => {\n          return (\n            <div style={{ width: \"350px\" }}>\n              {data.row.original?.isdeleted == true && (\n                <>\n                  <div className=\"badge badge-danger\">Supprim</div>\n                  <div className=\"text text-danger\">\n                    Date de suppression :{\" \"}\n                    {displayDate(data.row.original?.deletedat)}\n                  </div>\n                </>\n              )}\n              {data.row.original?.isdeleted == null && (\n                <p>\n                  {isModified(data.row.original?.contenu) && (\n                    <div className=\"badge badge-warning\">Modifi</div>\n                  )}\n                </p>\n              )}\n              {data.row.original?.contenu?.map((d) => (\n                <span>\n                  <span\n                    style={{\n                      background: \"white\",\n                      color:\n                        data.row.original?.isdeleted == true\n                          ? \"red\"\n                          : \"inherit\",\n                      padding: 2,\n                    }}\n                  >\n                    {d.name}\n                  </span>\n                  <span\n                    style={{\n                      color:\n                        data.row.original?.isdeleted == true\n                          ? \"red\"\n                          : \"inherit\",\n                    }}\n                  >\n                    {\" \"}\n                    {\" || \"}\n                  </span>\n                </span>\n              ))}\n            </div>\n          );\n        },\n      },\n      {\n        Header: \"Total\",\n        Cell: (data) => {\n          return (\n            <div>{displayMoney(totalDevente(data.row.original?.contenu))}</div>\n          );\n        },\n      }\n    ],\n    []\n  );\n/**\n * \n\n ,\n      {\n        Header: \"Actions\",\n        Cell: (data) => {\n          return (\n            <>\n              <DeleteAtUpdate model=\"fromagasins\" entity={data.row.original} />\n            </>\n          );\n        },\n      },\n */\n  return (\n    <>\n      <Content>\n        <ContentHeader title=\"Operations sur les commandes\">\n          <ActiveLink title=\"Operations sur les commandes\"></ActiveLink>\n        </ContentHeader>\n        <Page>\n          <div className=\"row my-2\">\n            <div className=\"col-lg-8\">\n              <div>\n                {deb && fin && (\n                  <>\n                    <h2>Operations sur les commandes</h2>\n                    <span>\n                      Du: {displayDate(deb)} Au {displayDate(fin)}\n                    </span>\n                  </>\n                )}{\" \"}\n              </div>\n            </div>\n            <div className=\"col-lg-4 text-right\">\n              <div>\n                <DateRangePicker\n                  locale=\"fr-FR\"\n                  onChange={onChangeDateRange}\n                  value={dateRange}\n                />\n              </div>\n            </div>\n          </div>\n          <DataTable\n            filter={false}\n            data={filterData(commandes)}\n            meta={meta}\n            columns={columns}\n          />\n        </Page>\n      </Content>\n    </>\n  );\n};\nexport default OpCommandes;\n","import React from \"react\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport { createBrowserHistory } from \"history\";\n\nimport SetupInterceptors from \"./utils/network\";\nimport AdminLTE from \"./@adminlte/AdminLTE\";\nimport App from \"./App\";\nimport Approv from \"./components/Approv\";\nimport AddProd from \"./components/composants/AddProd\";\nimport DetailApprov from \"./components/composants/Approvis/detail\";\nimport ListApprov from \"./components/composants/Approvis/list\";\nimport BSortie from \"./components/composants/BSortie\";\nimport Commande from \"./components/composants/Commande\";\nimport Credit from \"./components/composants/Credit\";\nimport CreditVaccinateur from \"./components/composants/CreditVaccinateur\";\nimport Detail from \"./components/composants/Detail\";\nimport DetailSortie from \"./components/composants/DetailSortie\";\nimport Direct from \"./components/composants/Direct\";\nimport Journal from \"./components/composants/Journal\";\nimport ParametrageSuppl from \"./components/composants/ParametrageSuppl\";\nimport { Perime } from \"./components/composants/Perime\";\nimport Create from \"./components/composants/product/create\";\nimport DetailProduct from \"./components/composants/product/detail\";\nimport Edit from \"./components/composants/product/edit\";\nimport { ProductAll } from \"./components/composants/product/ProductAll\";\nimport ProductByCategory from \"./components/composants/ProductByCategory\";\nimport ProductByFournisseur from \"./components/composants/ProductByFournisseur\";\nimport { Rupture } from \"./components/composants/Rupture\";\nimport Entree from \"./components/Entree\";\nimport Header from \"./components/Header\";\nimport NouvelleFacture from \"./components/NouvelleFacture\";\nimport Parametres from \"./components/Parametres\";\nimport Sortie from \"./components/Sortie\";\nimport EditSortie from \"./components/fromDepot/EditSortie\";\nimport ChangePrixDate from \"./components/ChangePrixDate\";\nimport {\n  ADMIN,\n  DEPOTOMAGASIN,\n  DETAILVENDEUR,\n  ETATSTOCKMAGASIN,\n  HISTORIQUESORTIECVA,\n  HISTORIQUEVENTEVENDEUR,\n  HISTORIQUEVENTEVENDEURVUEPARADMIN,\n  SIGNIN,\n  SIGNUP,\n  VENDEUR,\n  EDITERFACTURE,\n  BNC_DEPOT,\n  EDIT_SORTIE,\n  DETAIL_SORTIE,\n  EDITDEPOTTOMAGASIN,\n  EDITFROMMAGASIN,\n  TDB_DEPOT_VERS_MAGASIN,\n  DEPOT_MAGASIN_DETAIL,\n  DETAIL_MAGASIN_VENTE,\n  CORRECTION,\n  HISTORIQUECORRECTION,\n  DETAILCORRECTION,\n  FOURNISSEURS,\n  ADD_FOURNISSEUR,\n  EDIT_FOURNISSEUR,\n  CATEGORIES,\n  ADD_CATEGORIES,\n  EDIT_CATEGORIES,\n  EMPRUNTEURS,\n  ADD_EMPRUNTEUR,\n  EDIT_EMPRUNTEUR,\n  VACCINATEURS,\n  ADD_VACCINATEUR,\n  EDIT_VACCINATEUR,\n  HISTORIQUEVENTEVENDEUR_ADMIN,\n  EDITFROMMAGASIN_ADMIN,\n  DETAILVENDEUR_ADMIN,\n  VENDEUR_ADMIN,\n  CHANGE_PRIX,\n  STOCKCVA,\n  OP_COMMANDES,\n  PRICE_CHANGE\n} from \"./constants/routes\";\n\nimport { checkVersion } from './store/actions/version';\nimport PublicRoute from \"./routes/PublicRoute\";\nimport SignIn from \"./components/auth/SignIn\";\nimport SignUp from \"./components/auth/SignUp\";\nimport {\n  APPROV,\n  HOME,\n  PERIME,\n  RUPTURE,\n  CREDIT,\n  DETAIL,\n  CREDITVACCINATEUR,\n  JOURNAL,\n  PARAMETRES,\n  DIRECT,\n  PRODUCTBYFOURNISSEUR,\n  PRODUCTBYCATEGORY,\n  PRODUCTS,\n  CREATEPRODUCT,\n  EDITPRODUCT,\n  PARASUPPL,\n  ENTREE,\n  SORTIE,\n  BONDESORTIE,\n  PRODUCTDETAIL,\n  BSORTIE,\n  ADDPROD,\n  NOUVELLEFACTURE,\n  DETAILAPPROV,\n  LISTAPPROV,\n  TDB_FACTURES,\n  TDB_VENTE_CBV,\n} from \"./constants/routes\";\nimport { Auth, Data } from \"./context/auth-context\";\n\nimport VendeurRoute from \"./routes/VendeurRoute\";\nimport { logout } from \"./store/actions/user\";\nimport { useDispatch } from \"react-redux\";\nimport { AdminDashboard } from \"./components/composants/admin\";\n\nimport { DepotToMagasin } from \"./components/composants/admin/depot-to-magasin\";\nimport { HistoriqueSortieCva } from \"./components/composants/admin/tomagasin/list\";\nimport { HistoriqueVenteVendeur } from \"./components/composants/vendeur/fromMagasin/list\";\nimport { HistoriqueVenteVendeurAdmin } from \"./components/composants/vendeur/fromMagasinForAdmin/list\";\nimport { EtatStockMagasin } from \"./components/composants/admin/etat\";\nimport { MagasinVente } from \"./components/composants/admin/magasin-vente\";\nimport DetailVendeur from \"./components/composants/vendeur/fromMagasin/DetailVendeur\";\nimport DetailVendeurAdmin from \"./components/composants/vendeur/fromMagasinForAdmin/DetailVendeur\";\nimport AdminRoute from \"./routes/AdminRoute\";\nimport { EditerApprov } from \"./components/composants/Approvis/editer\";\nimport BonDepot from \"./components/fromDepot/index\";\nimport { Facturation } from \"./components/composants/journal/Facturation\";\nimport { VenteCBV } from \"./components/composants/journal/VenteCBV\";\nimport { DepotVersMagasin } from \"./components/composants/journal/DepotVersMagasin\";\nimport DepotToMagasinDetail from \"./components/composants/admin/tomagasin/DepotToMagasinDetail\";\nimport DetailMagasinVente from \"./components/composants/vendeur/fromMagasin/DetailMagasinVente\";\nimport EditFromMagasin from \"./components/composants/vendeur/fromMagasin/EditFromMagasin\";\n\nimport DetailMagasinVenteAdmin from \"./components/composants/vendeur/fromMagasinForAdmin/DetailMagasinVente\";\nimport EditFromMagasinAdmin from \"./components/composants/vendeur/fromMagasinForAdmin/EditFromMagasin\";\n\nimport EditToMagasin from \"./components/composants/admin/tomagasin/EditToMagasin\";\nimport Vendeur from \"./components/composants/vendeur/index\";\nimport CorrectionFromMagasin from \"./components/composants/vendeur/correction/CorrectionFromMagasin\";\nimport { HistoriqueDeCorrection } from \"./components/composants/vendeur/correction/list\";\nimport DetailCorrection from \"./components/composants/vendeur/correction/DetailCorrection\";\nimport Fournisseurs from \"./components/parametres/fournisseurs/Fournisseurs\";\nimport CreateFournisseur from \"./components/parametres/fournisseurs/AddFournisseur\";\nimport EditFournisseur from \"./components/parametres/fournisseurs/EditFournisseur\";\nimport Categories from \"./components/parametres/category/Categories\";\nimport CreateCategory from \"./components/parametres/category/AddCategory\";\nimport EditCategorie from \"./components/parametres/category/EditCategory\";\nimport Emprunters from \"./components/parametres/emprunter/Emprunters\";\nimport CreateEmprunteur from \"./components/parametres/emprunter/AddEmprunter\";\nimport EditEmprunter from \"./components/parametres/emprunter/EditEmprunter\";\nimport Vaccinateurs from \"./components/parametres/vaccinateur/Vaccinateurs\";\nimport CreateVaccinateur from \"./components/parametres/vaccinateur/AddVaccinateur\";\nimport EditVaccinateur from \"./components/parametres/vaccinateur/EditVaccinateur\";\nimport VendeurAdmin from \"./components/composants/vendeur/fromMagasinForAdmin\";\nimport ChangerPrix from \"./components/change-prix/index\";\nimport { EtatStockCVA } from \"./components/composants/vendeur/etat\";\nimport OpCommandes from \"./components/composants/OpCommandes\";\nfunction Routes() {\n  const dispatch = useDispatch();\n  const history = createBrowserHistory();\n  dispatch(checkVersion());\n  return (\n    <BrowserRouter>\n      <Switch>\n        <AdminRoute path={HOME} exact component={App} />\n        <AdminRoute path={TDB_FACTURES} component={Facturation} />\n        <AdminRoute path={TDB_VENTE_CBV} component={VenteCBV} />\n        <AdminRoute\n          path={TDB_DEPOT_VERS_MAGASIN}\n          component={DepotVersMagasin}\n        />\n        <VendeurRoute path={VENDEUR} component={Vendeur} />\n        <VendeurRoute path={STOCKCVA} component={EtatStockCVA} />\n        <VendeurRoute path={DETAILVENDEUR} component={DetailVendeur} />\n        <VendeurRoute path={EDITFROMMAGASIN} component={EditFromMagasin} />\n        <VendeurRoute\n          path={HISTORIQUEVENTEVENDEUR}\n          component={HistoriqueVenteVendeur}\n        />\n        <AdminRoute path={VENDEUR_ADMIN} component={VendeurAdmin} />\n        <AdminRoute path={DETAILVENDEUR_ADMIN} component={DetailVendeurAdmin} />\n        <AdminRoute\n          path={EDITFROMMAGASIN_ADMIN}\n          component={EditFromMagasinAdmin}\n        />\n        <AdminRoute\n          path={HISTORIQUEVENTEVENDEUR_ADMIN}\n          component={HistoriqueVenteVendeurAdmin}\n        />\n        <AdminRoute path={CHANGE_PRIX} component={ChangerPrix} />\n        <AdminRoute path={APPROV} component={Approv} />\n        <AdminRoute path={PERIME} component={Perime} />\n        <AdminRoute path={PARASUPPL} component={ParametrageSuppl} />\n        <AdminRoute path={PRODUCTS} component={ProductAll} />\n        <AdminRoute path={BNC_DEPOT} component={BonDepot} />\n        <AdminRoute path={EDITPRODUCT} component={Edit} />\n        <AdminRoute path={CREATEPRODUCT} component={Create} />\n        <AdminRoute path={JOURNAL} component={Journal} />\n        <AdminRoute path={RUPTURE} component={Rupture} />\n        <AdminRoute path={CREDIT} component={Credit} />\n        <AdminRoute path={PARAMETRES} component={Parametres} />\n        <AdminRoute path={CREDITVACCINATEUR} component={CreditVaccinateur} />\n        <AdminRoute path={DIRECT} component={Direct} />\n        <AdminRoute path={BONDESORTIE} component={BonDepot} />\n        <AdminRoute\n          path={PRODUCTBYFOURNISSEUR}\n          component={ProductByFournisseur}\n        />\n        <AdminRoute path={PRODUCTBYCATEGORY} component={ProductByCategory} />\n        <AdminRoute path={SORTIE} component={Sortie} />\n        <AdminRoute path={EDIT_SORTIE} component={EditSortie} />\n\n        <AdminRoute path={ENTREE} component={Entree} />\n        <AdminRoute path={DETAIL} component={Detail} />\n        <AdminRoute path={DETAIL_SORTIE} exact component={DetailSortie} />\n        <AdminRoute path={PRODUCTDETAIL} component={DetailProduct} />\n        <AdminRoute path={BSORTIE} component={BSortie} />\n        <AdminRoute path={ADDPROD} component={AddProd} />\n        <AdminRoute path={NOUVELLEFACTURE} component={NouvelleFacture} />\n        <AdminRoute path={EDITERFACTURE} exact component={EditerApprov} />\n\n        <AdminRoute path={LISTAPPROV} component={ListApprov} />\n        <AdminRoute path={DETAILAPPROV} exact component={DetailApprov} />\n\n        <Route path={SIGNIN} component={SignIn} />\n        <Route path={SIGNUP} component={SignUp} />\n        <AdminRoute path={ADMIN} component={AdminDashboard} />\n        <AdminRoute path={EDITDEPOTTOMAGASIN} component={EditToMagasin} />\n        <AdminRoute\n          path={HISTORIQUESORTIECVA}\n          component={HistoriqueSortieCva}\n        />\n        <AdminRoute\n          path={DEPOT_MAGASIN_DETAIL}\n          component={DepotToMagasinDetail}\n        />\n        <AdminRoute path={ETATSTOCKMAGASIN} component={EtatStockMagasin} />\n\n        <AdminRoute\n          path={HISTORIQUEVENTEVENDEURVUEPARADMIN}\n          component={MagasinVente}\n        />\n        <AdminRoute\n          path={DETAIL_MAGASIN_VENTE}\n          component={DetailMagasinVente}\n        />\n        <AdminRoute path={CORRECTION} component={CorrectionFromMagasin} />\n        <AdminRoute\n          path={HISTORIQUECORRECTION}\n          component={HistoriqueDeCorrection}\n        />\n        <AdminRoute path={DETAILCORRECTION} component={DetailCorrection} />\n        <AdminRoute path={FOURNISSEURS} component={Fournisseurs} />\n        <AdminRoute path={ADD_FOURNISSEUR} component={CreateFournisseur} />\n        <AdminRoute path={EDIT_FOURNISSEUR} component={EditFournisseur} />\n        <AdminRoute path={CATEGORIES} component={Categories} />\n        <AdminRoute path={ADD_CATEGORIES} component={CreateCategory} />\n        <AdminRoute path={EDIT_CATEGORIES} component={EditCategorie} />\n        <AdminRoute path={EMPRUNTEURS} component={Emprunters} />\n        <AdminRoute path={ADD_EMPRUNTEUR} component={CreateEmprunteur} />\n        <AdminRoute path={EDIT_EMPRUNTEUR} component={EditEmprunter} />\n        <AdminRoute path={VACCINATEURS} component={Vaccinateurs} />\n        <AdminRoute path={OP_COMMANDES} component={OpCommandes} />\n        <AdminRoute path={ADD_VACCINATEUR} component={CreateVaccinateur} />\n        <AdminRoute path={EDIT_VACCINATEUR} component={EditVaccinateur} />\n        <AdminRoute path={PRICE_CHANGE} component={ChangePrixDate} />\n      </Switch>\n      {/*<Footer/>*/}\n    </BrowserRouter>\n  );\n}\n\nexport default Routes;\n","import { createStore, applyMiddleware } from 'redux';\nimport thunkMiddleware from \"redux-thunk\";\nimport routeReducer from './reducers/index';\nimport { undoMiddeware } from \"react-redux-undo\";\n\nconst bindMiddleware = (middleware) => {\n  if (process.env.NODE_ENV !== \"production\") {\n    const { composeWithDevTools } = require(\"redux-devtools-extension\");\n    return composeWithDevTools(applyMiddleware(...middleware));\n  }\n  return applyMiddleware(...middleware);\n};\nconst { persistStore, persistReducer } = require(\"redux-persist\");\nconst storage = require(\"redux-persist/lib/storage\").default;\nconst persistConfig = {\n  key: \"root\",\n  whitelist: ['auth','profile', 'basket', 'approvisionnement','searchbydate','version'],\n  storage,\n};\nconst persistedReducer = persistReducer(persistConfig, routeReducer)\nlet store = createStore(persistedReducer, bindMiddleware([thunkMiddleware]))\nlet persistor = persistStore(store)\nexport { store, persistor };","import { reducersFor } from \"../../utils/lib\";\nexport default reducersFor('products',{key:\"id\"})","import {\n    REGISTER_SUCCESS,\n    REGISTER_FAIL,\n    LOGIN_SUCCESS,\n    LOGIN_FAIL,\n    LOGOUT\n  } from '../../constants/actions'\n  \n  const user = JSON.parse(localStorage.getItem('user'))\n  \n  const initialState = user\n    ? { isLoggedIn: true, user }\n    : { isLoggedIn: false, user: null }\n  \n  // eslint-disable-next-line import/no-anonymous-default-export\n  export default function (state = initialState, action) {\n    const { type, payload } = action\n  \n    switch (type) {\n      case REGISTER_SUCCESS:\n        return {\n          ...state,\n          isLoggedIn: true,\n          user: payload.user?.user,\n          success:payload.success,\n          error:null\n        }\n      case REGISTER_FAIL:\n        return {\n          ...state,\n          isLoggedIn: false,\n          user: null,\n          success:null,\n          error: payload.error\n        }\n      case LOGIN_SUCCESS:\n        return {\n          ...state,\n          isLoggedIn: true,\n          user: payload.user?.user,\n          success: payload.success,\n          error: null\n        }\n      case LOGIN_FAIL:\n        return {\n          ...state,\n          isLoggedIn: false,\n          user: null,\n          token: null,\n          success:null,\n          error: payload.error\n        }\n      case LOGOUT:\n        return {\n          ...state,\n          isLoggedIn: false,\n          user: null,\n          token: null\n        }\n      default:\n        return state\n    }\n  }\n  ","import { reducersFor } from \"../../utils/lib\";\nexport default reducersFor('commandes')","import { reducersFor } from \"../../utils/lib\";\n\nexport default reducersFor('fournisseurs')","import { reducersFor } from \"../../utils/lib\";\nexport default reducersFor('emprunters')","import { reducersFor } from \"../../utils/lib\";\nexport default reducersFor('vaccinateurs')","import { reducersFor } from \"../../utils/lib\";\n\nexport default reducersFor('categories')","import { reducersFor } from \"../../utils/lib\";\nexport default reducersFor('approvis')","import { reducersFor } from \"../../utils/lib\";\nexport default reducersFor('parametres')","import {\n    RESET_CHECKOUT, SET_CHECKOUT_PAYMENT_DETAILS, SET_CHECKOUT_SHIPPING_DETAILS\n  } from '../constants';\n  \n  const defaultState = {\n    shipping: {},\n    payment: {\n      type: '',\n      name: '',\n      cardnumber: '',\n      expiry: '',\n      ccv: ''\n    }\n  };\n  \n  export default (state = defaultState, action) => {\n    switch (action.type) {\n      case SET_CHECKOUT_SHIPPING_DETAILS:\n        return {\n          ...state,\n          shipping: action.payload\n        };\n      case SET_CHECKOUT_PAYMENT_DETAILS:\n        return {\n          ...state,\n          payment: action.payload\n        };\n      case RESET_CHECKOUT:\n        return defaultState;\n      default:\n        return state;\n    }\n  };\n  ","import { reducersFor } from \"../../utils/lib\";\nexport default reducersFor('sortiedepots')","import { combineReducers } from \"redux\";\nimport { applyUndo } from \"react-redux-undo\";\nimport { reducer as modal } from \"react-redux-modal-flex\";\nimport productReducer from \"./products\";\nimport userReducer from \"./user\";\nimport commandeReducer from \"./commandes\";\nimport fournisseursReducer from \"./fournisseur\";\nimport emprunteurReducer from \"./emprunteurs\";\nimport vaccinateurReducer from \"./vaccinateurs\";\nimport categoriesReducer from \"./category\";\nimport basketReducer from \"../basket/reducers/basket\";\nimport approvisonnementReducer from \"../approvis/reducers/approvis\";\nimport toMagasinReducer from \"../tomagasin/reducers/tomagasin\";\nimport fromMagasinReducer from \"../frommagasin/reducers/frommagasin\";\nimport approvisReducer from \"./approvis\";\nimport stockReducer from \"./stock\";\nimport parametreReducer from \"./parametres\";\nimport checkoutReducer from \"../basket/reducers/checkout\";\nimport sortiedepotReducer from \"./sortiedepot\";\nimport fromdepotsReducer from \"../fromdepot/reducers/fromdepot\";\nimport { countReducer } from \"./undoTest\";\nimport { searchReducer } from \"./search/search\";\nimport commundReducer from './commund';\nimport versionReducer from './version';\n\nexport default combineReducers({\n    searchbydate:searchReducer,\n    count: countReducer,\n    auth: userReducer,\n    products: productReducer,\n    realproducts: productReducer,\n    categories: categoriesReducer,\n    fournisseurs: fournisseursReducer,\n    emprunters: emprunteurReducer,\n    vaccinateurs: vaccinateurReducer,\n    commandes: commandeReducer,\n    commandesclone: commandeReducer,\n    commund: commandeReducer,\n    basket: basketReducer,\n    approvisionnements: approvisonnementReducer,\n    approvis: approvisReducer,\n    fromdepots: fromdepotsReducer,\n    stock: stockReducer,\n    checkout: checkoutReducer,\n    parametres: parametreReducer,\n    tomagasins: toMagasinReducer,\n    frommagasins: fromMagasinReducer,\n    sortiedepots: sortiedepotReducer,\n    version: versionReducer\n  });\n","import { reducersFor } from \"../../utils/lib\";\nexport default reducersFor('commund')","import { SET_SEARCH_BY_DATE,RESET_SEARCH_BY_DATE } from \"../../constants\";\nimport moment from \"moment\";\n\nexport const searchReducer = (\n  state = {\n    deb: moment().isoWeekday(1).startOf(\"week\"),\n    fin: moment().endOf(\"week\"),\n  },\n  action\n) => {\n  switch (action.type) {\n    case SET_SEARCH_BY_DATE:\n      return  action.payload;\n    case RESET_SEARCH_BY_DATE:\n      return {\n        deb: moment().isoWeekday(1).startOf(\"week\"),\n        fin: moment().endOf(\"week\"),\n      };\n    default:\n      return state;\n  }\n};\n","export const countReducer = (state = { counter: 0 }, action) => {\n    switch (action.type) {\n      case \"ADD\":\n        return {\n          ...state,\n          counter: state.counter + 1\n        };\n      default:\n        return state;\n    }\n  };","import {\n  ADD_QTY_ITEM,\n  ADD_TO_BASKET,\n  CLEAR_BASKET,\n  MINUS_QTY_ITEM,\n  REMOVE_FROM_BASKET,\n  SET_BASKET_ITEMS,\n  ADD_QTY_PORTION_ITEM,\n  MINUS_QTY_PORTION_ITEM,\n} from \"../constants\";\nconst indexSameProduct = (state, product) => {\n  const sameProduct = (p) => p.id === product.id;\n  return state.find(sameProduct);\n};\nexport default (state = [], action) => {\n  switch (action.type) {\n    case SET_BASKET_ITEMS:\n      return action.payload;\n    case ADD_TO_BASKET:\n      return state.some((product) => product.id === action.payload.id)\n        ? state\n        : [action.payload, ...state];\n    case REMOVE_FROM_BASKET:\n      return state.filter((product) => product.id !== action.payload);\n    case CLEAR_BASKET:\n      return [];\n    case ADD_QTY_ITEM:\n      /*   return state.map((product) => {\n        const filteredProduct = indexSameProduct(state, product);\n      }*/\n      return state.map((product) => {\n        if (product.id == action.payload.id) {\n          product.quantityParProduct += 1;\n        }\n        if (\n          product.id == action.payload.id &&\n          product.doseRestantEnMg >= product.doseDefault * 1000\n        ) {\n          product.doseRestantEnMg += product.doseDefault * 1000;\n        } else {\n          product.doseRestantEnMg = product.doseRestantEnMg;\n        }\n        return product;\n      });\n\n    case ADD_QTY_PORTION_ITEM:\n      return state.map((product) => {\n        if (product.id == action.payload.id) {\n          product.qttByCC += 1;\n        }\n        if (\n          product.id == action.payload.id &&\n          product.doseRestantEnMg >= product.doseDefault * 1000\n        ) {\n          product.doseRestantEnMg += 1000;\n        } else {\n          product.doseRestantEnMg = product.doseRestantEnMg;\n        }\n\n        return product;\n      });\n    case MINUS_QTY_ITEM:\n      return state.map((product) => {\n        if (product.id == action.payload.id) {\n          product.quantityParProduct -= 1;\n        }\n        if (\n          product.id == action.payload.id &&\n          product.doseRestantEnMg >= product.doseDefault * 1000\n        ) {\n          product.doseRestantEnMg -= product.doseDefault * 1000;\n        } else {\n          product.doseRestantEnMg = product.doseRestantEnMg;\n        }\n        return product;\n      });\n    case MINUS_QTY_PORTION_ITEM:\n      return state.map((product) => {\n        if (product.id == action.payload.id) {\n          product.qttByCC -= 1;\n        }\n        if (\n          product.id == action.payload.id &&\n          product.doseRestantEnMg >= product.doseDefault\n        ) {\n          product.doseRestantEnMg -= 1000;\n        } else {\n          product.doseRestantEnMg = product.doseRestantEnMg;\n        }\n        return product;\n      });\n    default:\n      return state;\n  }\n};\n","import {\n  ADD_NUMBER_QTY_ITEM,\n  ADD_QTY_APPROV_ITEM,\n  ADD_QTY_NUMBER_APPROV_ITEM,\n  ADD_TO_APPROV,\n  CLEAR_APPROV,\n  MINUS_QTY_APPROV_ITEM,\n  REMOVE_FROM_APPROV,\n  SET_APPROV_ITEMS,\n  ADD_REMISE_PER_PRODUCT,ADD_REMISE_PER_PRODUCT_PERCENT\n} from \"../constants\";\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default (state = [], action) => {\n  switch (action.type) {\n    case SET_APPROV_ITEMS:\n      return action.payload;\n    case ADD_TO_APPROV:\n      return state.some((product) => product.id === action.payload.id)\n        ? state\n        : [action.payload, ...state];\n    case REMOVE_FROM_APPROV:\n      return state.filter((product) => product.id !== action.payload);\n    case CLEAR_APPROV:\n      return [];\n    case ADD_QTY_APPROV_ITEM:\n      return state.map((product) => {\n        if (product.id == action.payload.id) {\n          product.quantityParProduct += 1;\n        }\n        return product;\n      });\n\n    case ADD_NUMBER_QTY_ITEM:\n      return state.map((product) => {\n        if (product.id == action.payload.id) {\n          product.quantityParProduct = Number(action.payload.qtt);\n        }\n        return product;\n      });\n    case MINUS_QTY_APPROV_ITEM:\n      return state.map((product) => {\n        if (product.id == action.payload.id) {\n          product.quantityParProduct -= 1;\n        }\n        return product;\n      });\n    case ADD_QTY_NUMBER_APPROV_ITEM:\n      return state.map((product) => {\n        if (product.id === action.payload.id) {\n          product.quantityParProduct = action.payload.value;\n        }\n        return product;\n      });\n    case ADD_REMISE_PER_PRODUCT:\n      return state.map((product) => {\n        if (product.id === action.payload.id) {\n          product.remise = action.payload.value;\n        }\n        return product;\n      });\n    case ADD_REMISE_PER_PRODUCT_PERCENT:\n      return state.map((product) => {\n        if (product.id === action.payload.id) {\n          product.remisePerProduct = action.payload.value;\n        }\n        return product;\n      });\n    default:\n      return state;\n  }\n};\n","import {\n  ADD_QTY_FROM_DEPOT_ITEM,\n  ADD_FROM_DEPOT,\n  CLEAR_FROM_DEPOT,\n  MINUS_QTY_FROM_DEPOT_ITEM,\n  REMOVE_FROM_TO_DEPOT,\n  SET_FROM_DEPOT_ITEMS,\n  MINUS_QTY_PORTION_FROM_DEPOT_ITEM,\n  ADD_QTY_PORTION_FROM_DEPOT_ITEM,\n  ADD_QTY_NUMBER_FROM_DEPOT_ITEM,\n  ADD_QTY_PORTION_DOSE_UTA_NEW_FROM_DEPOT_ITEM,\n  MINUS_QTY_PORTION__DOSE_ITA_NEW_FROM_DEPOT_ITEM,\n  MINUS_QTY_PORTION__DOSE_SOVAX_FROM_DEPOT_ITEM,\n  ADD_QTY_PORTION_DOSE_SOVAX_FROM_DEPOT_ITEM,\n  ADD_QTY_PORTION_PHYTO_COND_FROM_DEPOT_ITEM,\n  MINUS_QTY_PORTION_PHYTO_COND_FROM_DEPOT_ITEM,\n} from \"../constants\";\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default (state = [], action) => {\n  switch (action.type) {\n    case SET_FROM_DEPOT_ITEMS:\n      return action.payload;\n    case ADD_FROM_DEPOT:\n      return state.some((product) => product.id === action.payload.id)\n        ? state\n        : [action.payload, ...state];\n    case REMOVE_FROM_TO_DEPOT:\n      return state.filter((product) => product.id !== action.payload);\n    case CLEAR_FROM_DEPOT:\n      return [];\n    case ADD_QTY_FROM_DEPOT_ITEM:\n      return state.map((product) => {\n        if (product.id === action.payload.id) {\n          product.quantityParProductDepot = Number(action.payload.qtt);\n        }\n        return product;\n      });\n\n    case ADD_QTY_PORTION_FROM_DEPOT_ITEM:\n      return state.map((product) => {\n        if (product.id == action.payload.id) {\n            product.qttByCCDepot = Number(action.payload.value);\n        }\n\n        return product;\n      });\n      id;\n    case ADD_QTY_NUMBER_FROM_DEPOT_ITEM:\n      return state.map((product) => {\n        if (product.id === action.payload.id) {\n          product.quantityParProductDepot = Number(action.payload.value);\n        }\n        return product;\n      });\n    case ADD_QTY_PORTION_DOSE_UTA_NEW_FROM_DEPOT_ITEM:\n      return state.map((product) => {\n        if (product.id === action.payload.id) {\n          product.qttyspecificmirrordepot = Number(action.payload.value);\n          product.qttByCCDepot = action.payload.value * 1 / 2;\n        }\n        return product;\n      });\n\n    case ADD_QTY_PORTION_DOSE_SOVAX_FROM_DEPOT_ITEM:\n      return state.map((product) => {\n        if (product.id === action.payload.id) {\n          product.qttyspecificmirrordepot = Number(action.payload.value);\n          product.qttByCCDepot = (action.payload.value * 1) * 2;\n        }\n        return product;\n      });\n    case ADD_QTY_PORTION_PHYTO_COND_FROM_DEPOT_ITEM:\n      return state.map((product) => {\n        if (product.id == action.payload.id) {\n          product.qttByCCDepot = Number(action.payload.value);\n        }\n        return product;\n      });\n    case MINUS_QTY_PORTION_PHYTO_COND_FROM_DEPOT_ITEM:\n      return state.map((product) => {\n        if (product.id === action.payload.id) {\n          product.qttByCCDepot -= action.payload.qttccpventedepot;\n        }\n        return product;\n      });\n    default:\n      return state;\n  }\n};\n","import { UPDATE_STOCK_REQUEST_FAIL, UPDATE_STOCK_REQUEST_SUCCESS } from \"../../constants/actions\";\n\nexport default (state = [], action) => {\n  const { type, payload } = action;\n  switch (action.type) {\n    case UPDATE_STOCK_REQUEST_SUCCESS:\n      return {\n        ...state,\n        ...action.payload,\n      };\n      break;\n    case UPDATE_STOCK_REQUEST_FAIL:\n      return payload;\n      break;\n    default:\n      return state;\n  }\n};\n","import {\n  ADD_QTY_MAGASIN_ITEM,\n  ADD_QTY_NUMBER_MAGASIN_ITEM,\n  ADD_TO_MAGASIN,\n  CLEAR_MAGASIN,\n  MINUS_QTY_MAGASIN_ITEM,\n  REMOVE_FROM_MAGASIN,\n  SET_TO_MAGASIN_ITEMS,\n} from \"../constants\";\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default (state = [], action) => {\n  switch (action.type) {\n    case SET_TO_MAGASIN_ITEMS:\n      return action.payload;\n    case ADD_TO_MAGASIN:\n      return state.some((product) => product.id === action.payload.id)\n        ? state\n        : [action.payload, ...state];\n    case REMOVE_FROM_MAGASIN:\n      return state.filter((product) => product.id !== action.payload);\n    case CLEAR_MAGASIN:\n      return [];\n    case ADD_QTY_MAGASIN_ITEM:\n      return state.map((product) => {\n        if (product.id === action.payload.id) {\n          product.quantityParProduct += 1;\n        }\n        return product;\n      });\n\n    // eslint-disable-next-line no-duplicate-case\n    case ADD_QTY_MAGASIN_ITEM:\n      return state.map((product) => {\n        if (product.id === action.payload.id) {\n          product.quantityParProduct = Number(action.payload.qtt);\n        }\n        return product;\n      });\n    case MINUS_QTY_MAGASIN_ITEM:\n      return state.map((product) => {\n        if (product.id === action.payload.id) {\n          product.quantityParProduct -= 1;\n        }\n        return product;\n      });\n      \n      case ADD_QTY_NUMBER_MAGASIN_ITEM:\n        return state.map((product) => {\n          if (product.id === action.payload.id) {\n            product.quantityParProduct = action.payload.value;\n          }\n          return product;\n        });\n    default:\n      return state;\n  }\n};\n","import {\n  ADD_QTY_FROM_MAGASIN_ITEM,\n  ADD_FROM_MAGASIN,\n  CLEAR_FROM_MAGASIN,\n  MINUS_QTY_FROM_MAGASIN_ITEM,\n  REMOVE_FROM_TO_MAGASIN,\n  SET_FROM_MAGASIN_ITEMS,\n  MINUS_QTY_PORTION_FROM_MAGASIN_ITEM,\n  ADD_QTY_PORTION_FROM_MAGASIN_ITEM,\n  ADD_QTY_NUMBER_FROM_MAGASIN_ITEM,\n  ADD_QTY_PORTION_DOSE_UTA_NEW_FROM_MAGASIN_ITEM,\n  MINUS_QTY_PORTION__DOSE_ITA_NEW_FROM_MAGASIN_ITEM,\n  MINUS_QTY_PORTION__DOSE_SOVAX_FROM_MAGASIN_ITEM,\n  ADD_QTY_PORTION_DOSE_SOVAX_FROM_MAGASIN_ITEM,\n  ADD_QTY_PORTION_PHYTO_COND_FROM_MAGASIN_ITEM,\n  MINUS_QTY_PORTION_PHYTO_COND_FROM_MAGASIN_ITEM,ADD_QTY_LITRE_NUMBER_FROM_MAGASIN_ITEM, ADD_TO_QTT_BRUTE\n} from \"../constants\";\nimport {\n  handleMinusProduct,\n  handleSoldQuantityCC,\n} from \"../../functions/function\";\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default (state = [], action) => {\n  switch (action.type) {\n    case SET_FROM_MAGASIN_ITEMS:\n      return action.payload;\n    case ADD_FROM_MAGASIN:\n      return state.some((product) => product.id === action.payload.id)\n        ? state\n        : [action.payload, ...state];\n    case REMOVE_FROM_TO_MAGASIN:\n      return state.filter((product) => product.id !== action.payload);\n    case CLEAR_FROM_MAGASIN:\n      return [];\n    case ADD_QTY_FROM_MAGASIN_ITEM:\n      return state.map((product) => {\n        if (product.id === action.payload.id) {\n          product.quantityParProduct = Number(action.payload.qtt);\n        }\n        return product;\n      });\n      case ADD_TO_QTT_BRUTE:\n        return state.map((product) => {\n          if (product.id == action.payload.id) {\n              product.qttbybrute = Number(action.payload.value);\n          }\n          return product;\n        });\n    \n    case ADD_QTY_PORTION_FROM_MAGASIN_ITEM:\n      return state.map((product) => {\n        if (product.id == action.payload.id) {\n            product.qttByCC = Number(action.payload.value);\n        }\n\n        return product;\n      });\n\n    case ADD_QTY_NUMBER_FROM_MAGASIN_ITEM:\n      return state.map((product) => {\n        if (product.id === action.payload.id) {\n          product.quantityParProduct = Number(action.payload.value);\n        }\n        return product;\n      });\n      case ADD_QTY_LITRE_NUMBER_FROM_MAGASIN_ITEM:\n      return state.map((product) => {\n        if (product.id === action.payload.id) {\n          product.qttbylitre = Number(action.payload.value);\n        }\n        return product;\n      });\n    case ADD_QTY_PORTION_DOSE_UTA_NEW_FROM_MAGASIN_ITEM:\n      return state.map((product) => {\n        if (product.id === action.payload.id) {\n          product.qttyspecificmirror = Number(action.payload.value);\n          product.qttByCC = action.payload.value * 1;\n        }\n        return product;\n      });\n\n    case ADD_QTY_PORTION_DOSE_SOVAX_FROM_MAGASIN_ITEM:\n      return state.map((product) => {\n        if (product.id === action.payload.id) {\n          product.qttyspecificmirror = Number(action.payload.value);\n          product.qttByCC = (action.payload.value * 1) * 2;\n        }\n        return product;\n      });\n    case ADD_QTY_PORTION_PHYTO_COND_FROM_MAGASIN_ITEM:\n      return state.map((product) => {\n        if (product.id == action.payload.id) {\n          product.qttByCC = Number(action.payload.value);\n        }\n        return product;\n      });\n    case MINUS_QTY_PORTION_PHYTO_COND_FROM_MAGASIN_ITEM:\n      return state.map((product) => {\n        if (product.id === action.payload.id) {\n          product.qttByCC -= action.payload.qttccpvente;\n        }\n        return product;\n      });\n    default:\n      return state;\n  }\n};\n","import { SET_VERSION_INFO,SET_IGNORE_VERSION } from '../../constants/actions'\nimport { VERSION_STATUS } from '../../constants/version'\nexport default function (state = {\n    status: VERSION_STATUS.checking,\n    downloadProgress: {\n      total: 0,\n      current: 0,\n    },\n    showModal: false,\n    version: null,\n    desc: '',\n    history: [],\n    ignoreVersion: null\n  }, action) {\n    const { type, payload } = action\n    switch (type) {\n      case SET_VERSION_INFO:\n        return {\n          ...state,\n          ...payload\n        }\n      break;\n      case SET_IGNORE_VERSION: \n        return {\n          ...state,\n          ignoreVersion: payload\n        }\n      break;\n      default:\n        return state\n    }\n  }\n  ","import React, { useEffect, useState } from \"react\";\nimport { useNavigatorOnline } from '@oieduardorabelo/use-navigator-online';\nimport axios from \"axios\";\nimport api, { defaults } from \"../utils/api\";\nconst date = new Date();\n\nfunction Ping() {\n  let { isOnline, isOffline } = useNavigatorOnline();\n  return (\n     <div>\n      {isOnline && <span>We are online!</span>}\n      {isOffline && <span>We are offline!</span>}\n    </div>\n  );\n}\nexport default Ping;\n","import React,{useState,useEffect,useMemo} from 'react'\nimport { Modal, Button } from 'react-bootstrap'\nimport {useSelector,useDispatch} from 'react-redux';\nimport useDownloader from 'react-use-downloader';\nimport {setVersionInfo,setIgnoreVersion} from '../../store/actions/version';\nimport {VERSION_STATUS,version as currentVer} from '../../constants/version';\nimport {compareVer} from '../../utils/version';\nconst VersionItem = ({ version, desc }) => {\n  return (\n    <div style={{ marginBottom: 10 }}>\n      <h4>v{version}</h4>\n      <p>{desc}</p>\n    </div>\n  )\n}\nfunction VersionModal() {\n  const versionInfo = useSelector(state => state.version);\n  const dispatch = useDispatch();\n  const initModal = () => {\n    dispatch(setVersionInfo({\n      showModal: false\n    }))\n  }\n  const [ignoreBtn, setIgnoreBtn] = useState({ text: \"Ignore\", show: true, disabled: false })\n  const [closeBtnText, setCloseBtnText] = useState(\"Close\")\n  const [confirmBtn, setConfirmBtn] = useState({ text: \"Confirmer\", show: true, disabled: false })\n  const [title, setTitle] = useState('')\n  const [downloadModal, setDownloadModal] = useState(false);\n  const [tip, setTip] = useState('')\n  const { size, elapsed, percentage, download, cancel, error, isInProgress } =\n    useDownloader();\n\n  const history = useMemo(() => {\n    if (!versionInfo.history) return []\n    let arr = []\n    for (const ver of versionInfo.history) {\n      if (compareVer(currentVer, ver.version) < 0) arr.push(ver)\n    }\n    return arr\n  }, [versionInfo])\n\n  const handleCancel = () => {\n    dispatch(setVersionInfo({ showModal: false }))\n  }\n\n  const handleIgnore = () => {\n //   dispatch(setIgnoreVersion(versionInfo.version))\n    handleCancel()\n  }\n\n  const handleDownload = async () => {\n    dispatch(setVersionInfo({\n      status: VERSION_STATUS.downloading,\n      downloadProgress: {\n        total: 0,\n        current: 0,\n      },\n    }))\n    const url = \"https://upload.wikimedia.org/wikipedia/commons/4/4d/%D0%93%D0%BE%D0%B2%D0%B5%D1%80%D0%BB%D0%B0_%D1%96_%D0%9F%D0%B5%D1%82%D1%80%D0%BE%D1%81_%D0%B2_%D0%BF%D1%80%D0%BE%D0%BC%D1%96%D0%BD%D1%8F%D1%85_%D0%B2%D1%80%D0%B0%D0%BD%D1%96%D1%88%D0%BD%D1%8C%D0%BE%D0%B3%D0%BE_%D1%81%D0%BE%D0%BD%D1%86%D1%8F.jpg\";\n    //const url = `https://raw.githubusercontent.com/armelgeek/real-veto-react/master/releases/download/lgbva-v${versionInfo.version}.exe`;\n    download(url, `lgbva-v${versionInfo.version}.exe`)\n  }\n  const handleConfirm = () => {\n    switch (versionInfo.status) {\n      case VERSION_STATUS.available:\n        handleDownload()\n        break\n      case VERSION_STATUS.downloaded:\n         handleCancel();\n        break\n      case VERSION_STATUS.failed:\n        handleDownload()\n        break\n\n      case VERSION_STATUS.unknown:\n      default:\n       // openUrl('https://github.com/lyswhut/lx-music-mobile#readme')\n        break\n    }\n    // setVersionInfo({ showModal: false })\n    // Navigation.dismissOverlay(componentId)\n  }\n\n   useEffect(() => {\n    switch (versionInfo.status) {\n      case VERSION_STATUS.available:\n        setTitle(\" Nouvelle version trouve \")\n        setTip('')\n        setIgnoreBtn({ text: \"Ignorer\", show: true, disabled: false })\n        setConfirmBtn({ text: \"Mettre  jour\", show: true, disabled: false })\n        // setTip(\"Update\")\n        setCloseBtnText(\"Fermer\")\n        break\n      case VERSION_STATUS.downloading:\n        setTitle(\" Nouvelle version trouve \")\n        setTip(`Telechargement en cours ...`)\n        if (ignoreBtn.show) setIgnoreBtn({ text: \"Ignorer\", show: false, disabled: true })\n        if (!confirmBtn.disabled) setConfirmBtn({ text: \"Installer\", show: true, disabled: true })\n        setCloseBtnText(\"Background download\")\n        break\n      case VERSION_STATUS.downloaded:\n        setTitle(\" Program update \")\n        setTip('')\n        if (ignoreBtn.show) setIgnoreBtn({ text: \"Ignorer\", show: false, disabled: true })\n        setConfirmBtn({ text: \"Installer\", show: true, disabled: false })\n        setCloseBtnText(\"Fermer\")\n        break\n      case VERSION_STATUS.checking:\n        setTitle(\" Checking for updates \")\n        setTip(\"\")\n        setIgnoreBtn({ text: \"Ignorer\", show: false, disabled: true })\n        setConfirmBtn({ text: \"Mettre  jour\", show: false, disabled: true })\n        setCloseBtnText(\"Fermer\")\n        break\n      case VERSION_STATUS.failed:\n        setTitle(\" Download failed \")\n        setTip(\"The download of the installation package failed. You can try again or go to the project address to manually download the new version update.\")\n        setIgnoreBtn({ text: \"Ignore\", show: true, disabled: false })\n        setConfirmBtn({ text: \"Retry\", show: true, disabled: false })\n        setCloseBtnText(\"Fermer\")\n        break\n      case VERSION_STATUS.unknown:\n        setTitle(\" Failed to get the latest version information \")\n        setTip(\"Failed to obtain the latest version information, it is recommended to manually go to the project address to check if there is a new version\")\n        setIgnoreBtn({ text: \"Ignore\", show: false, disabled: true })\n        setConfirmBtn({ text: \"Project Homepage\", show: true, disabled: false })\n        setCloseBtnText(\"Fermer\")\n        break\n      case VERSION_STATUS.latest:\n      default:\n        setTitle(\" The current version is already the latest \")\n        setTip('')\n        setIgnoreBtn({ text: \"Ignorer\", show: false, disabled: true })\n        setConfirmBtn({ text: \"Mettre  jour\", show: false, disabled: true })\n        setCloseBtnText(\"Fermer\")\n        break\n    }\n  }, [versionInfo])\n\n  return (\n    <>\n      <Modal\n      size=\"sm\"\n      aria-labelledby=\"contained-modal-title-vcenter\"\n      centered\n      show={versionInfo.showModal}>\n        <Modal.Body style={{\n        \tposition: 'relative' \n        }}>\n\t        <div style={{\n\t        \tposition: 'absolute',\n\t        \ttop:3,\n\t        \tright: 8 \n\t        }}>\n\t        \t<button  onClick={handleCancel} className=\"btn btn-xs\">x</button>\n\t        </div>\n        \t<h3 className=\"pb-2\">{title}</h3>\n          \t<h5 className=\"pb-1\">Nouvelle version: {versionInfo.version}</h5>\n            <h5 className=\"pb-1\">Version actuelle: {currentVer}</h5>\n            {\n              versionInfo.desc\n                ? (\n                    <div >\n                      <h5>Description du mis  jour : </h5>\n                      <div className=\"bg-light\" style={{ paddingLeft: 10, marginTop: 5,paddingTop: 3,paddingBottom:3 }}>\n                        <p>{versionInfo.desc}</p>\n                      </div>\n                    </div>\n                  )\n                : null\n            }\n            {\n              history.length\n                ? (\n                    <div>\n                      <h5>History version: </h5>\n                      <div>\n                        {history.map((item, index) => <VersionItem key={index} version={item.version} desc={item.desc} />)}\n                      </div>\n                    </div>\n                  )\n                : null\n            }\n            {versionInfo.status == VERSION_STATUS.downloading && (\n              <div className=\"d-flex flex-row justify-content-between\">\n                \n                  <progress id=\"file\" value={percentage} max=\"100\" style={{\n                      width: '100vh'\n                  }} />\n                  <button style={{\n                    marginLeft: 10\n                  }} onClick={() => cancel()}></button>\n              </div>\n            )}\n        </Modal.Body>\n        <Modal.Footer>\n          <div>\n          {\n            ignoreBtn.show\n              ? (\n                  <button className=\"btn btn-default mx-2 btn-sm\" disabled={ignoreBtn.disabled}  onClick={handleIgnore}>\n                    <h5>{ignoreBtn.text}</h5>\n                  </button>\n                )\n              : null\n          }\n          {\n            confirmBtn.show\n              ? (\n                  <button className=\"btn btn-primary btn-sm\" disabled={confirmBtn.disabled}  onClick={handleConfirm}>\n                    <h5>{isInProgress ? 'Tlechargement en cours  ...' : confirmBtn.text}</h5>\n                  </button>\n                )\n              : null\n          }\n        </div>\n        </Modal.Footer>\n      </Modal>\n    </>\n  )\n}\nexport default VersionModal","import { extendTheme } from '@chakra-ui/react';\nconst theme = extendTheme({\n  fontSizes: {\n    lg: '18px',\n  },\n  fonts: {\n    heading: 'Montserrat',\n    body: 'Montserrat',\n  },\n  styles: {\n    global: (props) => ({\n      \"html, body\": {\n        fontSize: \"sm\",\n        lineHeight: \"tall\",\n      },\n    }),\n  },\n  components: {\n    Button: {\n      baseStyle: {\n        fontWeight: 'bold',\n      },\n      sizes: {\n        xl: {\n          h: '56px',\n          fontSize: 'sm',\n          px: '13px',\n        },\n      },\n      variants: {\n        'with-shadow': {\n          bg: '#2c5282',\n        },\n        solid: props => ({\n          bg: props.colorMode === 'dark' ? '#2c5282' : '#2c5282',\n        }),\n      },\n    },\n  },\n});\nexport default theme;","import React from \"react\";\n/** @jsxImportSource @welldone-software/why-did-you-render */\n/**if (process.env.NODE_ENV === 'development') {\n  const whyDidYouRender = require('@welldone-software/why-did-you-render');\n  whyDidYouRender(React, {\n    trackAllPureComponents: true,\n    titleColor: \"green\",\n    diffNameColor: \"darkturquoise\"\n  });\n}**/\nimport './index.css';\nimport ReactDOM from \"react-dom\";\nimport { AuthProvider } from 'react-auth-kit'\nimport reportWebVitals from \"./reportWebVitals\";\nimport Routes from \"./Routes\";\nimport { Provider } from \"react-redux\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { persistor, store } from \"./store\";\nimport Ping from \"./components/Ping\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport { ChakraProvider } from \"@chakra-ui/react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"@fontsource/montserrat/400.css\";\nimport \"./@adminlte/adminlte/css/adminlte.css\";\nimport 'react-dates/lib/css/_datepicker.css';\nimport 'react-dates/initialize';\nimport 'react-month-picker-input/dist/react-month-picker-input.css'\nimport VersionModal from './components/version/VersionModal';\nimport theme from \"./theme\";\nReactDOM.render(\n  <ChakraProvider theme={theme}>\n    <Provider store={store}>\n    <VersionModal/>\n    <ToastContainer\n              position=\"top-right\"\n              autoClose={5000}\n              limit={2}\n              hideProgressBar={false}\n              newestOnTop\n              closeOnClick\n              rtl={false}\n              pauseOnFocusLoss\n              draggable\n              pauseOnHover\n              theme=\"dark\"\n            />\n      <PersistGate loading={null} persistor={persistor}>\n      <AuthProvider authType = {'localstorage'}\n                  authName={'_auth_veto'}\n      >\n          <Routes />\n        </AuthProvider>\n        {/**<Ping />**/}\n      </PersistGate>\n    </Provider>\n  </ChakraProvider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}